import{c as V,b as R,_ as F}from"./DXxYJZgz.js";import{_ as S}from"./DpyZvHBp.js";import{d as $,o as u,c as f,a as l,f as d,w as h,l as D,k as a,n as k,t as g,e as B,b as M,a2 as j,h as C,aH as O,i as w,j as z,X as E}from"./Dbiv707D.js";import{B as H}from"./BrbbRZFP.js";import{B as K}from"./CjoTdGiq.js";import{B as P}from"./CdkHU8iM.js";const U={class:"list"},X={class:"search"},q={class:"left"},G={class:"title-wrapper"},J={class:"item-title"},Q={class:"name"},W={key:0,class:"text-sm text-gray-500"},Y={key:0,class:"item-sub-title"},Z={class:"item-translate"},tt={class:"right"},et=$({__name:"ArticleList",props:{list:{default:()=>[]},showTranslate:{type:Boolean,default:!0},showDesc:{type:Boolean,default:!1}},emits:["click"],setup(v,{expose:y,emit:L}){const c=v,T=L;let o=w(""),b=z(()=>{if(o.value){let s=o.value.toLowerCase(),i=s.split(" ").filter(e=>e),_=c.list.filter(e=>i.some(n=>e.title.toLowerCase().includes(n)||e.titleTranslate.toLowerCase().includes(n)));try{let e=Number(s);isNaN(e)||e-1<c.list.length&&_.push(c.list[e-1])}catch{}return _.sort((e,n)=>{const t=e.title.toLowerCase().includes(s),r=n.title.toLowerCase().includes(s);return t&&!r?-1:!t&&r?1:0})}else return c.list});const m=w(null);function I(){m.value?.scrollToBottom()}function x(s){m.value?.scrollToItem(s)}const{isArticleCollect:p,toggleArticleCollect:A}=V();return y({scrollToBottom:I,scrollToItem:x}),(s,i)=>{const _=S,e=R,n=F;return u(),f("div",U,[l("div",X,[d(K,{clearable:"",modelValue:a(o),"onUpdate:modelValue":i[0]||(i[0]=t=>D(o)?o.value=t:o=t)},{subfix:h(()=>[d(_,{class:"text-lg text-gray"})]),_:1},8,["modelValue"])]),d(H,O({ref_key:"listRef",ref:m,onClick:i[1]||(i[1]=t=>T("click",t)),list:a(b)},s.$attrs),{default:h(({item:t,index:r,active:N})=>[l("div",{class:k(["common-list-item",{active:N}])},[l("div",q,[l("div",G,[l("div",J,[l("div",Q,[r!=null&&!a(o)?(u(),f("span",W,g(t.id==-1?"":r-(c.showDesc?1:0)+"."),1)):B("",!0),M(" "+g(t.title),1)])]),t.titleTranslate&&v.showTranslate?(u(),f("div",Y,[l("div",Z,g(` ${t.titleTranslate}`),1)])):B("",!0)])]),l("div",tt,[d(P,{class:k(a(p)(t)?"fill":"collect"),onClick:j(st=>a(A)(t),["stop"]),title:a(p)(t)?s.$t("uncollect"):s.$t("collect")},{default:h(()=>[a(p)(t)?(u(),C(n,{key:1})):(u(),C(e,{key:0}))]),_:2},1032,["class","onClick","title"])])],2)]),_:1},16,["list"])])}}}),rt=Object.assign(E(et,[["__scopeId","data-v-57bf482a"]]),{__name:"ArticleList"});export{rt as A};
