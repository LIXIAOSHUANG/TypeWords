const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D_JQWYvL.js","./Dbiv707D.js","./entry.EYAiiZOw.css","./C3NBTwW5.js","./B55v04t5.js","./BaseButton.DGhsrd12.css","./Dialog.D1qJRpPK.css"])))=>i.map(i=>d[i]);
import{Y as j,o as y,c as S,a,d as W,i as w,V as ae,x as he,t as d,e as q,f as e,F as oe,r as xe,b as I,l as D,k as n,j as Z,X as ne,W as se,b5 as we,b6 as be,au as ee,aQ as U,b7 as Ve,I as Y,aU as ye,aV as ie,R as ue,h as ke,w as L,aW as G,aX as re,aL as Se,aY as de,Z as Ce,z as De,a5 as Pe,b8 as $e,b9 as te,ba as Be,ad as ce}from"./Dbiv707D.js";import{_ as Ie}from"./BpE2qKjq.js";import{B}from"./B55v04t5.js";import{C as J}from"./BgBSFNGi.js";import{S as le}from"./B_h_y2PR.js";import{_ as Ne}from"./DpyZvHBp.js";import{M as ze}from"./DByA9CbE.js";import{B as M}from"./CdkHU8iM.js";import{P as Le}from"./DDg15Rfs.js";import{E as Te}from"./pfyoj1Bm.js";import{_ as Ue}from"./BlXXf5q_.js";import{B as O}from"./CjoTdGiq.js";import{D as Me}from"./J-RNml09.js";import Ee from"./D_JQWYvL.js";import{W as Re}from"./DWcw5mN7.js";import{I as Oe}from"./B__SE3Na.js";const je={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Ae(c,r){return y(),S("svg",je,[...r[0]||(r[0]=[a("path",{fill:"currentColor",d:"M13.73 14.436a6.5 6.5 0 1 1 .707-.707l3.416 3.418a.5.5 0 0 1-.637.764l-.07-.057zm-.71-.71q.385-.32.707-.706a5.5 5.5 0 1 0-.707.707"},null,-1)])])}const qe=j({name:"fluent-search20-regular",render:Ae}),We={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Fe(c,r){return y(),S("svg",We,[...r[0]||(r[0]=[a("path",{fill:"currentColor",d:"M2.354 7.354L4.998 4.71V16.5a.5.5 0 0 0 1 0V4.705l2.649 2.65a.5.5 0 0 0 .707-.708l-3.49-3.49l-.01-.01A.5.5 0 0 0 5.5 3h-.002a.5.5 0 0 0-.383.179L1.646 6.647a.5.5 0 1 0 .708.707m15.293 5.292l-2.644 2.644V3.5a.5.5 0 0 0-1 0v11.795l-2.65-2.65a.5.5 0 0 0-.707.708l3.49 3.49l.01.01a.5.5 0 0 0 .355.147h.002a.5.5 0 0 0 .383-.179l3.468-3.468a.5.5 0 1 0-.707-.707"},null,-1)])])}const Ke=j({name:"fluent-arrow-sort20-regular",render:Fe}),He={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Qe(c,r){return y(),S("svg",He,[...r[0]||(r[0]=[a("path",{fill:"currentColor",d:"M10 2.5a.5.5 0 0 1 .5.5v6.5H17a.5.5 0 0 1 0 1h-6.5V17a.5.5 0 0 1-1 0v-6.5H3a.5.5 0 0 1 0-1h6.5V3a.5.5 0 0 1 .5-.5"},null,-1)])])}const Xe=j({name:"fluent-add20-regular",render:Qe}),Ye={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function Ze(c,r){return y(),S("svg",Ye,[...r[0]||(r[0]=[a("path",{fill:"currentColor",d:"M214 112v96a14 14 0 0 1-14 14H56a14 14 0 0 1-14-14v-96a14 14 0 0 1 14-14h24a6 6 0 0 1 0 12H56a2 2 0 0 0-2 2v96a2 2 0 0 0 2 2h144a2 2 0 0 0 2-2v-96a2 2 0 0 0-2-2h-24a6 6 0 0 1 0-12h24a14 14 0 0 1 14 14M92.24 68.24L122 38.49V136a6 6 0 0 0 12 0V38.49l29.76 29.75a6 6 0 1 0 8.48-8.48l-40-40a6 6 0 0 0-8.48 0l-40 40a6 6 0 1 0 8.48 8.48"},null,-1)])])}const Ge=j({name:"ph-export-light",render:Ze}),Je={viewBox:"0 0 21 21",width:"1.2em",height:"1.2em"};function et(c,r){return y(),S("svg",Je,[...r[0]||(r[0]=[a("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M9.5 3.5h-4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-10"}),a("path",{d:"m13.5 10.5l-3 3l-3-3"}),a("path",{d:"M17.5 3.5h-4a3 3 0 0 0-3 3v7"})],-1)])])}const tt=j({name:"system-uicons-import",render:et}),lt={key:0,class:"pagination"},at={class:"pagination-container"},ot={key:0,class:"total text-base"},nt=["disabled"],st={class:"flex items-center"},it={class:"w-12"},ut={class:"text-base"},rt=["disabled"],dt={key:1,class:"sizes"},ct=["value"],mt=["value"],pt={class:"flex items-center gap-1 ml-2"},vt={class:"w-15"},ft=W({__name:"Pagination",props:{currentPage:{default:1},pageSize:{default:10},pageSizes:{default:()=>[10,20,30,40,50,100]},layout:{default:"prev, pager, next"},total:null,hideOnSinglePage:{type:Boolean,default:!1}},emits:["update:currentPage","update:pageSize","size-change","current-change"],setup(c,{emit:r}){const k=c,t=r,m=w(k.currentPage),p=w(""),f=w(k.pageSize),v=Z(()=>Math.max(1,Math.ceil(k.total/f.value))),_=w(5),h=Z(()=>k.hideOnSinglePage?v.value>1:!0);function b(o){Number(o)>v.value&&(o=v.value),Number(o)<=0&&(o=1),m.value=o,t("update:currentPage",Number(o)),t("current-change",Number(o))}function i(){let o=Number(p.value);if(o>v.value){let l=Math.floor((o-1)/f.value)+1;b(l)}else b(o)}function C(o){f.value=o,t("update:pageSize",o),t("size-change",o),P();const l=Math.ceil(k.total/o);m.value>l&&(m.value=l,t("update:currentPage",l),t("current-change",l))}function P(){setTimeout(()=>{const o=document.querySelector(".pagination");if(!o)return;const l=o.offsetWidth,N=38,x=l-120,F=Math.max(3,Math.floor(x/N)-2);_.value=F},0)}ae(()=>{window.addEventListener("resize",P),P()}),he(()=>{window.removeEventListener("resize",P)});function T(){const o=m.value-1;o>=1&&b(o)}function s(){const o=m.value+1;o<=v.value&&b(o)}return(o,l)=>{const N=Ue;return h.value?(y(),S("div",lt,[a("div",at,[c.layout.includes("total")?(y(),S("span",ot,d(o.$t("total"))+d(c.total)+d(o.$t("total_items")),1)):q("",!0),a("button",{class:"btn-prev",disabled:m.value<=1,onClick:T},[e(N)],8,nt),a("div",st,[a("div",it,[e(O,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=x=>m.value=x),onEnter:l[1]||(l[1]=x=>b(m.value)),class:"text-center"},null,8,["modelValue"])]),l[4]||(l[4]=a("span",{class:"mx-2"},"/",-1)),a("span",ut,d(v.value),1)]),a("button",{class:"btn-next",disabled:m.value>=v.value,onClick:s},[e(N,{class:"transform-rotate-180"})],8,rt),c.layout.includes("sizes")?(y(),S("div",dt,[a("select",{value:f.value,onChange:l[2]||(l[2]=x=>C(Number(x.target.value)))},[(y(!0),S(oe,null,xe(c.pageSizes,x=>(y(),S("option",{key:x,value:x},d(x)+d(o.$t("items_per_page")),9,mt))),128))],40,ct)])):q("",!0),a("div",pt,[I(d(o.$t("jump_to"))+" ",1),a("div",vt,[e(O,{placeholder:o.$t("page_or_index"),modelValue:n(p),"onUpdate:modelValue":l[3]||(l[3]=x=>D(p)?p.value=x:null),onEnter:i,class:"text-center"},null,8,["placeholder","modelValue"])])])])])):q("",!0)}}}),_t=Object.assign(ne(ft,[["__scopeId","data-v-7d320d1f"]]),{__name:"Pagination"});function z(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!ye(c)}const gt=W({__name:"BaseTable",props:{loading:{type:Boolean,default:!0},showToolbar:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!0},exportLoading:{type:Boolean,default:!1},importLoading:{type:Boolean,default:!1},request:{type:Function},list:null},emits:["add","click","import","export","del","sort"],setup(c,{expose:r,emit:k}){const{t}=se(),m=c,p=k;let f=w(),v=w(!1);function _(){Y(()=>{f.value?.scrollTo(0,f.value.scrollHeight)})}function h(){Y(()=>{f.value?.scrollTo(0,0)})}function b(g){Y(()=>{f.value?.children[g]?.scrollIntoView({block:"center",behavior:"smooth"})})}let i=w([]),C=Z(()=>!!i.value.length);function P(g){let $=i.value.findIndex(R=>R===g.id);$>-1?i.value.splice($,1):i.value.push(g.id)}function T(){C.value?i.value=[]:i.value=u.value.list.map(g=>g.id)}let s=w(!1),o=w(!1),l=w(!1);const N=()=>l.value=!1;function x(g){[U.reverse,U.random].includes(g)?p("sort",g,u.value.pageNo,u.value.pageSize):p("sort",g,1,u.value.total),s.value=!1}function F(){p("del",i.value),i.value=[]}const me=we();r({scrollToBottom:_,scrollToItem:b,closeImportDialog:N,getData:E});let A=w(!1),u=w({pageNo:1,pageSize:50,total:0,list:[],sortType:null,searchKey:""});function pe(g){u.value.searchKey||(u.value.pageNo=1),u.value.searchKey=g,E()}function ve(){u.value.searchKey="",o.value=!1,E()}async function E(){if(m.request){A.value=!0;let{list:g,total:$}=await m.request(u.value);u.value.list=g,u.value.total=$,A.value=!1}else u.value.list=m.list??[]}function fe(g){u.value.pageNo=g,E(),h()}return ae(async()=>{E()}),()=>{let g,$,R,K,H,Q,X;const _e=V=>e(J,{modelValue:i.value.includes(V.id),onChange:()=>P(V),size:"large"},null);return e("div",{class:"base-table flex flex-col gap-3"},[m.showToolbar&&e("div",null,[o.value?e("div",{class:"flex gap-4"},[e(O,{clearable:!0,modelValue:u.value.searchKey,"onUpdate:modelValue":be(V=>pe(V),500),class:"flex-1",autofocus:!0},{subfix:()=>e(Ne,{class:"text-lg text-gray"},null)}),e(B,{onClick:ve},z(g=t("cancel"))?g:{default:()=>[g]})]):e("div",{class:"flex justify-between items-center"},[v.value?e("div",{class:"flex gap-2 items-center"},[e(J,{disabled:!u.value.list.length,onChange:()=>T(),modelValue:C.value,size:"large"},null),e("span",null,[i.value.length,I(" / "),u.value.total])]):e("div",null,[u.value.total,t("total_items")]),e("div",{class:"flex gap-2 relative"},[i.value.length&&v.value?e(Le,{title:t("confirm_delete_selected"),onConfirm:F},{default:()=>[e(B,{type:"info"},z($=t("confirm"))?$:{default:()=>[$]})]}):null,e(M,{onClick:()=>v.value=!v.value,title:t("batch_delete")},{default:()=>[e(Me,null,null)]}),e(M,{onClick:()=>l.value=!0,title:t("import")},{default:()=>[e(tt,null,null)]}),e(M,{onClick:()=>p("export"),title:t("export")},{default:()=>[m.exportLoading?e(ee,null,null):e(Ge,null,null)]}),e(M,{onClick:()=>p("add"),title:t("add_word")},{default:()=>[e(Xe,null,null)]}),e(M,{disabled:!u.value.list.length,title:t("change_order"),onClick:()=>s.value=!s.value},{default:()=>[e(Ke,null,null)]}),e(M,{disabled:!u.value.list.length,onClick:()=>o.value=!o.value,title:t("search")},{default:()=>[e(qe,null,null)]}),e(ze,{modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,style:"width: 8rem;"},{default:()=>[e("div",{class:"mini-row-title"},[t("list_order_setting")]),e("div",{class:"flex flex-col gap2 btn-no-margin"},[e(B,{onClick:()=>x(U.reverse)},z(R=t("reverse_current_page"))?R:{default:()=>[R]}),e(B,{onClick:()=>x(U.reverseAll)},z(K=t("reverse_all"))?K:{default:()=>[K]}),e("div",{class:"line"},null),e(B,{onClick:()=>x(U.random)},z(H=t("random_current_page"))?H:{default:()=>[H]}),e(B,{onClick:()=>x(U.randomAll)},z(Q=t("random_all"))?Q:{default:()=>[Q]})])]})])])]),e("div",{class:"relative flex-1 overflow-hidden"},[u.value.list.length?e("div",{class:"overflow-auto h-full",ref:V=>f.value=V},[u.value.list.map((V,ge)=>e("div",{class:"list-item-wrapper",key:V.word},[me.default({checkbox:v.value?_e:()=>{},item:V,index:u.value.pageSize*(u.value.pageNo-1)+ge+1})]))]):A.value?null:e(Te,null,null),A.value&&e("div",{class:"absolute top-0 left-0 bottom-0 right-0 bg-black bg-op-10  center text-4xl"},[e(ee,{color:"gray"},null)])]),m.showPagination&&e("div",{class:"flex justify-end"},[e(_t,{currentPage:u.value.pageNo,"onUpdate:current-page":fe,pageSize:u.value.pageSize,"onUpdate:page-size":V=>u.value.pageSize=V,pageSizes:[20,50,100,200],layout:"total,sizes",total:u.value.total},null)]),e(Ee,{modelValue:l.value,"onUpdate:modelValue":N,title:t("import_tutorial")},{default:()=>[e("div",{className:"w-100 p-4 pt-0"},[e("div",null,[t("import_follow_template")]),e("div",{class:"color-red"},[t("import_word_required")]),e("div",null,[t("import_translation_hint")]),e("div",null,[t("import_example_hint"),e("span",{class:"color-red"},[t("two")]),t("lines")]),e("div",null,[t("import_phrase_hint"),e("span",{class:"color-red"},[t("two")]),t("lines")]),e("div",null,[t("import_other_hint")]),e("div",{class:"mt-6"},[t("template_download"),I("："),e("a",{href:`${Ve.RESOURCE_URL}/libs/单词导入模板.xlsx`},[t("word_import_template")])]),e("div",{class:"mt-4"},[e(B,{onClick:()=>{document.querySelector("#upload-trigger").click()},loading:m.importLoading},z(X=t("import"))?X:{default:()=>[X]}),e("input",{id:"upload-trigger",type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:V=>p("import",V),class:"w-0 h-0 opacity-0"},null)])])]})])}}}),ht=Object.assign(gt,{__name:"BaseTable"}),xt={class:"py-4 h-80vh"},wt=W({__name:"ChangeLastPracticeIndexDialog",props:{modelValue:{},modelModifiers:{}},emits:G(["ok"],["update:modelValue"]),setup(c){const r=re(()=>de(()=>import("./D_JQWYvL.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),k=ie(c,"modelValue"),t=ue();async function m({pageNo:p,pageSize:f,searchKey:v}){if(!Se.CAN_REQUEST){let _=t.editDict.words,h=_.length;return _=_.slice((p-1)*f,(p-1)*f+f),{list:_,total:h}}}return(p,f)=>(y(),ke(n(r),{modelValue:k.value,"onUpdate:modelValue":f[0]||(f[0]=v=>k.value=v),padding:"",title:"修改学习进度"},{default:L(()=>[a("div",xt,[e(ht,{class:"h-full",request:m,"show-toolbar":!1},{default:L(v=>[e(Re,{onClick:_=>p.$emit("ok",v.index-1),item:v.item,"show-translate":!1,index:v.index,"show-option":!1},null,8,["onClick","item","index"])]),_:1})])]),_:1},8,["modelValue"]))}}),bt=Object.assign(wt,{__name:"ChangeLastPracticeIndexDialog"}),Vt={class:"target-modal color-main",id:"mode"},yt={class:"text-center mt-4"},kt={class:"target-number mx-2"},St={class:"target-number mx-2"},Ct={class:"text-center mt-4 mb-8 flex gap-1 items-end justify-center"},Dt={class:"w-20"},Pt={class:"w-16"},$t={class:"target-number mx-2"},Bt={class:"mb-4 space-y-2"},It={class:"flex items-center gap-space"},Nt={class:"flex items-center gap-1 w-20 break-keep"},zt={key:0,class:"flex"},Lt={class:"text-sm text-gray-500"},Tt={class:"flex mb-4 gap-space"},Ut={class:"shrink-0 w-20"},Mt={class:"flex gap-space"},Et={class:"shrink-0 w-20"},Rt={class:"flex-1"},Ot={class:"flex items-center"},jt={class:"text-sm"},At=W({__name:"PracticeSettingDialog",props:G({showLeftOption:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:G(["ok"],["update:modelValue"]),setup(c,{emit:r}){const k=re(()=>de(()=>import("./D_JQWYvL.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),{t}=se(),m=Ce(),p=ue(),f=ie(c,"modelValue"),v=r;let _=w(!1),h=w(0),b=w(0),i=w(0),C=w(!1);function P(){p.editDict.perDayStudyNumber=Number(h.value),p.editDict.lastLearnIndex=Number(i.value),m.wordReviewRatio=b.value,m.disableShowPracticeSettingDialog=C.value,v("ok")}return De(()=>f.value,T=>{T&&(p.editDict.id?(h.value=p.editDict.perDayStudyNumber,i.value=p.editDict.lastLearnIndex,b.value=m.wordReviewRatio,C.value=m.disableShowPracticeSettingDialog):Pe.warning(t("please_select_dict")))}),(T,s)=>{const o=Ie;return y(),S(oe,null,[e(n(k),{modelValue:f.value,"onUpdate:modelValue":s[7]||(s[7]=l=>f.value=l),title:n(t)("learning_settings"),padding:"",footer:!0,onOk:P},$e({default:L(()=>[a("div",Vt,[a("div",yt,[a("span",null,[I(d(n(t)("total")),1),a("span",kt,d(n(p).editDict.length),1),I(d(n(t)("words_count"))+"，",1)]),a("span",null,[I(d(n(t)("estimated")),1),a("span",St,d(n(Be)(n(p).editDict.length-n(i),n(h))),1),I(d(n(t)("days_to_complete")),1)])]),a("div",Ct,[a("span",null,d(n(t)("from_word")),1),a("div",Dt,[e(O,{class:"target-number",modelValue:n(i),"onUpdate:modelValue":s[0]||(s[0]=l=>D(i)?i.value=l:i=l)},null,8,["modelValue"])]),a("span",null,d(n(t)("start_daily")),1),a("div",Pt,[e(O,{class:"target-number",modelValue:n(h),"onUpdate:modelValue":s[1]||(s[1]=l=>D(h)?h.value=l:h=l)},null,8,["modelValue"])]),a("span",null,d(n(t)("new_words")),1),a("span",null,"，"+d(n(t)("review")),1),a("div",$t,d(n(h)*n(b)),1),a("span",null,d(n(t)("words")),1)]),a("div",Bt,[a("div",It,[e(te,{title:n(t)("review_ratio_tooltip")},{default:L(()=>[a("div",Nt,[a("span",null,d(n(t)("review_ratio")),1),e(o)])]),_:1},8,["title"]),e(Oe,{min:0,max:10,modelValue:n(b),"onUpdate:modelValue":s[2]||(s[2]=l=>D(b)?b.value=l:b=l)},null,8,["modelValue"])]),n(b)?q("",!0):(y(),S("div",zt,[s[10]||(s[10]=a("div",{class:"w-23 flex-shrink-0"},null,-1)),a("div",Lt,[a("div",null,d(n(t)("review_ratio_notice_1")),1),a("div",null,d(n(t)("review_ratio_notice_2")),1)])]))]),a("div",Tt,[a("span",Ut,d(n(t)("daily_learning")),1),e(le,{min:10,step:10,"show-text":"",class:"mt-1",max:200,modelValue:n(h),"onUpdate:modelValue":s[3]||(s[3]=l=>D(h)?h.value=l:h=l)},null,8,["modelValue"])]),a("div",Mt,[a("span",Et,d(n(t)("learning_progress")),1),a("div",Rt,[e(le,{min:0,step:10,"show-text":"",class:"my-1",max:n(p).editDict.words.length,modelValue:n(i),"onUpdate:modelValue":s[4]||(s[4]=l=>D(i)?i.value=l:i=l)},null,8,["max","modelValue"]),e(B,{onClick:s[5]||(s[5]=l=>D(_)?_.value=!0:_=!0)},{default:L(()=>[I(d(n(t)("select_from_dict")),1)]),_:1})])])])]),_:2},[c.showLeftOption?{name:"footer-left",fn:L(()=>[a("div",Ot,[e(J,{modelValue:n(C),"onUpdate:modelValue":s[6]||(s[6]=l=>D(C)?C.value=l:C=l)},null,8,["modelValue"]),e(te,{title:n(t)("change_in_settings")},{default:L(()=>[a("span",jt,d(n(t)("keep_default_no_show")),1)]),_:1},8,["title"])])]),key:"0"}:void 0]),1032,["modelValue","title"]),e(bt,{modelValue:n(_),"onUpdate:modelValue":s[8]||(s[8]=l=>D(_)?_.value=l:_=l),onOk:s[9]||(s[9]=l=>{D(i)?i.value=l:i=l,D(_)?_.value=!1:_=!1})},null,8,["modelValue"])],64)}}}),nl=Object.assign(ne(At,[["__scopeId","data-v-54d70e4c"]]),{__name:"PracticeSettingDialog"});function sl(c,r){return ce("dict/copyOfficialDict",r,c,"post")}function il(c,r){return ce("dict/delete",r,c,"post")}export{ht as B,bt as C,nl as P,sl as c,il as d};
