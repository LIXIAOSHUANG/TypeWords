import{z as v,bx as x,K as D,bk as N,by as O,i as F,H as G,D as p,L as H,C as U,I as R,l as W}from"./CL2Zm6Gn.js";function C(e){return H()?(U(e),!0):!1}function K(){const e=new Set,t=r=>{e.delete(r)};return{on:r=>{e.add(r);const i=()=>t(r);return C(i),{off:i}},off:t,trigger:(...r)=>Promise.all(Array.from(e).map(i=>i(...r))),clear:()=>{e.clear()}}}const z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=()=>{};function L(...e){if(e.length!==1)return D(...e);const t=e[0];return typeof t=="function"?N(O(()=>({get:t,set:E}))):F(t)}function S(e,t=!1,o="Timeout"){return new Promise((a,m)=>{setTimeout(t?()=>m(o):a,e)})}function M(e,...t){return t.some(o=>o in e)}function k(e,t=!1){function o(n,{flush:u="sync",deep:c=!1,timeout:f,throwOnTimeout:T}={}){let s=null;const b=[new Promise(P=>{s=v(e,d=>{n(d)!==t&&(s?s():R(()=>s?.()),P(d))},{flush:u,deep:c,immediate:!0})})];return f!=null&&b.push(S(f,T).then(()=>p(e)).finally(()=>s?.())),Promise.race(b)}function a(n,u){if(!W(n))return o(d=>d===n,u);const{flush:c="sync",deep:f=!1,timeout:T,throwOnTimeout:s}=u??{};let l=null;const P=[new Promise(d=>{l=v([e,n],([B,A])=>{t!==(B===A)&&(l?l():R(()=>l?.()),d(B))},{flush:c,deep:f,immediate:!0})})];return T!=null&&P.push(S(T,s).then(()=>p(e)).finally(()=>(l?.(),p(e)))),Promise.race(P)}function m(n){return o(u=>!!u,n)}function r(n){return a(null,n)}function i(n){return a(void 0,n)}function w(n){return o(Number.isNaN,n)}function g(n,u){return o(c=>{const f=Array.from(c);return f.includes(n)||f.includes(p(n))},u)}function h(n){return y(1,n)}function y(n=1,u){let c=-1;return o(()=>(c+=1,c>=n),u)}return Array.isArray(p(e))?{toMatch:o,toContains:g,changed:h,changedTimes:y,get not(){return k(e,!t)}}:{toMatch:o,toBe:a,toBeTruthy:m,toBeNull:r,toBeNaN:w,toBeUndefined:i,changed:h,changedTimes:y,get not(){return k(e,!t)}}}function V(e){return k(e)}function $(e,t,o={}){const{immediate:a=!0,immediateCallback:m=!1}=o,r=G(!1);let i;function w(){i&&(clearTimeout(i),i=void 0)}function g(){r.value=!1,w()}function h(...y){m&&e(),w(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=void 0,e(...y)},p(t))}return a&&(r.value=!0,z&&h()),C(g),{isPending:x(r),start:h,stop:g}}function j(e,t,o){return v(e,t,{...o,once:!0})}export{K as a,V as b,M as c,z as i,L as t,$ as u,j as w};
