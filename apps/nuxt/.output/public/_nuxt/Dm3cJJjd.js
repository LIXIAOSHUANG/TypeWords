import{d as N,i as c,z as j,V as F,I as O,o as p,c as h,a as l,a2 as x,n as P,bo as k,k as v,t as m,e as L,X as U}from"./CL2Zm6Gn.js";const W={class:"w-full flex"},q={class:"flex-1"},A=["aria-valuemin","aria-valuemax","aria-valuenow","aria-disabled"],G={key:0,class:"text flex justify-between text-sm color-gray"},H={key:0,class:"w-10 pl-5"},J=N({__name:"Slider",props:{modelValue:null,min:null,max:null,step:null,disabled:{type:Boolean},showText:{type:Boolean},showValue:{type:Boolean},unit:null},emits:["update:modelValue"],setup(i,{emit:S}){const n=i,B=S,o=n.min??0,u=n.max??100,D=n.step??1,f=c(null),s=c(!1),_=c(0),g=c(0),a=c(n.modelValue);j(()=>n.modelValue,e=>{a.value=e});const b=e=>(e-o)/(u-o)*100;function X(e){if(Math.floor(e)===e)return 0;const t=e.toString();if(t.indexOf("e-")>=0){const[,w]=t.split("e-");return parseInt(w,10)}return t.split(".")[1]?.length||0}function C(e,t){const w=X(t);return Number((Math.round(e/t)*t).toFixed(w))}const z=e=>{let t=o+(u-o)*e/100;return t=C(t,D),t<o&&(t=o),t>u&&(t=u),t},r=()=>{if(!f.value)return;const e=f.value.getBoundingClientRect();_.value=e.left,g.value=e.width},d=e=>{let t=(e-_.value)/g.value*100;t<0&&(t=0),t>100&&(t=100),a.value=z(t),B("update:modelValue",a.value)},R=e=>{n.disabled||(e.preventDefault(),r(),s.value=!0,d(e.pageX),window.addEventListener("mousemove",V),window.addEventListener("mouseup",T))},I=e=>{n.disabled||(r(),s.value=!0,d(e.touches[0].pageX),window.addEventListener("touchmove",y),window.addEventListener("touchend",E))},V=e=>{s.value&&(e.preventDefault(),d(e.pageX))},y=e=>{s.value&&d(e.touches[0].pageX)},T=()=>{s.value&&(s.value=!1,window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",T))},E=()=>{s.value&&(s.value=!1,window.removeEventListener("touchmove",y),window.removeEventListener("touchend",E))},M=e=>{n.disabled||(r(),d(e.pageX))};return F(()=>{O(()=>{r(),window.addEventListener("resize",r)})}),(e,t)=>(p(),h("div",W,[l("div",q,[l("div",{ref_key:"sliderRef",ref:f,class:P(["custom-slider",{"is-disabled":i.disabled}]),onMousedown:M,onTouchstart:x(M,["prevent"])},[t[0]||(t[0]=l("div",{class:"custom-slider__track"},null,-1)),l("div",{class:"custom-slider__fill",style:k({width:b(a.value)+"%"})},null,4),l("div",{class:"custom-slider__thumb",style:k({left:b(a.value)+"%"}),onMousedown:x(R,["stop","prevent"]),onTouchstart:x(I,["stop","prevent"]),tabindex:"0",role:"slider","aria-valuemin":v(o),"aria-valuemax":v(u),"aria-valuenow":a.value,"aria-disabled":i.disabled},null,44,A)],34),i.showText?(p(),h("div",G,[l("span",null,m(v(o)),1),l("span",null,m(v(u)),1)])):L("",!0)]),i.showValue?(p(),h("div",H,m(a.value)+m(i.unit),1)):L("",!0)]))}}),Q=Object.assign(U(J,[["__scopeId","data-v-90f946de"]]),{__name:"Slider"});export{Q as S};
