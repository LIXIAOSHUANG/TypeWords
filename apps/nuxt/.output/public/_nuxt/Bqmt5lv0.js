import{z as P,bx as A,K as x,bk as D,by as N,i as O,H as F,D as p,L as G,C as H,I as B,l as U}from"./Dbiv707D.js";function S(e,n){return G()?(H(e,n),!0):!1}function I(){const e=new Set,n=r=>{e.delete(r)};return{on:r=>{e.add(r);const i=()=>n(r);return S(i),{off:i}},off:n,trigger:(...r)=>Promise.all(Array.from(e).map(i=>i(...r))),clear:()=>{e.clear()}}}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=()=>{};function K(...e){if(e.length!==1)return x(...e);const n=e[0];return typeof n=="function"?D(N(()=>({get:n,set:z}))):O(n)}function R(e,n=!1,o="Timeout"){return new Promise((a,d)=>{setTimeout(n?()=>d(o):a,e)})}function L(e,...n){return n.some(o=>o in e)}function b(e,n=!1){function o(t,{flush:u="sync",deep:f=!1,timeout:c,throwOnTimeout:T}={}){let l=null;const s=[new Promise(v=>{l=P(e,m=>{t(m)!==n&&(l?l():B(()=>l?.()),v(m))},{flush:u,deep:f,immediate:!0})})];return c!=null&&s.push(R(c,T).then(()=>p(e)).finally(()=>l?.())),Promise.race(s)}function a(t,u){if(!U(t))return o(m=>m===t,u);const{flush:f="sync",deep:c=!1,timeout:T,throwOnTimeout:l}=u??{};let s=null;const v=[new Promise(m=>{s=P([e,t],([k,C])=>{n!==(k===C)&&(s?s():B(()=>s?.()),m(k))},{flush:f,deep:c,immediate:!0})})];return T!=null&&v.push(R(T,l).then(()=>p(e)).finally(()=>(s?.(),p(e)))),Promise.race(v)}function d(t){return o(u=>!!u,t)}function r(t){return a(null,t)}function i(t){return a(void 0,t)}function g(t){return o(Number.isNaN,t)}function w(t,u){return o(f=>{const c=Array.from(f);return c.includes(t)||c.includes(p(t))},u)}function y(t){return h(1,t)}function h(t=1,u){let f=-1;return o(()=>(f+=1,f>=t),u)}return Array.isArray(p(e))?{toMatch:o,toContains:w,changed:y,changedTimes:h,get not(){return b(e,!n)}}:{toMatch:o,toBe:a,toBeTruthy:d,toBeNull:r,toBeNaN:g,toBeUndefined:i,changed:y,changedTimes:h,get not(){return b(e,!n)}}}function M(e){return b(e)}function V(e,n,o={}){const{immediate:a=!0,immediateCallback:d=!1}=o,r=F(!1);let i;function g(){i&&(clearTimeout(i),i=void 0)}function w(){r.value=!1,g()}function y(...h){d&&e(),g(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=void 0,e(...h)},p(n))}return a&&(r.value=!0,W&&y()),S(w),{isPending:A(r),start:y,stop:w}}function $(e,n,o){return P(e,n,{...o,once:!0})}export{I as a,M as b,L as c,W as i,K as t,V as u,$ as w};
