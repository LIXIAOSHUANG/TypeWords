import{bf as n,bg as l,f as o,aU as d,X as p}from"./CL2Zm6Gn.js";import{B as r}from"./DrXBYfFo.js";function a(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!d(e)}const c={name:"PopConfirm",components:{Teleport:l,Transition:n,BaseButton:r},props:{title:{type:[String,Array],default(){return""},validator(e){return Array.isArray(e)?e.every(t=>typeof t=="object"&&t!==null&&typeof t.text=="string"&&["normal","bold","red","redBold"].includes(t.type)):typeof e=="string"}},disabled:{type:Boolean,default(){return!1}}},computed:{titleItems(){return typeof this.title=="string"?[{text:this.title,type:"normal"}]:Array.isArray(this.title)?this.title:[]}},data(){return{show:!1}},mounted(){window.addEventListener("click",()=>{this.show=!1}),window.addEventListener("keydown",()=>{this.show=!1})},methods:{getTextStyle(e){const t={normal:{fontWeight:"normal",color:"inherit"},bold:{fontWeight:"bold",color:"inherit"},red:{fontWeight:"normal",color:"red"},redBold:{fontWeight:"bold",color:"red"}};return t[e]||t.normal},showPop(e){if(this.disabled)return this.$emit("confirm");e?.stopPropagation();let t=e.target.getBoundingClientRect();this.show=!0,this.$nextTick(()=>{let i=this.$refs?.tip?.getBoundingClientRect();i&&(t.top<150?this.$refs.tip.style.top=t.top+t.height+i.height+30+"px":this.$refs.tip.style.top=t.top-10+"px",this.$refs.tip.style.left=t.left+t.width/2-50+"px")})},confirm(){this.show=!1,this.$emit("confirm")}},render(){let e,t,i=this.$slots.default()[0];return o("div",{class:"pop-confirm leading-none"},[o(l,{to:"body"},{default:()=>[o(n,{name:"fade"},{default:()=>[this.show&&o("div",{ref:"tip",class:"pop-confirm-content shadow-2xl"},[o("div",{class:"w-52 title-content"},[this.titleItems.map((s,f)=>o("div",{key:f,style:this.getTextStyle(s.type),class:"title-item"},[s.text]))]),o("div",{class:"options"},[o(r,{type:"info",size:"small",onClick:()=>this.show=!1},a(e=this.$t("cancel"))?e:{default:()=>[e]}),o(r,{size:"small",onClick:()=>this.confirm()},a(t=this.$t("confirm"))?t:{default:()=>[t]})])])]})]}),o(i,{onClick:s=>this.showPop(s)},null)])}},u=Object.assign(p(c,[["__scopeId","data-v-baca95b3"]]),{__name:"PopConfirm"});export{u as P};
