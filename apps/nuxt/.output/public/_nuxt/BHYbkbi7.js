const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CGgiZe4D.js","./CL2Zm6Gn.js","./entry.EYAiiZOw.css","./BIONxxX3.js","./DrXBYfFo.js","./BaseButton.DGhsrd12.css","./Dialog.D1qJRpPK.css"])))=>i.map(i=>d[i]);
import{Y as de,o as n,c as f,a as o,d as pe,aF as Te,W as Je,$ as Be,Z as Le,aV as gt,y as at,z as fe,b1 as C,aL as qe,bm as wt,a5 as ie,bl as P,h as E,w as R,k as e,F as O,b as ne,t as p,f as g,r as oe,n as ae,e as G,aX as mt,i as j,j as le,bd as _t,aY as ht,X as xe,l as it,bn as yt,bo as ye,b9 as We,bp as xt,bq as v,b2 as ze,aH as bt,br as S,V as rt,x as dt,ag as ct,ar as ut,as as ue,bs as ft,bt as Wt,I as kt,R as $t,S as St,ap as Tt,bj as et,bu as He,U as It,b3 as Ct,aK as Lt,aT as J,a4 as Fe,bv as tt,b4 as Pt,a7 as Rt,a8 as Mt,aR as Ke,aN as Dt}from"./CL2Zm6Gn.js";import{_ as Nt}from"./zHlzYcNr.js";import{_ as Ft}from"./CaxuGJ2z.js";import{_ as Bt}from"./BUbxjmhr.js";import{B as me}from"./DrXBYfFo.js";import{b as Xe,E as X,e as re,c as Vt,a as At,d as Ot,f as Et}from"./BIONxxX3.js";import{u as Ve}from"./oGl-JNF5.js";import{i as zt,a as Ht}from"./BD87t9DM.js";import{P as Qe}from"./1uBJJONf.js";import{C as Kt}from"./i8UuKUNg.js";import{u as jt}from"./CmRIxYSf.js";import{_ as Ut,a as Gt,g as je}from"./YA9n7JcN.js";import{S as qt,_ as Qt,a as Zt,b as Jt,P as Xt,c as Yt,C as eo}from"./Cmp4bDMT.js";import{_ as to,B as oo}from"./ByQDqBx8.js";import{_ as lo}from"./a6TGg0QK.js";import{_ as so,a as no}from"./1RI2pLfA.js";import{_ as ao,W as io}from"./qioYePRd.js";import{_ as ro}from"./GulbbN7M.js";import{_ as co}from"./BqBkRU00.js";import{B as we}from"./oY8pmwEW.js";import{S as Ue}from"./Du4snNxr.js";import{S as ot,O as Ge}from"./B23dpBb2.js";import{M as uo}from"./QnX__4Tr.js";import{V as Ze}from"./CJKjSNvS.js";import{c as fo,g as po,u as vo,a as go,d as wo,b as mo,e as _o}from"./qEnmgki7.js";import{E as ho}from"./CGx_iWmd.js";import{R as yo,a as xo}from"./B8UJttr-.js";import{g as lt,s as Ie}from"./CmInly2L.js";import{s as bo}from"./DTF4rsmH.js";import{w as Wo}from"./CA9m3cH7.js";import"./BJ11n_5u.js";import"./CGgiZe4D.js";import"./Ds7onACz.js";import"./C37SsQJU.js";import"./B8sA-C-U.js";import"./sMq2WQa7.js";import"./Dm3cJJjd.js";import"./DUCa_d2x.js";import"./DlYjVSME.js";import"./CAPmeoOz.js";import"./CMZAKU7l.js";const ko={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function $o(y,i){return n(),f("svg",ko,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M12.354 3.646a.5.5 0 0 0-.708.708l.65.65C9.972 5.076 8.516 6.4 7.2 7.596l-.036.033C5.777 8.89 4.534 10 2.5 10a.5.5 0 0 0 0 1c2.444 0 3.946-1.366 5.3-2.597l.036-.033c1.338-1.217 2.542-2.292 4.453-2.366l-.643.642a.5.5 0 0 0 .708.708l1.5-1.5a.5.5 0 0 0 0-.708zM2.5 5c1.829 0 3.13.765 4.237 1.666l-.246.224q-.262.24-.507.455C5 6.565 3.951 6 2.5 6a.5.5 0 0 1 0-1m9.796 5.997c-1.723-.055-2.968-.796-4.033-1.663l.246-.224q.262-.24.507-.455c.936.742 1.93 1.289 3.273 1.341l-.643-.642a.5.5 0 0 1 .708-.708l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708-.708z"},null,-1)])])}const So=de({name:"fluent-arrow-shuffle16-regular",render:$o}),To={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Io(y,i){return n(),f("svg",To,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M2.5 7.5a.5.5 0 1 0 0 1h9.697l-4.031 3.628a.5.5 0 1 0 .668.744l5-4.5a.5.5 0 0 0 0-.744l-5-4.5a.5.5 0 0 0-.668.744L12.197 7.5z"},null,-1)])])}const pt=de({name:"fluent-arrow-right16-regular",render:Io}),Co={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Lo(y,i){return n(),f("svg",Co,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M13.5 8.5a.5.5 0 0 0 0-1H3.803l4.031-3.628a.5.5 0 1 0-.668-.744l-5 4.5a.5.5 0 0 0 0 .744l5 4.5a.5.5 0 1 0 .668-.744L3.803 8.5z"},null,-1)])])}const Po=de({name:"fluent-arrow-left16-regular",render:Lo}),Ro={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Mo(y,i){return n(),f("svg",Ro,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M6 5a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm1 0v1h6V5zM4 4v12a2 2 0 0 0 2 2h9.5a.5.5 0 0 0 0-1H6a1 1 0 0 1-1-1h10a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2m10-1a1 1 0 0 1 1 1v11H5V4a1 1 0 0 1 1-1z"},null,-1)])])}const Do=de({name:"fluent-book20-regular",render:Mo}),No={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Fo(y,i){return n(),f("svg",No,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M7.398 12.809a1.04 1.04 0 0 0 1.204-.003c.178-.13.313-.31.387-.518l.447-1.373a2.34 2.34 0 0 1 1.477-1.479l1.391-.45a1.045 1.045 0 0 0-.044-1.98l-1.375-.448a2.34 2.34 0 0 1-1.48-1.477l-.452-1.388a1.044 1.044 0 0 0-1.973.017l-.457 1.4a2.34 2.34 0 0 1-1.44 1.45l-1.39.447a1.045 1.045 0 0 0 .016 1.974l1.374.445a2.33 2.33 0 0 1 1.481 1.488l.452 1.391c.072.204.206.38.382.504m.085-7.415l.527-1.377l.44 1.377a3.33 3.33 0 0 0 2.117 2.114l1.406.53l-1.382.447a3.34 3.34 0 0 0-2.115 2.117l-.523 1.378l-.449-1.379a3.34 3.34 0 0 0-.8-1.31a3.4 3.4 0 0 0-1.312-.812l-1.378-.522l1.386-.45a3.36 3.36 0 0 0 1.29-.813a3.4 3.4 0 0 0 .793-1.3m6.052 11.457a.806.806 0 0 0 1.226-.398l.248-.762a1.1 1.1 0 0 1 .26-.42c.118-.12.262-.208.42-.26l.772-.252a.8.8 0 0 0-.023-1.52l-.764-.25a1.08 1.08 0 0 1-.68-.678l-.252-.773a.8.8 0 0 0-1.518.01l-.247.762a1.07 1.07 0 0 1-.665.679l-.773.252a.8.8 0 0 0 .008 1.518l.763.247c.16.054.304.143.422.261c.119.119.207.263.258.422l.253.774a.8.8 0 0 0 .292.388m-.913-2.793L12.443 14l.184-.064a2.11 2.11 0 0 0 1.3-1.317l.058-.178l.06.181a2.08 2.08 0 0 0 1.316 1.316l.195.063l-.18.06a2.08 2.08 0 0 0-1.317 1.32l-.059.181l-.058-.18a2.08 2.08 0 0 0-1.32-1.323"},null,-1)])])}const Bo=de({name:"fluent-sparkle20-regular",render:Fo}),Vo={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function Ao(y,i){return n(),f("svg",Vo,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M10 11.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M5 10a5 5 0 1 1 10 0a5 5 0 0 1-10 0m5-4a4 4 0 1 0 0 8a4 4 0 0 0 0-8m-8 4a8 8 0 1 1 16 0a8 8 0 0 1-16 0m8-7a7 7 0 1 0 0 14a7 7 0 0 0 0-14"},null,-1)])])}const Oo=de({name:"fluent-target20-regular",render:Ao}),Eo={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function zo(y,i){return n(),f("svg",Eo,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16m0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14m-.5 2a.5.5 0 0 1 .492.41L10 5.5V10h2.5a.5.5 0 0 1 .09.992L12.5 11h-3a.5.5 0 0 1-.492-.41L9 10.5v-5a.5.5 0 0 1 .5-.5"},null,-1)])])}const Ho=de({name:"fluent-clock20-regular",render:zo}),Ko={class:"p-8 pr-3 bg-[var(--bg-card-primary)] rounded-2xl space-y-6"},jo={class:"text-center relative"},Uo={class:"text-3xl font-bold mb-2 bg-gradient-to-r from-purple-500 to-purple-700 bg-clip-text text-transparent"},Go={class:"font-medium text-lg"},qo={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Qo={class:"item"},Zo={class:"text-sm mb-1 font-medium"},Jo={class:"text-xl font-bold"},Xo={class:"item"},Yo={class:"text-sm mb-1 font-medium"},el={class:"text-xl font-bold"},tl={class:"item"},ol={class:"text-sm mb-1 font-medium"},ll={class:"text-xl font-bold"},sl={class:"item"},nl={class:"text-sm mb-1 font-medium"},al={class:"text-xl font-bold"},il={class:"w-full gap-3 flex"},rl={class:"space-y-6 flex-1"},dl={class:"bg-[--bg-card-secend] rounded-xl p-2"},cl={class:"text-center mb-4"},ul={class:"text-xl font-semibold mb-1"},fl={class:"flex justify-between gap-4"},pl={class:"font-semibold mb-1"},vl={class:"bg-[var(--bg-card-secend)] rounded-xl py-2 px-6"},gl={class:"flex justify-between items-center mb-3"},wl={class:"text-xl font-semibold"},ml={class:"text-2xl font-bold text-purple-600"},_l={class:"flex justify-between text-sm font-medium mt-4"},hl={class:"flex min-w-130 justify-center"},yl={class:"center gap-2"},xl={class:"center gap-2"},bl={class:"center gap-2"},Wl=pe({__name:"Statistics",props:{modelValue:{default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(y){Te.extend(zt);const{t:i}=Je();Te.extend(Ht);const M=mt(()=>ht(()=>import("./CGgiZe4D.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),r=Be(),c=Le(),l=Ve(),d=gt(y,"modelValue");let F=j([]),x=j(!1),w=at("practiceTaskWords");function _(){const W=Te().startOf("isoWeek"),L=Te().endOf("isoWeek"),u=Array(7).fill(!1);r.sdict.statistics.forEach(s=>{const U=Te(s.startDate);if(U.isBetween(W,L,null,"[]")){let K=U.day();K===0?K=6:K=K-1,u[K]=!0}}),F.value=u}fe(d,async W=>{if(W){x.value=!1;let L={spend:l.spend,startDate:Date.now()-l.spend,total:l.total,wrong:l.wrong,new:l.newWordNumber,review:l.reviewWordNumber+l.writeWordNumber};if(window.umami?.track("endStudyWord",{name:r.sdict.name,spend:Number(l.spend/1e3/60).toFixed(1),index:r.sdict.lastLearnIndex,perDayStudyNumber:r.sdict.perDayStudyNumber,custom:r.sdict.custom,complete:r.sdict.complete,str:`name:${r.sdict.name},per:${r.sdict.perDayStudyNumber},spend:${Number(l.spend/1e3/60).toFixed(1)},index:${r.sdict.lastLearnIndex}`}),c.wordPracticeMode!==C.Shuffle){r.sdict.lastLearnIndex=r.sdict.lastLearnIndex+l.newWordNumber;const s=[r.allIgnoreWords,r.knownWords][c.ignoreSimpleWord?0:1].filter(U=>r.sdict.words.slice(r.sdict.lastLearnIndex).some(K=>K.word.toLowerCase()===U)).length;r.sdict.lastLearnIndex+s>=r.sdict.length&&(x.value=!0,r.sdict.complete=!0,r.sdict.lastLearnIndex=r.sdict.length)}if(qe.CAN_REQUEST){let u=await wt({...L,type:"word",perDayStudyNumber:r.sdict.perDayStudyNumber,lastLearnIndex:r.sdict.lastLearnIndex,complete:r.sdict.complete});u.success||ie.error(u.msg)}r.sdict.statistics.push(L),_()}});const t=()=>d.value=!1;Xe([[P.RepeatChapter,t],[P.DictationChapter,t]]);function B(W){re.emit(X[W]),t()}const T=le(()=>r.sdict.length?Math.round(r.sdict.lastLearnIndex/r.sdict.length*100):0),a=le(()=>l.total===0?100:Math.round((l.total-l.wrong)/l.total*100)),z=le(()=>{const W=a.value;return W>=95?"üéâ "+i("encouragement_95"):W>=85?"üëç "+i("encouragement_85"):W>=70?"üí™ "+i("encouragement_70"):"üåü "+i("encouragement_default")}),H=le(()=>_t(l.spend).replace("Â∞èÊó∂","h ").replace("ÂàÜÈíü","m"));return _(),(W,L)=>{const u=Ho,s=Oo,U=Bo,K=Do,V=Bt,Y=Ft,Q=Nt;return n(),E(e(M),{modelValue:d.value,"onUpdate:modelValue":L[2]||(L[2]=ee=>d.value=ee),"close-on-click-bg":!1,header:!1,keyboard:!1,"show-close":!1},{default:R(()=>[o("div",Ko,[o("div",jo,[o("div",Uo,[e(w).shuffle.length?(n(),f(O,{key:0},[ne(" üéØ "+p(e(i)("review_complete")),1)],64)):(n(),f(O,{key:1},[ne(" üéâ "+p(e(i)("daily_task_complete")),1)],64))]),o("p",Go,p(z.value),1)]),o("div",qo,[o("div",Qo,[g(u,{class:"text-purple-500"}),o("div",Zo,p(e(i)("study_duration")),1),o("div",Jo,p(H.value),1)]),o("div",Xo,[g(s,{class:"text-purple-500"}),o("div",Yo,p(e(i)("accuracy_rate")),1),o("div",el,p(a.value)+"%",1)]),o("div",tl,[g(U,{class:"text-purple-500"}),o("div",ol,p(e(i)("new_words")),1),o("div",ll,p(e(l).newWordNumber),1)]),o("div",sl,[g(K,{class:"text-purple-500"}),o("div",nl,p(e(i)("review")),1),o("div",al,p(e(l).reviewWordNumber+e(l).writeWordNumber),1)])]),o("div",il,[o("div",rl,[o("div",dl,[o("div",cl,[o("div",ul,p(e(i)("weekly_record")),1)]),o("div",fl,[(n(!0),f(O,null,oe(e(F),(ee,I)=>(n(),f("div",{key:I,class:ae(["flex-1 text-center px-2 py-3 rounded-lg",ee?"bg-green-500 text-white shadow-lg":"bg-white text-gray-700"])},[o("div",pl,p(I+1),1),o("div",{class:ae(["w-2 h-2 rounded-full mx-auto mb-1",ee?"bg-white bg-opacity-30":"bg-gray-300"])},null,2)],2))),128))])]),o("div",vl,[o("div",gl,[o("div",wl,p(e(i)("study_progress")),1),o("div",ml,p(T.value)+"%",1)]),g(Qe,{percentage:T.value,size:"large","show-text":!1},null,8,["percentage"]),o("div",_l,[o("span",null,p(e(i)("learned"))+": "+p(e(r).sdict.lastLearnIndex),1),o("span",null,p(e(i)("total_words"))+": "+p(e(r).sdict.length),1)])])]),g(Kt)]),o("div",hl,[g(me,{keyboard:e(c).shortcutKeyMap[e(P).RepeatChapter],onClick:L[0]||(L[0]=ee=>B(e(X).repeatStudy))},{default:R(()=>[o("div",yl,[g(V),ne(" "+p(e(i)("relearn")),1)])]),_:1},8,["keyboard"]),e(c).wordPracticeMode!==e(C).Review?(n(),E(me,{key:0,keyboard:e(c).shortcutKeyMap[e(P).NextChapter],onClick:L[1]||(L[1]=ee=>B(e(X).continueStudy))},{default:R(()=>[o("div",xl,[g(Y),ne(" "+p(e(x)?e(i)("start_from_beginning"):e(i)("another_group")),1)])]),_:1},8,["keyboard"])):G("",!0),g(me,{onClick:W.$router.back},{default:R(()=>[o("div",bl,[g(Q),ne(" "+p(e(i)("back_to_home")),1)])]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])}}}),kl=Object.assign(xe(Wl,[["__scopeId","data-v-76143484"]]),{__name:"Statistics"}),$l={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function Sl(y,i){return n(),f("svg",$l,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M200 26H72a14 14 0 0 0-14 14v26H40a14 14 0 0 0-14 14v96a14 14 0 0 0 14 14h18v26a14 14 0 0 0 14 14h128a14 14 0 0 0 14-14V40a14 14 0 0 0-14-14m-42 76h44v52h-44ZM70 40a2 2 0 0 1 2-2h128a2 2 0 0 1 2 2v50h-44V80a14 14 0 0 0-14-14H70ZM38 176V80a2 2 0 0 1 2-2h104a2 2 0 0 1 2 2v96a2 2 0 0 1-2 2H40a2 2 0 0 1-2-2m162 42H72a2 2 0 0 1-2-2v-26h74a14 14 0 0 0 14-14v-10h44v50a2 2 0 0 1-2 2M70.18 153.46l-12-48a6 6 0 1 1 11.64-2.92l8.07 32.27l8.74-17.49a6 6 0 0 1 10.74 0l8.74 17.49l8.07-32.27a6 6 0 1 1 11.64 2.92l-12 48a6 6 0 0 1-5.17 4.5a5 5 0 0 1-.65 0a6 6 0 0 1-5.37-3.32L92 133.42l-10.63 21.26a6 6 0 0 1-11.19-1.22"},null,-1)])])}const Tl=de({name:"ph-microsoft-word-logo-light",render:Sl}),Il={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Cl(y,i){return n(),f("svg",Il,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M8.808 2.101a.9.9 0 0 0-1.614 0L5.673 5.183l-3.401.495a.9.9 0 0 0-.5 1.535l2.462 2.399l-.581 3.387a.9.9 0 0 0 1.306.949l.91-.479a5.5 5.5 0 0 1-.461-.887l-.735.387l.555-3.24a.9.9 0 0 0-.258-.797L2.616 6.638l3.253-.473a.9.9 0 0 0 .677-.492l1.455-2.947L9.2 5.154a5.5 5.5 0 0 1 1.041-.148zM5 10.5v-.103v.205zm10 0a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4-2a.5.5 0 0 0-1 0V10H8.5a.5.5 0 0 0 0 1H10v1.5a.5.5 0 1 0 1 0V11h1.5a.5.5 0 1 0 0-1H11z"},null,-1)])])}const Ll=de({name:"fluent-star-add16-regular",render:Cl}),Pl={viewBox:"0 0 36 36",width:"1.2em",height:"1.2em"};function Rl(y,i){return n(),f("svg",Pl,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M23.41 25.25a1 1 0 0 1-.54-1.85a6.21 6.21 0 0 0-.19-10.65a1 1 0 1 1 1-1.73a8.21 8.21 0 0 1 .24 14.06a1 1 0 0 1-.51.17",class:"clr-i-outline clr-i-outline-path-1"},null,-1),o("path",{fill:"currentColor",d:"M25.62 31.18a1 1 0 0 1-.45-1.89A12.44 12.44 0 0 0 25 6.89a1 1 0 1 1 .87-1.8a14.44 14.44 0 0 1 .24 26a1 1 0 0 1-.49.09",class:"clr-i-outline clr-i-outline-path-2"},null,-1),o("path",{fill:"currentColor",d:"M18 32.06a2 2 0 0 1-1.42-.59L9.14 24H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h5.22l7.33-7.39A2 2 0 0 1 20 6v24a2 2 0 0 1-1.24 1.85a2 2 0 0 1-.76.21M4 14v8h5.56a1 1 0 0 1 .71.3L18 30.06V6l-7.65 7.7a1 1 0 0 1-.71.3Zm14-8",class:"clr-i-outline clr-i-outline-path-3"},null,-1),o("path",{fill:"none",d:"M0 0h36v36H0z"},null,-1)])])}const Ml=de({name:"clarity-volume-up-line",render:Rl}),Dl={class:"mini-row"},Nl={class:"wrapper"},Fl={class:"mini-row"},Bl={class:"wrapper"},Vl={class:"mini-row"},Al={class:"wrapper"},Ol={class:"mini-row"},El={class:"wrapper"},zl={class:"el-option-row"},Hl={class:"mini-row"},Kl={class:"wrapper"},jl=pe({__name:"VolumeSettingMiniDialog",setup(y){const i=Le();let M=0,r=!1,c=j(!1);Vt(()=>{r?r=!1:c.value=!1});function l(x){r||(clearTimeout(M),x?(re.emit(X.closeOther),c.value=x):M=setTimeout(()=>{c.value=x},100))}function d(x){setTimeout(()=>r=x)}function F(x){if(x.currentTarget.contains(x.target)){if(r)return;x.stopPropagation()}}return(x,w)=>{const _=Ml;return n(),f("div",{class:"setting",onClick:F},[g(we,{onMouseenter:w[0]||(w[0]=t=>l(!0)),onMouseleave:w[1]||(w[1]=t=>l(!1))},{default:R(()=>[g(_)]),_:1}),g(uo,{width:"18rem",onMouseenter:w[7]||(w[7]=t=>l(!0)),onMouseleave:w[8]||(w[8]=t=>l(!1)),modelValue:e(c),"onUpdate:modelValue":w[9]||(w[9]=t=>it(c)?c.value=t:c=t)},{default:R(()=>[w[15]||(w[15]=o("div",{class:"mini-row-title"},"Èü≥ÊïàËÆæÁΩÆ",-1)),o("div",Dl,[w[10]||(w[10]=o("label",{class:"item-title"},"ÂçïËØçËá™Âä®ÂèëÈü≥",-1)),o("div",Nl,[g(Ue,{modelValue:e(i).wordSound,"onUpdate:modelValue":w[2]||(w[2]=t=>e(i).wordSound=t),"inline-prompt":"","active-text":"ÂºÄ","inactive-text":"ÂÖ≥"},null,8,["modelValue"])])]),o("div",Fl,[w[11]||(w[11]=o("label",{class:"item-title"},"ÂçïËØçÂèëÈü≥Âè£Èü≥",-1)),o("div",Bl,[g(ot,{modelValue:e(i).soundType,"onUpdate:modelValue":w[3]||(w[3]=t=>e(i).soundType=t),onToggle:d,placeholder:"ËØ∑ÈÄâÊã©",size:"small"},{default:R(()=>[g(Ge,{label:"ÁæéÈü≥",value:"us"}),g(Ge,{label:"Ëã±Èü≥",value:"uk"})]),_:1},8,["modelValue"])])]),o("div",Vl,[w[12]||(w[12]=o("label",{class:"item-title"},"ÊåâÈîÆÈü≥",-1)),o("div",Al,[g(Ue,{modelValue:e(i).keyboardSound,"onUpdate:modelValue":w[4]||(w[4]=t=>e(i).keyboardSound=t),"inline-prompt":"","active-text":"ÂºÄ","inactive-text":"ÂÖ≥"},null,8,["modelValue"])])]),o("div",Ol,[w[13]||(w[13]=o("label",{class:"item-title"},"ÊåâÈîÆÈü≥Êïà",-1)),o("div",El,[g(ot,{modelValue:e(i).keyboardSoundFile,"onUpdate:modelValue":w[5]||(w[5]=t=>e(i).keyboardSoundFile=t),onToggle:d,placeholder:"ËØ∑ÈÄâÊã©",size:"small"},{default:R(()=>[(n(!0),f(O,null,oe(e(yt),t=>(n(),E(Ge,{key:t.value,label:t.label,value:t.value},{default:R(()=>[o("div",zl,[o("span",null,p(t.label),1),g(Ze,{time:100,onClick:B=>e(fo)(e(po)(t.value)[0])},null,8,["onClick"])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),o("div",Hl,[w[14]||(w[14]=o("label",{class:"item-title"},"ÊïàÊûúÈü≥",-1)),o("div",Kl,[g(Ue,{modelValue:e(i).effectSound,"onUpdate:modelValue":w[6]||(w[6]=t=>e(i).effectSound=t),"inline-prompt":"","active-text":"ÂºÄ","inactive-text":"ÂÖ≥"},null,8,["modelValue"])])])]),_:1},8,["modelValue"])])}}}),Ul=Object.assign(xe(jl,[["__scopeId","data-v-eb2a6ee7"]]),{__name:"VolumeSettingMiniDialog"}),Gl={class:"flex gap-5 w-full h-3"},ql=pe({__name:"StageProgress",props:{stages:null},setup(y){const i=y;return(M,r)=>(n(),f("div",Gl,[(n(!0),f(O,null,oe(i.stages,c=>(n(),f(O,null,[c?.children?.length&&c.active?(n(),f("div",{key:0,class:"flex gap-1",style:ye({width:c.ratio+"%"})},[(n(!0),f(O,null,oe(c.children,l=>(n(),E(We,{title:l.name},{default:R(()=>[g(Qe,{style:ye({width:l.ratio+"%"}),percentage:l.percentage,"stroke-width":8,color:l.active?"#72c240":"#69b1ff",active:l.active,"show-text":!1},null,8,["style","percentage","color","active"])]),_:2},1032,["title"]))),256))],4)):(n(),E(We,{key:1,title:c.name},{default:R(()=>[g(Qe,{style:ye({width:c.ratio+"%"}),percentage:c.percentage,"stroke-width":8,color:c.active&&i.stages.length>1?"#72c240":"#69b1ff",active:c.active,"show-text":!1},null,8,["style","percentage","color","active"])]),_:2},1032,["title"]))],64))),256))]))}}),st=Object.assign(ql,{__name:"StageProgress"}),Ql={class:"footer"},Zl={class:"bottom"},Jl={class:"flex justify-between items-center"},Xl={class:"stat"},Yl={class:"row"},es={class:"num"},ts={class:"name"},os={class:"row"},ls={class:"num"},ss={class:"name"},ns={class:"row"},as={class:"num"},is={class:"name"},rs={class:"row"},ds={class:"num"},cs={class:"name"},us={class:"flex gap-2 justify-center items-center",id:"toolbar-icons"},fs={class:"relative z-999 group"},ps={class:"space-y-2 btn-no-margin pb-2 left-1/2 -transform-translate-x-1/2 absolute z-999 bottom-full scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 pointer-events-none group-hover:pointer-events-auto"},vs={class:"flex items-center gap-2"},gs={class:"flex items-center gap-2"},ws={class:"flex items-center gap-2"},ms={class:"progress-wrap flex gap-3 items-center color-gray"},_s={class:"shrink-0"},hs={class:"num"},ys=pe({__name:"Footer",props:{showEdit:{type:Boolean},isCollect:{type:Boolean},isSimple:{type:Boolean}},emits:["toggleCollect","toggleSimple","edit","skip","skipStep"],setup(y,{emit:i}){const M=Ve(),{t:r}=Je();Be();const c=Le(),l=i;let d=at("practiceData");function F(_,t="",B=-1){return _===B?"-":_+t}const x=le(()=>c.wordPracticeMode===C.Free?r("free_practice"):d.isTypingWrongWord?r("review_wrong_words"):M.getStageName),w=le(()=>{let _={name:"",ratio:100,percentage:d.index/d.words.length*100,active:!0};if([C.Shuffle,C.Free].includes(c.wordPracticeMode))return[_];{const B={[v.FollowWriteNewWord]:{stageIndex:0,childIndex:0},[v.IdentifyNewWord]:{stageIndex:0,childIndex:0},[v.ListenNewWord]:{stageIndex:0,childIndex:1},[v.DictationNewWord]:{stageIndex:0,childIndex:2},[v.IdentifyReview]:{stageIndex:1,childIndex:0},[v.ListenReview]:{stageIndex:1,childIndex:1},[v.DictationReview]:{stageIndex:1,childIndex:2},[v.IdentifyReviewAll]:{stageIndex:2,childIndex:0},[v.ListenReviewAll]:{stageIndex:2,childIndex:1},[v.DictationReviewAll]:{stageIndex:2,childIndex:2}}[M.stage];if(!B)return w.value;const{stageIndex:T,childIndex:a}=B,z=d.index/d.words.length*100;if([C.IdentifyOnly,C.DictationOnly,C.ListenOnly].includes(c.wordPracticeMode)){const H=[{name:`Êñ∞ËØçÔºö${ze[c.wordPracticeMode]}`,ratio:33,percentage:0,active:!1},{name:`‰∏äÊ¨°Â≠¶‰π†Ôºö${ze[c.wordPracticeMode]}`,ratio:33,percentage:0,active:!1},{name:`‰πãÂâçÂ≠¶‰π†Ôºö${ze[c.wordPracticeMode]}`,ratio:33,percentage:0,active:!1}];for(let W=0;W<T;W++)H[W].percentage=100,H[W].ratio=33;return H[T].active=!0,H[T].percentage=d.index/d.words.length*100,H}else{const W=[{name:"Êñ∞ËØç",ratio:70,children:[{name:"Êñ∞ËØçÔºöË∑üÂÜô"},{name:"Êñ∞ËØçÔºöÂê¨ÂÜô"},{name:"Êñ∞ËØçÔºöÈªòÂÜô"}]},{name:"‰∏äÊ¨°Â≠¶‰π†ÔºöÂ§ç‰π†",ratio:15,children:[{name:"‰∏äÊ¨°Â≠¶‰π†ÔºöËá™Êµã"},{name:"‰∏äÊ¨°Â≠¶‰π†ÔºöÂê¨ÂÜô"},{name:"‰∏äÊ¨°Â≠¶‰π†ÔºöÈªòÂÜô"}]},{name:"‰πãÂâçÂ≠¶‰π†ÔºöÂ§ç‰π†",ratio:15,children:[{name:"‰πãÂâçÂ≠¶‰π†ÔºöËá™Êµã"},{name:"‰πãÂâçÂ≠¶‰π†ÔºöÂê¨ÂÜô"},{name:"‰πãÂâçÂ≠¶‰π†ÔºöÈªòÂÜô"}]}].map(u=>({name:u.name,percentage:0,ratio:u.ratio,active:!1,children:u.children.map(s=>({name:s.name,percentage:0,ratio:33,active:!1}))}));for(let u=0;u<T;u++)W[u].percentage=100,W[u].ratio=15;W[T].ratio=70,W[T].active=!0;const L=W[T].children;if(a===0?(L[0].active=!0,L[0].percentage=z):a===1?(L[0].active=!1,L[1].active=!0,L[2].active=!1,L[0].percentage=100,L[1].percentage=z,L[2].percentage=0):a===2&&(L[0].active=!1,L[1].active=!1,L[2].active=!0,L[0].percentage=100,L[1].percentage=100,L[2].percentage=z),c.wordPracticeMode===C.System)return W;if(c.wordPracticeMode===C.Review)return W.shift(),T===1&&(W[1].ratio=30),T===2&&(W[0].ratio=30),console.log("stages",W,a),W}}return[_]});return(_,t)=>{const B=co,T=pt,a=ro,z=ao,H=Ll,W=Ut,L=Qt,u=Tl,s=so,U=no,K=lo,V=to,Y=Zt;return n(),f("div",Ql,[g(We,{title:e(c).showToolbar?e(r)("collapse"):e(r)("expand")},{default:R(()=>[g(B,{onClick:t[0]||(t[0]=Q=>e(c).showToolbar=!e(c).showToolbar),class:ae(["arrow",!e(c).showToolbar&&"down"]),color:"#999"},null,8,["class"])]),_:1},8,["title"]),o("div",Zl,[g(st,{stages:w.value},null,8,["stages"]),o("div",Jl,[o("div",Xl,[o("div",Yl,[o("div",es,p(`${e(d).index+1}/${e(d).words.length}`),1),t[8]||(t[8]=o("div",{class:"line"},null,-1)),o("div",ts,p(x.value),1)]),o("div",os,[o("div",ls,p(Math.floor(e(M).spend/1e3/60))+p(e(r)("minutes")),1),t[9]||(t[9]=o("div",{class:"line"},null,-1)),o("div",ss,p(e(r)("time")),1)]),o("div",ns,[o("div",as,p(e(M).total),1),t[10]||(t[10]=o("div",{class:"line"},null,-1)),o("div",is,p(e(r)("total_words")),1)]),o("div",rs,[o("div",ds,p(F(e(M).wrong,"",0)),1),t[11]||(t[11]=o("div",{class:"line"},null,-1)),o("div",cs,p(e(r)("errors")),1)])]),o("div",us,[g(qt,{type:"word"}),g(Ul),e(c).wordPracticeMode!==e(C).Free?(n(),E(we,{key:0,onClick:t[1]||(t[1]=Q=>l("skipStep")),title:`${e(r)("skip_to_next_stage")}:${e(xt)[e(M).nextStage]}`},{default:R(()=>[g(T)]),_:1},8,["title"])):G("",!0),o("div",fs,[o("div",ps,[g(me,{size:"normal",type:"info",class:"w-full",onClick:t[2]||(t[2]=Q=>_.$emit("toggleSimple"))},{default:R(()=>[o("div",vs,[y.isSimple?(n(),E(z,{key:1})):(n(),E(a,{key:0})),o("span",null,p((y.isSimple?e(r)("unmark_mastered"):e(r)("mark_mastered"))+`(${e(c).shortcutKeyMap[e(P).ToggleSimple]})`),1)])]),_:1}),g(me,{size:"normal",type:"info",class:"w-full",onClick:t[3]||(t[3]=Q=>_.$emit("toggleCollect"))},{default:R(()=>[o("div",gs,[y.isCollect?(n(),E(W,{key:1})):(n(),E(H,{key:0})),o("span",null,p((y.isCollect?e(r)("uncollect"):e(r)("collect"))+`(${e(c).shortcutKeyMap[e(P).ToggleCollect]})`),1)])]),_:1}),g(me,{size:"normal",type:"info",class:"w-full",onClick:t[4]||(t[4]=Q=>_.$emit("skip"))},{default:R(()=>[o("div",ws,[g(L,{class:"transform-rotate-180"}),o("span",null,p(e(r)("skip_word"))+"("+p(e(c).shortcutKeyMap[e(P).Next])+")",1)])]),_:1})]),g(we,null,{default:R(()=>[g(u)]),_:1})]),g(we,{onClick:t[5]||(t[5]=Q=>e(c).dictation=!e(c).dictation),title:`${e(r)("toggle_dictation_mode")}(${e(c).shortcutKeyMap[e(P).ToggleDictation]})`},{default:R(()=>[e(c).dictation?(n(),E(s,{key:0})):(n(),E(U,{key:1}))]),_:1},8,["title"]),g(we,{title:`${e(r)("toggle_translation")}(${e(c).shortcutKeyMap[e(P).ToggleShowTranslate]})`,onClick:t[6]||(t[6]=Q=>e(c).translate=!e(c).translate)},{default:R(()=>[e(c).translate?(n(),E(K,{key:0})):(n(),E(V,{key:1}))]),_:1},8,["title"]),g(we,{onClick:t[7]||(t[7]=Q=>e(c).showPanel=!e(c).showPanel),title:`${e(r)("word_list")}(${e(c).shortcutKeyMap[e(P).TogglePanel]})`},{default:R(()=>[g(Y)]),_:1},8,["title"])])])]),o("div",ms,[o("span",_s,p(x.value),1),g(st,{stages:w.value},null,8,["stages"]),o("div",hs,p(`${e(d).index+1}/${e(d).words.length}`),1)])])}}}),xs=Object.assign(xe(ys,[["__scopeId","data-v-1a55cb74"]]),{__name:"Footer"}),bs=pe({__name:"WordList",props:{list:{default:[]},showTranslate:{type:Boolean,default:!0},showWord:{type:Boolean,default:!0}},emits:["click"],setup(y,{expose:i,emit:M}){const r=M,c=j(null);function l(){c.value?.scrollToBottom()}function d(F){c.value?.scrollToItem(F)}return i({scrollToBottom:l,scrollToItem:d}),(F,x)=>(n(),E(oo,bt({ref_key:"listRef",ref:c,onClick:x[0]||(x[0]=w=>r("click",w)),list:y.list},F.$attrs),{default:R(({item:w,index:_,active:t})=>[g(io,{"show-translate":y.showTranslate,"show-word":y.showWord,item:w,index:_,active:t},null,8,["show-translate","show-word","item","index","active"])]),_:1},16,["list"]))}}),Ws=Object.assign(bs,{__name:"WordList"}),ks=["innerHTML"],$s=pe({__name:"SentenceHightLightWord",props:{text:{default:""},dictation:{type:Boolean,default:!1},highLight:{type:Boolean,default:!0},word:{default:""}},setup(y){const i=y,M=le(()=>{if(!i.text||!i.word)return i.text;const c=new RegExp(`\\b${r(i.word)}\\b`,"gi");return i.text.replace(c,l=>`<span class="${i.highLight&&"highlight-word"} ${i.dictation&&"word-shadow"}">${l}</span>`)});function r(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return(c,l)=>(n(),f("div",{innerHTML:M.value},null,8,ks))}}),nt=Object.assign(xe($s,[["__scopeId","data-v-a2ddf398"]]),{__name:"SentenceHightLightWord"}),Ss={class:"flex flex-col items-center"},Ts={class:"flex gap-1 mt-30"},Is={key:0},Cs={class:"letter text-align-center w-full inline-block"},Ls={key:0,class:"l"},Ps={key:0,class:"input"},Rs={key:1,class:"wrong"},Ms={key:2,class:"letter"},Ds={key:3,class:"letter"},Ns={key:0,class:"mt-4 flex gap-4"},Fs={class:"flex"},Bs={key:0},Vs=["innerHTML"],As={class:"other anim"},Os={key:0,class:"flex flex-col gap-3"},Es={class:"sentence"},zs={class:"flex gap-space"},Hs={class:"text-base anim"},Ks={class:"flex"},js={class:"label"},Us={class:"flex flex-col"},Gs={class:"flex items-center gap-4"},qs={class:"cn anim"},Qs={class:"flex"},Zs={class:"label"},Js={class:"flex flex-col gap-3"},Xs={class:"flex"},Ys={class:"pos line-height-1.4rem!"},en={class:"cn anim"},tn={class:"anim"},on={class:"en"},ln={class:"anim"},sn={class:"flex"},nn={class:"label"},an={class:"text-base"},rn={class:"mb-2"},dn={class:""},cn={class:""};const un=pe({__name:"TypeWord",props:{word:{default:()=>ft()}},emits:["complete","wrong","know"],setup(y,{expose:i,emit:M}){const{t:r}=Je(),c=y,l=M;let d=j(""),F=j(""),x=j(!1),w=!1,_=0,t=0,B=-1,T=j({top:0,left:0});const a=Le(),z=Ve(),H=vo(),W=go(),L=wo(),u=mo(),s=_o(),U=j(),K=j();let V=le(()=>c.word.word.slice(d.value.length+F.value.length));function Y(){window.__CURRENT_WORD_INFO__={word:c.word.word,input:d.value,inputLock:w,containsSpace:c.word.word.includes(" ")}}fe(()=>c.word,Q,{deep:!0});function Q(){F.value=d.value="",_=0,I.value=w=!1,t=0,a.wordSound&&a.wordPracticeType!==S.Dictation&&U.value?.play(400,!0),Y(),Ne()}fe(()=>d.value,()=>{Y()}),rt(()=>{Y(),re.on(X.resetWord,Q),re.on(X.onTyping,ge)}),dt(()=>{re.off(X.resetWord),re.off(X.onTyping,ge)});function ee(){setTimeout(()=>{F.value=d.value="",_++,w=!1,a.wordSound&&U.value?.play()},a.waitTimeForChangeWord)}let I=j(!1),ce=0;const ve=le(()=>a.ignoreCase?d.value.toLowerCase()===c.word.word.toLowerCase():d.value===c.word.word);let A=!1;function te(k){if(a.wordPracticeType===S.Identify&&!I.value){w=I.value=!0,d.value=c.word.word,l("know"),A||(ie.info(r("know_word_tip"),{duration:5e3}),A=!0);return}ge(k)}function Pe(k){if(a.wordPracticeType===S.Identify&&!I.value){I.value=!0,l("wrong"),a.wordSound&&U.value?.play();return}ge(k)}async function ge(k){debugger;let b=c.word.word;if(w){if(k.code==="Space")if(ve.value){if(clearInterval(B),t&&Date.now()-t<300)return;I.value=w=!1,ke()?ee():l("complete")}else I.value&&(ce++,ce>=3&&(ie.info(r("press_delete_reinput"),{duration:2e3}),ce=0));else ve.value?(ce++,ce>=3&&(ie.info(r("press_space_continue"),{duration:2e3}),ce=0)):(I.value=w=!1,d.value=F.value="",ge(k));return}w=!0;let N=k.key;if(a.wordPracticeType===S.Dictation){if(k.code==="Space"&&d.value.length&&(d.value.length>=b.length||!b.includes(" "))){if(d.value.toLowerCase()===b.toLowerCase()){if(I.value)return l("complete");W(),a.wordSound&&U.value?.play()}else H(),a.wordSound&&U.value?.play(),l("wrong");I.value=!0;return}d.value+=N,F.value="",L(),Y(),w=!1}else if(a.wordPracticeType===S.Identify&&!I.value)I.value=!0,l("wrong"),a.wordSound&&U.value?.play(),w=!1,ge(k);else{let $=!1;a.ignoreCase?$=N.toLowerCase()===b[d.value.length].toLowerCase():$=N===b[d.value.length],k.shiftKey&&(b[d.value.length]==="ÔºÅ"&&k.code==="Digit1"||b[d.value.length]==="Ôø•"&&k.code==="Digit4"||b[d.value.length]==="‚Ä¶"&&k.code==="Digit6"||b[d.value.length]==="Ôºà"&&k.code==="Digit9"||b[d.value.length]==="‚Äî"&&k.code==="Minus"||b[d.value.length]==="Ôºü"&&k.code==="Slash"||b[d.value.length]==="„Äã"&&k.code==="Period"||b[d.value.length]==="„Ää"&&k.code==="Comma"||b[d.value.length]==="‚Äú"&&k.code==="Quote"||b[d.value.length]==="Ôºö"&&k.code==="Semicolon"||b[d.value.length]==="Ôºâ"&&k.code==="Digit0")&&($=!0,N=b[d.value.length]),!k.shiftKey&&(b[d.value.length]==="„Äê"&&k.code==="BracketLeft"||b[d.value.length]==="„ÄÅ"&&k.code==="Slash"||b[d.value.length]==="„ÄÇ"&&k.code==="Period"||b[d.value.length]==="Ôºå"&&k.code==="Comma"||b[d.value.length]==="‚Äò"&&k.code==="Quote"||b[d.value.length]==="Ôºõ"&&k.code==="Semicolon"||b[d.value.length]==="„Äê"&&k.code==="BracketLeft"||b[d.value.length]==="„Äë"&&k.code==="BracketRight")&&($=!0,N=b[d.value.length]),$?(d.value+=N,F.value="",L()):(l("wrong"),F.value=N,H(),a.wordSound&&U.value?.play(),setTimeout(()=>{a.inputWrongClear&&(d.value=""),F.value=""},500)),Y(),d.value.toLowerCase()===b.toLowerCase()?(t=Date.now(),W(),[S.Listen,S.Identify].includes(a.wordPracticeType)&&!I.value&&(I.value=!0),[S.FollowWrite,S.Spell].includes(a.wordPracticeType)&&a.autoNextWord&&(ke()?ee():B=setTimeout(()=>l("complete"),a.waitTimeForChangeWord))):w=!1}}function ke(){return a.wordPracticeType===S.FollowWrite?a.repeatCount==100?a.repeatCustomCount>_+1:a.repeatCount>_+1:!1}function $e(){L(),w=!1,I.value?(d.value="",I.value=!1):F.value?F.value="":d.value=d.value.slice(0,-1),Y()}function Re(){a.allowWordTip&&((a.wordPracticeType===S.Dictation||a.dictation)&&l("wrong"),x.value=!0,z.stage!==v.FollowWriteNewWord&&l("wrong"))}function Ae(){x.value=!1}function Me(){(a.wordPracticeType===S.Dictation||a.dictation)&&l("wrong"),U.value?.play()}i({del:$e,showWord:Re,hideWord:Ae,play:Me});function De(){setTimeout(()=>{x.value=!1},50)}function Oe(k,b){if(!k||!b)return k;const N=b.toLowerCase(),$=[`\\b${_e(N)}\\b`,`\\b${_e(N)}s\\b`,`\\b${_e(N)}es\\b`,`\\b${_e(N)}ed\\b`,`\\b${_e(N)}ing\\b`];let Z=k;return $.forEach(be=>{const Se=new RegExp(be,"gi");Z=Z.replace(Se,Ee=>`<span class="word-shadow">${Ee}</span>`)}),Z}function _e(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}fe([()=>d.value,()=>x.value,()=>a.dictation],Ne);function Ne(){ct(()=>{const k=document.querySelector(".cursor"),b=document.querySelectorAll(".l");if(!K.value)return;const N=K.value.getBoundingClientRect();if(b.length){let $=Wt(Array.from(b)).getBoundingClientRect();T.value={top:$.top+$.height-k.clientHeight-N.top,left:$.right-N.left-3}}else{const $=document.querySelector(".dictation");let Z;$?Z=$.getBoundingClientRect():Z=document.querySelector(".letter").getBoundingClientRect(),T.value={top:Z.top+Z.height-k.clientHeight-N.top,left:Z.left-N.left-3}}})}return Xe([[P.KnowWord,te],[P.UnknownWord,Pe]]),(k,b)=>{const N=ut("opacity");return y.word.word.length?(n(),f("div",{key:0,class:"typing-word",ref_key:"typingWordRef",ref:K},[o("div",Ss,[o("div",Ts,[e(a).soundType==="uk"&&y.word.phonetic0?(n(),f("div",{key:0,class:ae(["phonetic",(e(a).dictation||[e(S).Spell,e(S).Listen,e(S).Dictation].includes(e(a).wordPracticeType))&&!e(x)&&!e(I)&&"word-shadow"])}," ["+p(y.word.phonetic0)+"] ",3)):G("",!0),e(a).soundType==="us"&&y.word.phonetic1?(n(),f("div",{key:1,class:ae(["phonetic",(e(a).dictation||[e(S).Spell,e(S).Listen,e(S).Dictation].includes(e(a).wordPracticeType))&&!e(x)&&!e(I)&&"word-shadow"])}," ["+p(y.word.phonetic1)+"] ",3)):G("",!0),g(Ze,{title:`ÂèëÈü≥(${e(a).shortcutKeyMap[e(P).PlayWordPronunciation]})`,ref_key:"volumeIconRef",ref:U,simple:!0,cb:()=>e(u)(y.word.word)},null,8,["title","cb"])]),g(We,{title:e(a).dictation?`ÂèØ‰ª•ÊåâÂø´Êç∑ÈîÆ ${e(a).shortcutKeyMap[e(P).ShowWord]} ÊòæÁ§∫ÂçïËØç`:""},{default:R(()=>[o("div",{id:"word",class:ae(["word my-1",e(F)&&"is-wrong"]),style:ye({fontSize:e(a).fontSize.wordForeignFontSize+"px"}),onMouseenter:Re,onMouseleave:De},[e(a).wordPracticeType===e(S).Dictation?(n(),f("div",Is,[ue((n(),f("div",Cs,[ne(p(y.word.word),1)])),[[N,!e(a).dictation||e(I)||e(x)]]),o("div",{class:ae(["mt-2 w-120 dictation",e(I)?ve.value?"right":"wrong":""]),style:ye({minHeight:e(a).fontSize.wordForeignFontSize+"px"})},[(n(!0),f(O,null,oe(e(d),$=>(n(),f(O,null,[$!==" "?(n(),f("span",Ls,p($),1)):(n(),E(Jt,{key:1,class:"l","is-wrong":e(I)?!ve.value:!1,"is-wait":!e(I)},null,8,["is-wrong","is-wait"]))],64))),256))],6)])):(n(),f(O,{key:1},[e(d)?(n(),f("span",Ps,p(e(d)),1)):G("",!0),e(F)?(n(),f("span",Rs,p(e(F)),1)):G("",!0),e(a).dictation&&!e(x)?(n(),f("span",Ms,p(e(V).split("").map($=>$===" "?"¬†":"_").join("")),1)):(n(),f("span",Ds,p(e(V)),1))],64))],38)]),_:1},8,["title"]),e(a).wordPracticeType===e(S).Identify&&!e(I)?(n(),f("div",Ns,[g(me,{keyboard:`${e(r)("shortcut")}(${e(a).shortcutKeyMap[e(P).KnowWord]})`,size:"large",onClick:te},{default:R(()=>[ne(p(e(r)("i_know")),1)]),_:1},8,["keyboard"]),g(me,{keyboard:`${e(r)("shortcut")}(${e(a).shortcutKeyMap[e(P).UnknownWord]})`,size:"large",onClick:Pe},{default:R(()=>[ne(p(e(r)("i_dont_know")),1)]),_:1},8,["keyboard"])])):G("",!0),ue((n(),f("div",{class:"translate flex flex-col gap-2 my-3",style:ye({fontSize:e(a).fontSize.wordTranslateFontSize+"px"})},[(n(!0),f(O,null,oe(y.word.trans,$=>(n(),f("div",Fs,[o("div",{class:ae(["shrink-0",$.pos?"w-12 en-article-family":"-ml-3"])},p($.pos),3),!e(a).dictation||e(I)||e(x)?(n(),f("span",Bs,p($.cn),1)):(n(),f("span",{key:1,innerHTML:Oe($.cn,y.word.word)},null,8,Vs))]))),256))],4)),[[N,e(a).translate||e(I)||e(x)]])]),ue((n(),f("div",As,[b[3]||(b[3]=o("div",{class:"line-white my-3"},null,-1)),y.word?.sentences?.length?(n(),f("div",Os,[(n(!0),f(O,null,oe(y.word.sentences,$=>(n(),f("div",Es,[o("div",zs,[g(nt,{class:"text-xl",text:$.c,word:y.word.word,dictation:!(!e(a).dictation||e(x)||e(I))},null,8,["text","word","dictation"]),g(Ze,{title:"ÂèëÈü≥",simple:!1,onClick:Z=>e(s)($.c)},null,8,["onClick"])]),ue((n(),f("div",Hs,[ne(p($.cn),1)])),[[N,e(a).translate||e(x)||e(I)]])]))),256))])):G("",!0),y.word?.phrases?.length?(n(),f(O,{key:1},[b[0]||(b[0]=o("div",{class:"line-white my-3"},null,-1)),o("div",Ks,[o("div",js,p(e(r)("phrases")),1),o("div",Us,[(n(!0),f(O,null,oe(y.word.phrases,$=>(n(),f("div",Gs,[g(nt,{class:"en",text:$.c,word:y.word.word,dictation:!(!e(a).dictation||e(x)||e(I))},null,8,["text","word","dictation"]),ue((n(),f("div",qs,[ne(p($.cn),1)])),[[N,e(a).translate||e(x)||e(I)]])]))),256))])])],64)):G("",!0),e(a).translate||!e(a).dictation?(n(),f(O,{key:2},[y.word?.synos?.length?(n(),f(O,{key:0},[b[1]||(b[1]=o("div",{class:"line-white my-3"},null,-1)),o("div",Qs,[o("div",Zs,p(e(r)("synonyms")),1),o("div",Js,[(n(!0),f(O,null,oe(y.word.synos,$=>(n(),f("div",Xs,[o("div",Ys,p($.pos),1),o("div",null,[ue((n(),f("div",en,[ne(p($.cn),1)])),[[N,e(a).translate||e(x)||e(I)]]),ue((n(),f("div",tn,[(n(!0),f(O,null,oe($.ws,(Z,be)=>(n(),f("span",on,p(Z)+" "+p(be!==$.ws.length-1?" / ":""),1))),256))])),[[N,!e(a).dictation||e(x)||e(I)]])])]))),256))])])],64)):G("",!0)],64)):G("",!0),ue((n(),f("div",ln,[y.word?.etymology?.length?(n(),f(O,{key:0},[b[2]||(b[2]=o("div",{class:"line-white my-3"},null,-1)),o("div",sn,[o("div",nn,p(e(r)("etymology")),1),o("div",an,[(n(!0),f(O,null,oe(y.word.etymology,$=>(n(),f("div",rn,[o("div",dn,p($.t),1),o("div",cn,p($.d),1)]))),256))])])],64)):G("",!0),(y.word?.relWords?.root,G("",!0))])),[[N,e(a).translate&&!e(a).dictation||e(x)||e(I)]])])),[[N,![e(S).Listen,e(S).Dictation,e(S).Identify].includes(e(a).wordPracticeType)||e(x)||e(I)]]),o("div",{class:"cursor",style:ye({top:e(T).top+"px",left:e(T).left+"px",height:e(a).fontSize.wordForeignFontSize+"px"})},null,4)],512)):G("",!0)}}}),fn=Object.assign(xe(un,[["__scopeId","data-v-ff0bc64a"]]),{__name:"TypeWord"}),pn={class:"card-white"},vn=["onClick"],gn={class:"text-sm ml-2"},wn={class:"target"},mn=pe({__name:"GroupList",emits:["click"],setup(y,{emit:i}){const M=Be(),r=j(!1),c=j(null),l=j([]),d=t=>{const B=M.sdict.length,T=M.sdict.perDayStudyNumber,a=M.groupLength;return t===a&&B%T!==0?B%T:T},F=()=>{r.value=!0},x=()=>{r.value=!1};fe(r,async t=>{if(t){await kt();const B=M.currentGroup-1,T=l.value[B],a=c.value;if(T&&a){const z=T.offsetTop,H=T.offsetHeight,W=a.clientHeight;a.scrollTo({top:z-W/2+H/2})}}});const w=(t,B)=>{t&&(l.value[B]=t)},_=i;return(t,B)=>(n(),f("div",{class:"relative z-999",onMouseenter:F,onMouseleave:x},[o("div",{class:ae(["pt-2 left-1/2 -transform-translate-x-1/2 absolute z-999 top-full transition-all duration-300",{"opacity-0 scale-95 pointer-events-none":!r.value,"opacity-100 scale-100 pointer-events-auto":r.value}])},[g(yo,{"model-value":e(M).currentGroup},{default:R(()=>[o("div",pn,[o("div",{ref_key:"scrollContainer",ref:c,class:"max-h-70 overflow-y-auto space-y-2"},[(n(!0),f(O,null,oe(e(M).groupLength,T=>(n(),f("div",{ref_for:!0,ref:a=>w(a,T-1),class:ae(["break-keep flex bg-primary px-3 py-1 rounded-md hover:bg-card-active anim border border-solid border-item",{"bg-card-active!":T===e(M).currentGroup}]),onClick:a=>_("click",T),key:T},[g(xo,{value:T,label:`Á¨¨${T}ÁªÑ`},null,8,["value","label"]),o("span",gn,p(d(T))+"ËØç",1)],10,vn))),128))],512)])]),_:1},8,["model-value"])],2),o("div",wn,"Á¨¨"+p(e(M).currentGroup)+"ÁªÑ",1)],32))}}),_n=Object.assign(xe(mn,[["__scopeId","data-v-bab7604e"]]),{__name:"GroupList"}),hn={class:"practice-word mb-50"},yn={key:0,class:"fixed z-1 top-4 w-full",style:{left:"calc(50vw + var(--aside-width) / 2 - var(--toolbar-width) / 2)",width:"var(--toolbar-width)"}},xn={class:"word"},bn={class:"center gap-1"},Wn={class:"panel-page-item pl-4"},Ce=7,kn=pe({__name:"[id]",setup(y){const{isWordCollect:i,toggleWordCollect:M,isWordSimple:r,toggleWordSimple:c}=Gt(),l=Le(),d=$t(),{toggleTheme:F}=jt(),x=St(),w=Tt(),_=Be(),t=Ve(),B=j();let T=j(!1),a=new Set,z=j(!1),H=j(!1),W=j(0),L=!0,u=j({new:[],review:[],write:[],shuffle:[]}),s=j({index:0,words:[],wrongWords:[],excludeWords:[],isTypingWrongWord:!1});et("practiceData",s.value),et("practiceTaskWords",u.value);async function U(){let m=It(),h=w.params.id;if(h){m=_.word.bookList.find(se=>se.id===h);let q=await(await fetch(Ct(Pt.WORD.ALL))).json();if(m||(m=q.flat().find(se=>se.id===h)),m&&m.id){if(m.custom||(m=await Lt(m)),!m.words.length)return x.push("/words"),ie.warning("Ê≤°ÊúâÂçïËØçÂèØÂ≠¶‰π†ÔºÅ");_.changeDict(m),K(je(),!0),H.value=!1}else x.push("/words")}else x.push("/words")}fe([()=>_.load,()=>H.value],([m,h])=>{m&&h&&U()},{immediate:!0}),rt(()=>{d.routeData?K(d.routeData.taskWords,!0,d.routeData.practiceMode):H.value=!0,w.query.guide?T.value=!1:T.value=!0,document.addEventListener("visibilitychange",()=>{L=!document.hidden})}),dt(()=>{lt()&&$e(),W.value&&clearInterval(W.value)}),Wo(()=>s.value.words.length,(m,h)=>{!h&&m&&ct(async()=>{const D=await Rt("Shepherd",Mt.SHEPHERD),q=new D.Tour(Ke);q.on("cancel",()=>{localStorage.setItem("tour-guide","1")}),q.addStep({id:"step5",text:"ËøôÈáåÂèØ‰ª•ÁªÉ‰π†ÊãºÂÜôÂçïËØçÔºåÂè™ÈúÄË¶ÅÊåâ‰∏ãÈîÆÁõò‰∏äÂØπÂ∫îÁöÑÊåâÈîÆÂç≥ÂèØÔºåÊ≤°ÊúâËæìÂÖ•Ê°ÜÔºÅ",attachTo:{element:"#word",on:"bottom"},buttons:[{text:`‰∏ã‰∏ÄÊ≠•Ôºà5/${Ke.total}Ôºâ`,action:q.next}]}),q.addStep({id:"step6",text:"ËøôÈáåÊòØÊñáÁ´†ÁªÉ‰π†",attachTo:{element:"#article",on:"top"},buttons:[{text:`‰∏ã‰∏ÄÊ≠•Ôºà6/${Ke.total}Ôºâ`,action(){q.next(),x.push("/articles")}}]});const se=localStorage.getItem("tour-guide");l.first&&!se&&!Dt()&&q.start()},500)}),At(),Ot(()=>H.value);function K(m,h=!1){let D=lt();D&&h?(u.value=Object.assign(u.value,D.taskWords),s.value=Object.assign(s.value,D.practiceData),t.$patch(D.statStoreData)):(u.value=Object.assign(u.value,m),l.wordPracticeMode===C.Shuffle?(l.wordPracticeType=S.Dictation,s.value.words=u.value.shuffle,t.stage=v.Shuffle,t.total=u.value.shuffle.length,t.newWordNumber=0,t.reviewWordNumber=0,t.writeWordNumber=t.total):l.wordPracticeMode===C.Review?(u.value.review.length?(s.value.words=u.value.review,t.stage=v.IdentifyReview):u.value.write.length&&(s.value.words=u.value.write,t.stage=v.IdentifyReviewAll),t.total=u.value.review.length+u.value.write.length,t.newWordNumber=0,t.reviewWordNumber=u.value.review.length,t.writeWordNumber=u.value.write.length):(u.value.new.length===0?u.value.review.length?(s.value.words=u.value.review,l.wordPracticeMode===C.System?t.stage=v.IdentifyReview:l.wordPracticeMode===C.Free?t.stage=He[l.wordPracticeMode][0]:l.wordPracticeMode===C.IdentifyOnly?t.stage=v.IdentifyReview:l.wordPracticeMode===C.DictationOnly?t.stage=v.DictationReview:l.wordPracticeMode===C.ListenOnly&&(t.stage=v.ListenReview)):u.value.write.length?(s.value.words=u.value.write,l.wordPracticeMode===C.System?t.stage=v.IdentifyReviewAll:l.wordPracticeMode===C.Free?t.stage=He[l.wordPracticeMode][0]:l.wordPracticeMode===C.IdentifyOnly?t.stage=v.IdentifyReviewAll:l.wordPracticeMode===C.DictationOnly?t.stage=v.DictationReviewAll:l.wordPracticeMode===C.ListenOnly&&(t.stage=v.ListenReviewAll)):(ie.warning("Ê≤°ÊúâÂèØÂ≠¶‰π†ÁöÑÂçïËØçÔºÅ"),x.push("/words")):(s.value.words=u.value.new,t.stage=He[l.wordPracticeMode][0]),t.total=u.value.review.length+u.value.new.length+u.value.write.length,t.newWordNumber=u.value.new.length,t.reviewWordNumber=u.value.review.length,t.writeWordNumber=u.value.write.length),s.value.index=0,s.value.wrongWords=[],s.value.excludeWords=[],a.clear(),t.startDate=Date.now(),t.inputWordNumber=0,t.wrong=0,t.spend=0,s.value.isTypingWrongWord=!1,ee(t.stage),I(l.wordPracticeType)),clearInterval(W.value),W.value=bo(()=>{L&&(t.spend+=1e3)},1e3)}const V=le(()=>s.value.words[s.value.index]??ft()),Y=le(()=>s.value.words?.[s.value.index-1]??void 0),Q=le(()=>s.value.words?.[s.value.index+1]??void 0);function ee(m){switch(m){case v.DictationNewWord:case v.DictationReview:case v.DictationReviewAll:case v.Shuffle:l.wordPracticeType=S.Dictation;break;case v.ListenNewWord:case v.ListenReview:case v.ListenReviewAll:l.wordPracticeType=S.Listen;break;case v.FollowWriteNewWord:case v.FollowWriteReview:case v.FollowWriteReviewAll:l.wordPracticeType=S.FollowWrite;break;case v.IdentifyNewWord:case v.IdentifyReview:case v.IdentifyReviewAll:l.wordPracticeType=S.Identify;break}}function I(m){if(l.wordPracticeMode!==C.Free)switch(m){case S.Spell:case S.Dictation:l.dictation=!0,l.translate=!0;break;case S.Listen:l.dictation=!0,l.translate=!1;break;case S.FollowWrite:l.dictation=!1,l.translate=!0;break;case S.Identify:l.dictation=!1,l.translate=!1;break}}fe(()=>t.stage,m=>{ee(m)}),fe(()=>l.wordPracticeType,m=>{I(m)});function ce(){l.wordPracticeType===S.FollowWrite?(s.value.index++,s.value.index%Ce===0&&(l.wordPracticeType=S.Spell,s.value.index-=Ce)):(s.value.index++,s.value.index%Ce===0&&(l.wordPracticeType=S.FollowWrite))}let ve=null;function A(m,h="",D=!1){let q=m.filter(se=>!s.value.excludeWords.includes(se.word));console.log(h),t.stage=t.nextStage,q.length?(D&&(ve&&ve.close(),ve=ie.info("ËæìÂÖ•ÂÆåÊàêÂêéÊåâÁ©∫Ê†ºÈîÆÂàáÊç¢‰∏ã‰∏Ä‰∏™",{duration:5e3})),s.value.words=q,s.value.index=0):(console.log(h+":Êó†ÂçïËØçÁï•Ëøá"),te(!1))}async function te(m=!0){debugger;const h=()=>{console.log("ÂÖ®ÂÆåÂ≠¶ÂÆå‰∫Ü"),z.value=!0,clearInterval(W.value),setTimeout(()=>Ie(null),300)};if(m&&t.inputWordNumber++,l.wordPracticeMode===C.Free)s.value.index===s.value.words.length-1?(s.value.wrongWords=s.value.wrongWords.filter(D=>!s.value.excludeWords.includes(D.word)),s.value.wrongWords.length?(s.value.isTypingWrongWord=!0,l.wordPracticeType=S.FollowWrite,console.log("ÂΩìÂâçÂ≠¶ÂÆå‰∫ÜÔºå‰ΩÜËøòÊúâÈîôËØç"),s.value.words=J(Fe(s.value.wrongWords)),s.value.index=0,s.value.wrongWords=[]):(s.value.isTypingWrongWord=!1,h())):s.value.index++;else if(s.value.index===s.value.words.length-1){if((t.stage===v.FollowWriteNewWord||s.value.isTypingWrongWord)&&l.wordPracticeType!==S.Spell){s.value.index=Math.floor(s.value.index/Ce)*Ce,re.emit(X.resetWord),l.wordPracticeType=S.Spell,r(V.value)&&te(!1);return}s.value.wrongWords=s.value.wrongWords.filter(D=>!s.value.excludeWords.includes(D.word)),s.value.wrongWords.length?(s.value.isTypingWrongWord=!0,l.wordPracticeType=S.FollowWrite,console.log("ÂΩìÂâçÂ≠¶ÂÆå‰∫ÜÔºå‰ΩÜËøòÊúâÈîôËØç"),s.value.words=J(Fe(s.value.wrongWords)),s.value.index=0,s.value.wrongWords=[]):(s.value.isTypingWrongWord=!1,console.log("ÂΩìÂâçÂ≠¶ÂÆå‰∫ÜÔºåÊ≤°ÈîôËØç",t.total,t.stage,s.value.index),l.wordPracticeMode===C.System?t.stage===v.FollowWriteNewWord?A(J(u.value.new),"ÂºÄÂßãÂê¨ÂÜôÊñ∞ËØç",!0):t.stage===v.ListenNewWord?A(J(u.value.new),"ÂºÄÂßãÈªòÂÜôÊñ∞ËØç"):t.stage===v.DictationNewWord?A(u.value.review,"ÂºÄÂßãËá™ÊµãÊò®Êó•"):t.stage===v.IdentifyReview?A(J(u.value.review),"ÂºÄÂßãÂê¨ÂÜô‰∏äÊ¨°",!0):t.stage===v.ListenReview?A(J(u.value.review),"ÂºÄÂßãÈªòÂÜô‰∏äÊ¨°"):t.stage===v.DictationReview?A(u.value.write,"ÂºÄÂßãËá™Êµã‰πãÂâç"):t.stage===v.IdentifyReviewAll?A(J(u.value.write),"ÂºÄÂßãÂê¨ÂÜô‰πãÂâç",!0):t.stage===v.ListenReviewAll?A(J(u.value.write),"ÂºÄÂßãÈªòÂÜô‰πãÂâç"):t.stage===v.DictationReviewAll&&h():l.wordPracticeMode===C.ListenOnly?t.stage===v.ListenNewWord?A(u.value.review,"ÂºÄÂßãÂê¨ÂÜôÊò®Êó•",!0):t.stage===v.ListenReview?A(u.value.write,"ÂºÄÂßãÂê¨ÂÜô‰πãÂâç"):t.stage===v.ListenReviewAll&&h():l.wordPracticeMode===C.DictationOnly?t.stage===v.DictationNewWord?A(u.value.review,"ÂºÄÂßãÈªòÂÜôÊò®Êó•",!0):t.stage===v.DictationReview?A(u.value.write,"ÂºÄÂßãÈªòÂÜô‰πãÂâç"):t.stage===v.DictationReviewAll&&h():l.wordPracticeMode===C.IdentifyOnly?t.stage===v.IdentifyNewWord?A(u.value.review,"ÂºÄÂßãËá™ÊµãÊò®Êó•"):t.stage===v.IdentifyReview?A(u.value.write,"ÂºÄÂßãËá™Êµã‰πãÂâç"):t.stage===v.IdentifyReviewAll&&h():l.wordPracticeMode===C.Shuffle?t.stage===v.Shuffle&&h():l.wordPracticeMode===C.Review&&(t.stage===v.IdentifyReview?A(J(u.value.review),"ÂºÄÂßãÂê¨ÂÜôÊò®Êó•",!0):t.stage===v.ListenReview?A(J(u.value.review),"ÂºÄÂßãÈªòÂÜôÊò®Êó•"):t.stage===v.DictationReview?A(u.value.write,"ÂºÄÂßãËá™Êµã‰πãÂâç"):t.stage===v.IdentifyReviewAll?A(J(u.value.write),"ÂºÄÂßãÂê¨ÂÜô‰πãÂâç",!0):t.stage===v.ListenReviewAll?A(J(u.value.write),"ÂºÄÂßãÈªòÂÜô‰πãÂâç"):t.stage===v.DictationReviewAll&&h()))}else t.stage===v.FollowWriteNewWord||s.value.isTypingWrongWord?ce():s.value.index++;r(V.value)&&te(!1)}function Pe(){s.value.index=s.value.words.length-1,s.value.wrongWords=[],te(!1)}function ge(){s.value.excludeWords.findIndex(h=>h===V.value.word)<0&&s.value.excludeWords.push(V.value.word)}function ke(){let m=V.value.word.toLowerCase();a.has(V.value.word.toLowerCase())||(a.add(V.value.word.toLowerCase()),t.wrong++),_.wrong.words.find(h=>h.word.toLowerCase()===m)||(_.wrong.words.push(V.value),_.wrong.length=_.wrong.words.length),s.value.wrongWords.find(h=>h.word.toLowerCase()===m)||s.value.wrongWords.push(V.value),$e()}function $e(){Ie({taskWords:u.value,practiceData:s.value,statStoreData:t.$state})}fe(()=>s.value.index,$e);function Re(m){B.value.hideWord()}function Ae(m){m.key==="Backspace"&&B.value.del()}Et(Ae,Re);function Me(){console.log("ÈáçÂ≠¶‰∏ÄÈÅç"),Ie(null);let m=Fe(u.value),h=[_.allIgnoreWords,_.knownWords][l.ignoreSimpleWord?0:1];l.wordPracticeMode===C.Shuffle?m.shuffle=J(m.shuffle.filter(D=>!h.includes(D.word))):(_.sdict.lastLearnIndex=_.sdict.lastLearnIndex-t.newWordNumber,m.new=m.new.filter(D=>!h.includes(D.word)),m.review=m.review.filter(D=>!h.includes(D.word)),m.write=m.write.filter(D=>!h.includes(D.word))),re.emit(X.resetWord),K(m)}function De(){s.value.index===0?ie.warning("Â∑≤ÁªèÊòØÁ¨¨‰∏Ä‰∏™‰∫Ü~"):s.value.index--}function Oe(m){te(!1)}function _e(m){[S.FollowWrite].includes(l.wordPracticeType)||ke(),B.value.showWord()}function Ne(m){M(V.value)}function k(){B.value.play()}function b(){r(V.value)||setTimeout(()=>te(!1));let m=s.value.excludeWords.findIndex(h=>h===V.value.word);m>-1?s.value.excludeWords.splice(m,1):s.value.excludeWords.push(V.value.word),c(V.value)}function N(){l.translate=!l.translate}function $(){l.dictation=!l.dictation}function Z(){l.showToolbar=!l.showToolbar,l.showPanel=l.showToolbar}function be(){l.showPanel=!l.showPanel}async function Se(){Ie(null);let m=Fe(u.value),h=[_.allIgnoreWords,_.knownWords][l.ignoreSimpleWord?0:1];if(l.wordPracticeMode===C.Shuffle)m.shuffle=J(_.sdict.words.filter(D=>!h.includes(D.word))).slice(0,d.routeData.total??m.shuffle.length),z.value&&(z.value=!1);else{if(z.value)console.log("Â≠¶ÂÆå‰∫ÜÔºåÊ≠£Â∏∏‰∏ã‰∏ÄÁªÑ"),z.value=!1;else{console.log("Ê≤°Â≠¶ÂÆåÔºåÂº∫Ë°åË∑≥Ëøá"),_.sdict.lastLearnIndex=_.sdict.lastLearnIndex+t.newWordNumber;const D=h.filter(q=>_.sdict.words.some(se=>se.word.toLowerCase()===q)).length;_.sdict.lastLearnIndex+D>=_.sdict.length&&(_.sdict.complete=!0,_.sdict.lastLearnIndex=_.sdict.length)}m=je()}if(re.emit(X.resetWord),K(m),qe.CAN_REQUEST){let D=await tt(null,{..._.sdict,type:"word"});D.success||ie.error(D.msg)}}async function Ee(m){if(Ie(null),console.log("Ê≤°Â≠¶ÂÆåÔºåÂº∫Ë°åË∑≥Ëøá",m),_.sdict.lastLearnIndex=(m-1)*_.sdict.perDayStudyNumber,re.emit(X.resetWord),K(je()),qe.CAN_REQUEST){let h=await tt(null,{..._.sdict,type:"word"});h.success||ie.error(h.msg)}}function Ye(){console.log("ÈöèÊú∫ÈªòÂÜô"),s.value.words=J(s.value.words),s.value.index=0,l.dictation=!0}return Xe([[X.repeatStudy,Me],[X.continueStudy,Se],[P.ShowWord,_e],[P.Previous,De],[P.Next,Oe],[P.ToggleCollect,Ne],[P.ToggleSimple,b],[P.PlayWordPronunciation,k],[P.RepeatChapter,Me],[P.NextChapter,Se],[P.ToggleShowTranslate,N],[P.ToggleDictation,$],[P.ToggleTheme,F],[P.ToggleConciseMode,Z],[P.TogglePanel,be],[P.RandomWrite,Ye]]),(m,h)=>{const D=Po,q=pt,se=So,vt=ut("loading");return n(),f(O,null,[ue((n(),E(Yt,{panelLeft:"var(--word-panel-margin-left)"},{practice:R(()=>[o("div",hn,[e(l).showNearWord?(n(),f("div",yn,[Y.value?(n(),f("div",{key:0,class:"center gap-2 cursor-pointer float-left",onClick:De},[g(D,{class:"arrow",width:"22"}),g(We,{title:`‰∏ä‰∏Ä‰∏™(${e(l).shortcutKeyMap[e(P).Previous]})`},{default:R(()=>[o("div",xn,p(Y.value.word),1)]),_:1},8,["title"])])):G("",!0),Q.value?(n(),f("div",{key:1,class:"center gap-2 cursor-pointer float-right mr-3",onClick:h[0]||(h[0]=he=>te(!1))},[g(We,{title:`‰∏ã‰∏Ä‰∏™(${e(l).shortcutKeyMap[e(P).Next]})`},{default:R(()=>[o("div",{class:ae(["word",e(l).dictation&&"word-shadow"])},p(Q.value.word),3)]),_:1},8,["title"]),g(q,{class:"arrow",width:"22"})])):G("",!0)])):G("",!0),g(fn,{ref_key:"typingRef",ref:B,word:V.value,onWrong:ke,onComplete:te,onKnow:ge},null,8,["word"])])]),panel:R(()=>[g(Xt,null,{title:R(()=>[o("div",bn,[o("span",null,p(e(_).sdict.name),1),e(u).new.length&&e(l).wordPracticeMode!==e(C).Shuffle?(n(),E(_n,{key:0,onClick:Ee})):G("",!0),e(u).new.length&&![e(C).Review,e(C).Shuffle].includes(e(l).wordPracticeMode)?(n(),E(we,{key:1,onClick:Se,title:`‰∏ã‰∏ÄÁªÑ(${e(l).shortcutKeyMap[e(P).NextChapter]})`},{default:R(()=>[g(q,{class:"arrow",width:"22"})]),_:1},8,["title"])):G("",!0),g(we,{onClick:Ye,title:`ÈöèÊú∫ÈªòÂÜô(${e(l).shortcutKeyMap[e(P).RandomWrite]})`},{default:R(()=>[g(se,{class:"arrow",width:"22"})]),_:1},8,["title"])])]),default:R(()=>[o("div",Wn,[e(s).words.length?(n(),E(Ws,{key:0,"is-active":e(l).showPanel,static:!1,"show-word":!e(l).dictation,"show-translate":e(l).translate,list:e(s).words,activeIndex:e(s).index,onClick:h[1]||(h[1]=he=>e(s).index=he.index)},null,8,["is-active","show-word","show-translate","list","activeIndex"])):(n(),E(ho,{key:1}))])]),_:1})]),footer:R(()=>[g(xs,{"is-simple":e(r)(V.value),onToggleSimple:b,"is-collect":e(i)(V.value),onToggleCollect:h[2]||(h[2]=he=>e(M)(V.value)),onSkip:h[3]||(h[3]=he=>te(!1)),onSkipStep:Pe},null,8,["is-simple","is-collect"])]),_:1})),[[vt,e(H)]]),g(kl,{modelValue:e(z),"onUpdate:modelValue":h[4]||(h[4]=he=>it(z)?z.value=he:z=he)},null,8,["modelValue"]),e(T)?(n(),E(eo,{key:0})):G("",!0)],64)}}}),fa=xe(kn,[["__scopeId","data-v-b633895f"]]);export{fa as default};
