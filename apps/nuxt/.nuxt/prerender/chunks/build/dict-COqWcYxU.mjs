import { _ as __unplugin_components_5$1 } from './question-circle20-regular-ixBvu_Z4.mjs';
import { defineComponent, ref, computed, useSlots, createVNode, createTextVNode, defineAsyncComponent, useModel, watch, unref, createSlots, withCtx, isRef, toDisplayString, openBlock, createBlock, createCommentVNode, mergeModels, mergeProps, nextTick, isVNode, markRaw, createElementBlock, createElementVNode, useSSRContext } from 'file:///Users/lishuang/Documents/workspace/web/study/vue/TypeWords-master/node_modules/vue/index.mjs';
import { ssrRenderComponent, ssrInterpolate, ssrRenderAttrs, ssrIncludeBooleanAttr, ssrRenderAttr, ssrRenderList } from 'file:///Users/lishuang/Documents/workspace/web/study/vue/TypeWords-master/node_modules/vue/server-renderer/index.mjs';
import { w as debounce, B as BaseIcon, r as request, b as useSettingStore, a as useRuntimeStore, T as Toast, x as _getAccomplishDays } from './BaseIcon-Cnj57dgy.mjs';
import { B as BaseButton, _ as __unplugin_components_7 } from './BaseButton-DUaQjEVD.mjs';
import { C as Checkbox } from './Checkbox-ChlucEKY.mjs';
import { S as Slider } from './Slider-ibM1Ch1E.mjs';
import { _ as __unplugin_components_0 } from './search24-regular-Cw07GsNM.mjs';
import { M as MiniDialog } from './MiniDialog-DIRP4Q9a.mjs';
import { P as PopConfirm } from './PopConfirm-BsYq1Crk.mjs';
import { E as Empty } from './Empty-DqqzidIv.mjs';
import { _ as __unplugin_components_6$1 } from './chevron-left20-filled-B_9PTvDy.mjs';
import { B as BaseInput } from './BaseInput-mlIHP8lZ.mjs';
import { h as _export_sfc, g as useI18n } from './server.mjs';
import { D as DeleteIcon } from './DeleteIcon-DU4Q4Alm.mjs';
import Dialog from './Dialog-BoKDmA_Y.mjs';
import { f as Sort, k as ENV, h as Tooltip, e as AppEnv } from './env-CUoXYOyW.mjs';
import { W as WordItem } from './WordItem-QVJUwi53.mjs';
import { I as InputNumber } from './InputNumber-CwEqYfu9.mjs';

const _hoisted_1$4 = {
  viewBox: "0 0 20 20",
  width: "1.2em",
  height: "1.2em"
};
function render$4(_ctx, _cache) {
  return openBlock(), createElementBlock("svg", _hoisted_1$4, [..._cache[0] || (_cache[0] = [
    createElementVNode("path", {
      fill: "currentColor",
      d: "M13.73 14.436a6.5 6.5 0 1 1 .707-.707l3.416 3.418a.5.5 0 0 1-.637.764l-.07-.057zm-.71-.71q.385-.32.707-.706a5.5 5.5 0 1 0-.707.707"
    }, null, -1)
  ])]);
}
const __unplugin_components_6 = markRaw({ name: "fluent-search20-regular", render: render$4 });
const _hoisted_1$3 = {
  viewBox: "0 0 20 20",
  width: "1.2em",
  height: "1.2em"
};
function render$3(_ctx, _cache) {
  return openBlock(), createElementBlock("svg", _hoisted_1$3, [..._cache[0] || (_cache[0] = [
    createElementVNode("path", {
      fill: "currentColor",
      d: "M2.354 7.354L4.998 4.71V16.5a.5.5 0 0 0 1 0V4.705l2.649 2.65a.5.5 0 0 0 .707-.708l-3.49-3.49l-.01-.01A.5.5 0 0 0 5.5 3h-.002a.5.5 0 0 0-.383.179L1.646 6.647a.5.5 0 1 0 .708.707m15.293 5.292l-2.644 2.644V3.5a.5.5 0 0 0-1 0v11.795l-2.65-2.65a.5.5 0 0 0-.707.708l3.49 3.49l.01.01a.5.5 0 0 0 .355.147h.002a.5.5 0 0 0 .383-.179l3.468-3.468a.5.5 0 1 0-.707-.707"
    }, null, -1)
  ])]);
}
const __unplugin_components_5 = markRaw({ name: "fluent-arrow-sort20-regular", render: render$3 });
const _hoisted_1$2 = {
  viewBox: "0 0 20 20",
  width: "1.2em",
  height: "1.2em"
};
function render$2(_ctx, _cache) {
  return openBlock(), createElementBlock("svg", _hoisted_1$2, [..._cache[0] || (_cache[0] = [
    createElementVNode("path", {
      fill: "currentColor",
      d: "M10 2.5a.5.5 0 0 1 .5.5v6.5H17a.5.5 0 0 1 0 1h-6.5V17a.5.5 0 0 1-1 0v-6.5H3a.5.5 0 0 1 0-1h6.5V3a.5.5 0 0 1 .5-.5"
    }, null, -1)
  ])]);
}
const __unplugin_components_4 = markRaw({ name: "fluent-add20-regular", render: render$2 });
const _hoisted_1$1 = {
  viewBox: "0 0 256 256",
  width: "1.2em",
  height: "1.2em"
};
function render$1(_ctx, _cache) {
  return openBlock(), createElementBlock("svg", _hoisted_1$1, [..._cache[0] || (_cache[0] = [
    createElementVNode("path", {
      fill: "currentColor",
      d: "M214 112v96a14 14 0 0 1-14 14H56a14 14 0 0 1-14-14v-96a14 14 0 0 1 14-14h24a6 6 0 0 1 0 12H56a2 2 0 0 0-2 2v96a2 2 0 0 0 2 2h144a2 2 0 0 0 2-2v-96a2 2 0 0 0-2-2h-24a6 6 0 0 1 0-12h24a14 14 0 0 1 14 14M92.24 68.24L122 38.49V136a6 6 0 0 0 12 0V38.49l29.76 29.75a6 6 0 1 0 8.48-8.48l-40-40a6 6 0 0 0-8.48 0l-40 40a6 6 0 1 0 8.48 8.48"
    }, null, -1)
  ])]);
}
const __unplugin_components_3 = markRaw({ name: "ph-export-light", render: render$1 });
const _hoisted_1 = {
  viewBox: "0 0 21 21",
  width: "1.2em",
  height: "1.2em"
};
function render(_ctx, _cache) {
  return openBlock(), createElementBlock("svg", _hoisted_1, [..._cache[0] || (_cache[0] = [
    createElementVNode("g", {
      fill: "none",
      "fill-rule": "evenodd",
      stroke: "currentColor",
      "stroke-linecap": "round",
      "stroke-linejoin": "round"
    }, [
      createElementVNode("path", { d: "M9.5 3.5h-4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-10" }),
      createElementVNode("path", { d: "m13.5 10.5l-3 3l-3-3" }),
      createElementVNode("path", { d: "M17.5 3.5h-4a3 3 0 0 0-3 3v7" })
    ], -1)
  ])]);
}
const __unplugin_components_1 = markRaw({ name: "system-uicons-import", render });
const _sfc_main$3 = /* @__PURE__ */ defineComponent({
  __name: "Pagination",
  __ssrInlineRender: true,
  props: {
    currentPage: { default: 1 },
    pageSize: { default: 10 },
    pageSizes: { default: () => [10, 20, 30, 40, 50, 100] },
    layout: { default: "prev, pager, next" },
    total: null,
    hideOnSinglePage: { type: Boolean, default: false }
  },
  emits: ["update:currentPage", "update:pageSize", "size-change", "current-change"],
  setup(__props, { emit: __emit }) {
    const props = __props;
    const emit = __emit;
    const internalCurrentPage = ref(props.currentPage);
    const jumpTarget = ref("");
    const internalPageSize = ref(props.pageSize);
    const pageCount = computed(() => {
      return Math.max(1, Math.ceil(props.total / internalPageSize.value));
    });
    ref(5);
    const shouldShow = computed(() => {
      return props.hideOnSinglePage ? pageCount.value > 1 : true;
    });
    function jumpPage(val) {
      if (Number(val) > pageCount.value) val = pageCount.value;
      if (Number(val) <= 0) val = 1;
      internalCurrentPage.value = val;
      emit("update:currentPage", Number(val));
      emit("current-change", Number(val));
    }
    function jumpToTarget() {
      let d = Number(jumpTarget.value);
      if (d > pageCount.value) {
        let page = Math.floor((d - 1) / internalPageSize.value) + 1;
        jumpPage(page);
      } else {
        jumpPage(d);
      }
    }
    return (_ctx, _push, _parent, _attrs) => {
      const _component_IconFluentChevronLeft20Filled = __unplugin_components_6$1;
      if (shouldShow.value) {
        _push(`<div${ssrRenderAttrs(mergeProps({ class: "pagination" }, _attrs))} data-v-7d320d1f><div class="pagination-container" data-v-7d320d1f>`);
        if (__props.layout.includes("total")) {
          _push(`<span class="total text-base" data-v-7d320d1f>${ssrInterpolate(_ctx.$t("total"))}${ssrInterpolate(__props.total)}${ssrInterpolate(_ctx.$t("total_items"))}</span>`);
        } else {
          _push(`<!---->`);
        }
        _push(`<button class="btn-prev"${ssrIncludeBooleanAttr(internalCurrentPage.value <= 1) ? " disabled" : ""} data-v-7d320d1f>`);
        _push(ssrRenderComponent(_component_IconFluentChevronLeft20Filled, null, null, _parent));
        _push(`</button><div class="flex items-center" data-v-7d320d1f><div class="w-12" data-v-7d320d1f>`);
        _push(ssrRenderComponent(BaseInput, {
          modelValue: internalCurrentPage.value,
          "onUpdate:modelValue": ($event) => internalCurrentPage.value = $event,
          onEnter: ($event) => jumpPage(internalCurrentPage.value),
          class: "text-center"
        }, null, _parent));
        _push(`</div><span class="mx-2" data-v-7d320d1f>/</span><span class="text-base" data-v-7d320d1f>${ssrInterpolate(pageCount.value)}</span></div><button class="btn-next"${ssrIncludeBooleanAttr(internalCurrentPage.value >= pageCount.value) ? " disabled" : ""} data-v-7d320d1f>`);
        _push(ssrRenderComponent(_component_IconFluentChevronLeft20Filled, { class: "transform-rotate-180" }, null, _parent));
        _push(`</button>`);
        if (__props.layout.includes("sizes")) {
          _push(`<div class="sizes" data-v-7d320d1f><select${ssrRenderAttr("value", internalPageSize.value)} data-v-7d320d1f><!--[-->`);
          ssrRenderList(__props.pageSizes, (item) => {
            _push(`<option${ssrRenderAttr("value", item)} data-v-7d320d1f>${ssrInterpolate(item)}${ssrInterpolate(_ctx.$t("items_per_page"))}</option>`);
          });
          _push(`<!--]--></select></div>`);
        } else {
          _push(`<!---->`);
        }
        _push(`<div class="flex items-center gap-1 ml-2" data-v-7d320d1f>${ssrInterpolate(_ctx.$t("jump_to"))} <div class="w-15" data-v-7d320d1f>`);
        _push(ssrRenderComponent(BaseInput, {
          placeholder: _ctx.$t("page_or_index"),
          modelValue: unref(jumpTarget),
          "onUpdate:modelValue": ($event) => isRef(jumpTarget) ? jumpTarget.value = $event : null,
          onEnter: jumpToTarget,
          class: "text-center"
        }, null, _parent));
        _push(`</div></div></div></div>`);
      } else {
        _push(`<!---->`);
      }
    };
  }
});
const _sfc_setup$3 = _sfc_main$3.setup;
_sfc_main$3.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/base/Pagination.vue");
  return _sfc_setup$3 ? _sfc_setup$3(props, ctx) : void 0;
};
const Pagination = /* @__PURE__ */ Object.assign(_export_sfc(_sfc_main$3, [["__scopeId", "data-v-7d320d1f"]]), { __name: "Pagination" });
function _isSlot(s) {
  return typeof s === "function" || Object.prototype.toString.call(s) === "[object Object]" && !isVNode(s);
}
const _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "BaseTable",
  props: {
    loading: {
      type: Boolean,
      default: true
    },
    showToolbar: {
      type: Boolean,
      default: true
    },
    showCheckbox: {
      type: Boolean,
      default: false
    },
    showPagination: {
      type: Boolean,
      default: true
    },
    exportLoading: {
      type: Boolean,
      default: false
    },
    importLoading: {
      type: Boolean,
      default: false
    },
    request: {
      type: Function
    },
    list: null
  },
  emits: ["add", "click", "import", "export", "del", "sort"],
  setup(__props, {
    expose: __expose,
    emit: __emit
  }) {
    const {
      t: $t
    } = useI18n();
    const props = __props;
    const emit = __emit;
    let listRef = ref();
    let showCheckbox = ref(false);
    function scrollToBottom() {
      nextTick(() => {
        var _a;
        (_a = listRef.value) == null ? void 0 : _a.scrollTo(0, listRef.value.scrollHeight);
      });
    }
    function scrollToTop() {
      nextTick(() => {
        var _a;
        (_a = listRef.value) == null ? void 0 : _a.scrollTo(0, 0);
      });
    }
    function scrollToItem(index) {
      nextTick(() => {
        var _a, _b;
        (_b = (_a = listRef.value) == null ? void 0 : _a.children[index]) == null ? void 0 : _b.scrollIntoView({
          block: "center",
          behavior: "smooth"
        });
      });
    }
    let selectIds = ref([]);
    let selectAll = computed(() => {
      return !!selectIds.value.length;
    });
    function toggleSelect(item) {
      let rIndex = selectIds.value.findIndex((v) => v === item.id);
      if (rIndex > -1) {
        selectIds.value.splice(rIndex, 1);
      } else {
        selectIds.value.push(item.id);
      }
    }
    function toggleSelectAll() {
      if (selectAll.value) {
        selectIds.value = [];
      } else {
        selectIds.value = params.value.list.map((v) => v.id);
      }
    }
    let showSortDialog = ref(false);
    let showSearchInput = ref(false);
    let showImportDialog = ref(false);
    const closeImportDialog = () => showImportDialog.value = false;
    function sort(type) {
      if ([Sort.reverse, Sort.random].includes(type)) {
        emit("sort", type, params.value.pageNo, params.value.pageSize);
      } else {
        emit("sort", type, 1, params.value.total);
      }
      showSortDialog.value = false;
    }
    function handleBatchDel() {
      emit("del", selectIds.value);
      selectIds.value = [];
    }
    const s = useSlots();
    __expose({
      scrollToBottom,
      scrollToItem,
      closeImportDialog,
      getData
    });
    let loading2 = ref(false);
    let params = ref({
      pageNo: 1,
      pageSize: 50,
      total: 0,
      list: [],
      sortType: null,
      searchKey: ""
    });
    function search(key) {
      if (!params.value.searchKey) {
        params.value.pageNo = 1;
      }
      params.value.searchKey = key;
      getData();
    }
    function cancelSearch() {
      params.value.searchKey = "";
      showSearchInput.value = false;
      getData();
    }
    async function getData() {
      var _a;
      if (props.request) {
        loading2.value = true;
        let {
          list,
          total
        } = await props.request(params.value);
        params.value.list = list;
        params.value.total = total;
        loading2.value = false;
      } else {
        params.value.list = (_a = props.list) != null ? _a : [];
      }
    }
    function handlePageNo(e) {
      params.value.pageNo = e;
      getData();
      scrollToTop();
    }
    return () => {
      let _slot, _slot2, _slot3, _slot4, _slot5, _slot6, _slot7;
      const d = (item) => createVNode(Checkbox, {
        "modelValue": selectIds.value.includes(item.id),
        "onChange": () => toggleSelect(item),
        "size": "large"
      }, null);
      return createVNode("div", {
        "class": "base-table flex flex-col gap-3"
      }, [props.showToolbar && createVNode("div", null, [showSearchInput.value ? createVNode("div", {
        "class": "flex gap-4"
      }, [createVNode(BaseInput, {
        "clearable": true,
        "modelValue": params.value.searchKey,
        "onUpdate:modelValue": debounce((e) => search(e), 500),
        "class": "flex-1",
        "autofocus": true
      }, {
        subfix: () => createVNode(__unplugin_components_0, {
          "class": "text-lg text-gray"
        }, null)
      }), createVNode(BaseButton, {
        "onClick": cancelSearch
      }, _isSlot(_slot = $t("cancel")) ? _slot : {
        default: () => [_slot]
      })]) : createVNode("div", {
        "class": "flex justify-between items-center"
      }, [showCheckbox.value ? createVNode("div", {
        "class": "flex gap-2 items-center"
      }, [createVNode(Checkbox, {
        "disabled": !params.value.list.length,
        "onChange": () => toggleSelectAll(),
        "modelValue": selectAll.value,
        "size": "large"
      }, null), createVNode("span", null, [selectIds.value.length, createTextVNode(" / "), params.value.total])]) : createVNode("div", null, [params.value.total, $t("total_items")]), createVNode("div", {
        "class": "flex gap-2 relative"
      }, [selectIds.value.length && showCheckbox.value ? createVNode(PopConfirm, {
        "title": $t("confirm_delete_selected"),
        "onConfirm": handleBatchDel
      }, {
        default: () => [createVNode(BaseButton, {
          "type": "info"
        }, _isSlot(_slot2 = $t("confirm")) ? _slot2 : {
          default: () => [_slot2]
        })]
      }) : null, createVNode(BaseIcon, {
        "onClick": () => showCheckbox.value = !showCheckbox.value,
        "title": $t("batch_delete")
      }, {
        default: () => [createVNode(DeleteIcon, null, null)]
      }), createVNode(BaseIcon, {
        "onClick": () => showImportDialog.value = true,
        "title": $t("import")
      }, {
        default: () => [createVNode(__unplugin_components_1, null, null)]
      }), createVNode(BaseIcon, {
        "onClick": () => emit("export"),
        "title": $t("export")
      }, {
        default: () => [props.exportLoading ? createVNode(__unplugin_components_7, null, null) : createVNode(__unplugin_components_3, null, null)]
      }), createVNode(BaseIcon, {
        "onClick": () => emit("add"),
        "title": $t("add_word")
      }, {
        default: () => [createVNode(__unplugin_components_4, null, null)]
      }), createVNode(BaseIcon, {
        "disabled": !params.value.list.length,
        "title": $t("change_order"),
        "onClick": () => showSortDialog.value = !showSortDialog.value
      }, {
        default: () => [createVNode(__unplugin_components_5, null, null)]
      }), createVNode(BaseIcon, {
        "disabled": !params.value.list.length,
        "onClick": () => showSearchInput.value = !showSearchInput.value,
        "title": $t("search")
      }, {
        default: () => [createVNode(__unplugin_components_6, null, null)]
      }), createVNode(MiniDialog, {
        "modelValue": showSortDialog.value,
        "onUpdate:modelValue": (e) => showSortDialog.value = e,
        "style": "width: 8rem;"
      }, {
        default: () => [createVNode("div", {
          "class": "mini-row-title"
        }, [$t("list_order_setting")]), createVNode("div", {
          "class": "flex flex-col gap2 btn-no-margin"
        }, [createVNode(BaseButton, {
          "onClick": () => sort(Sort.reverse)
        }, _isSlot(_slot3 = $t("reverse_current_page")) ? _slot3 : {
          default: () => [_slot3]
        }), createVNode(BaseButton, {
          "onClick": () => sort(Sort.reverseAll)
        }, _isSlot(_slot4 = $t("reverse_all")) ? _slot4 : {
          default: () => [_slot4]
        }), createVNode("div", {
          "class": "line"
        }, null), createVNode(BaseButton, {
          "onClick": () => sort(Sort.random)
        }, _isSlot(_slot5 = $t("random_current_page")) ? _slot5 : {
          default: () => [_slot5]
        }), createVNode(BaseButton, {
          "onClick": () => sort(Sort.randomAll)
        }, _isSlot(_slot6 = $t("random_all")) ? _slot6 : {
          default: () => [_slot6]
        })])]
      })])])]), createVNode("div", {
        "class": "relative flex-1 overflow-hidden"
      }, [params.value.list.length ? createVNode("div", {
        "class": "overflow-auto h-full",
        "ref": (e) => listRef.value = e
      }, [params.value.list.map((item, index) => {
        return createVNode("div", {
          "class": "list-item-wrapper",
          "key": item.word
        }, [s.default({
          checkbox: showCheckbox.value ? d : () => void 0,
          item,
          index: params.value.pageSize * (params.value.pageNo - 1) + index + 1
        })]);
      })]) : !loading2.value ? createVNode(Empty, null, null) : null, loading2.value && createVNode("div", {
        "class": "absolute top-0 left-0 bottom-0 right-0 bg-black bg-op-10  center text-4xl"
      }, [createVNode(__unplugin_components_7, {
        "color": "gray"
      }, null)])]), props.showPagination && createVNode("div", {
        "class": "flex justify-end"
      }, [createVNode(Pagination, {
        "currentPage": params.value.pageNo,
        "onUpdate:current-page": handlePageNo,
        "pageSize": params.value.pageSize,
        "onUpdate:page-size": (e) => params.value.pageSize = e,
        "pageSizes": [20, 50, 100, 200],
        "layout": "total,sizes",
        "total": params.value.total
      }, null)]), createVNode(Dialog, {
        "modelValue": showImportDialog.value,
        "onUpdate:modelValue": closeImportDialog,
        "title": $t("import_tutorial")
      }, {
        default: () => [createVNode("div", {
          "className": "w-100 p-4 pt-0"
        }, [createVNode("div", null, [$t("import_follow_template")]), createVNode("div", {
          "class": "color-red"
        }, [$t("import_word_required")]), createVNode("div", null, [$t("import_translation_hint")]), createVNode("div", null, [$t("import_example_hint"), createVNode("span", {
          "class": "color-red"
        }, [$t("two")]), $t("lines")]), createVNode("div", null, [$t("import_phrase_hint"), createVNode("span", {
          "class": "color-red"
        }, [$t("two")]), $t("lines")]), createVNode("div", null, [$t("import_other_hint")]), createVNode("div", {
          "class": "mt-6"
        }, [$t("template_download"), createTextVNode("\uFF1A"), createVNode("a", {
          "href": `${ENV.RESOURCE_URL}/libs/\u5355\u8BCD\u5BFC\u5165\u6A21\u677F.xlsx`
        }, [$t("word_import_template")])]), createVNode("div", {
          "class": "mt-4"
        }, [createVNode(BaseButton, {
          "onClick": () => {
            let d2 = (void 0).querySelector("#upload-trigger");
            d2.click();
          },
          "loading": props.importLoading
        }, _isSlot(_slot7 = $t("import")) ? _slot7 : {
          default: () => [_slot7]
        }), createVNode("input", {
          "id": "upload-trigger",
          "type": "file",
          "accept": ".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",
          "onChange": (e) => emit("import", e),
          "class": "w-0 h-0 opacity-0"
        }, null)])])]
      })]);
    };
  }
});
const _sfc_setup$2 = _sfc_main$2.setup;
_sfc_main$2.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/BaseTable.vue");
  return _sfc_setup$2 ? _sfc_setup$2(props, ctx) : void 0;
};
const BaseTable = Object.assign(_sfc_main$2, { __name: "BaseTable" });
const _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "ChangeLastPracticeIndexDialog",
  __ssrInlineRender: true,
  props: {
    "modelValue": {},
    "modelModifiers": {}
  },
  emits: /* @__PURE__ */ mergeModels(["ok"], ["update:modelValue"]),
  setup(__props) {
    const Dialog2 = defineAsyncComponent(() => import('./Dialog-BoKDmA_Y.mjs'));
    const model = useModel(__props, "modelValue");
    const runtimeStore = useRuntimeStore();
    async function requestList({ pageNo, pageSize, searchKey }) {
      if (AppEnv.CAN_REQUEST) ;
      else {
        let list = runtimeStore.editDict.words;
        let total = list.length;
        list = list.slice((pageNo - 1) * pageSize, (pageNo - 1) * pageSize + pageSize);
        return { list, total };
      }
    }
    return (_ctx, _push, _parent, _attrs) => {
      _push(ssrRenderComponent(unref(Dialog2), mergeProps({
        modelValue: model.value,
        "onUpdate:modelValue": ($event) => model.value = $event,
        padding: "",
        title: "\u4FEE\u6539\u5B66\u4E60\u8FDB\u5EA6"
      }, _attrs), {
        default: withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(`<div class="py-4 h-80vh"${_scopeId}>`);
            _push2(ssrRenderComponent(BaseTable, {
              class: "h-full",
              request: requestList,
              "show-toolbar": false
            }, {
              default: withCtx((item, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(ssrRenderComponent(WordItem, {
                    onClick: ($event) => _ctx.$emit("ok", item.index - 1),
                    item: item.item,
                    "show-translate": false,
                    index: item.index,
                    "show-option": false
                  }, null, _parent3, _scopeId2));
                } else {
                  return [
                    createVNode(WordItem, {
                      onClick: ($event) => _ctx.$emit("ok", item.index - 1),
                      item: item.item,
                      "show-translate": false,
                      index: item.index,
                      "show-option": false
                    }, null, 8, ["onClick", "item", "index"])
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(`</div>`);
          } else {
            return [
              createVNode("div", { class: "py-4 h-80vh" }, [
                createVNode(BaseTable, {
                  class: "h-full",
                  request: requestList,
                  "show-toolbar": false
                }, {
                  default: withCtx((item) => [
                    createVNode(WordItem, {
                      onClick: ($event) => _ctx.$emit("ok", item.index - 1),
                      item: item.item,
                      "show-translate": false,
                      index: item.index,
                      "show-option": false
                    }, null, 8, ["onClick", "item", "index"])
                  ]),
                  _: 1
                })
              ])
            ];
          }
        }),
        _: 1
      }, _parent));
    };
  }
});
const _sfc_setup$1 = _sfc_main$1.setup;
_sfc_main$1.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/word/ChangeLastPracticeIndexDialog.vue");
  return _sfc_setup$1 ? _sfc_setup$1(props, ctx) : void 0;
};
const ChangeLastPracticeIndexDialog = Object.assign(_sfc_main$1, { __name: "ChangeLastPracticeIndexDialog" });
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "PracticeSettingDialog",
  __ssrInlineRender: true,
  props: /* @__PURE__ */ mergeModels({
    showLeftOption: { type: Boolean }
  }, {
    "modelValue": {},
    "modelModifiers": {}
  }),
  emits: /* @__PURE__ */ mergeModels(["ok"], ["update:modelValue"]),
  setup(__props, { emit: __emit }) {
    const Dialog2 = defineAsyncComponent(() => import('./Dialog-BoKDmA_Y.mjs'));
    const { t: $t } = useI18n();
    const settings = useSettingStore();
    const runtimeStore = useRuntimeStore();
    const model = useModel(__props, "modelValue");
    const emit = __emit;
    let show = ref(false);
    let tempPerDayStudyNumber = ref(0);
    let tempWordReviewRatio = ref(0);
    let tempLastLearnIndex = ref(0);
    let tempDisableShowPracticeSettingDialog = ref(false);
    function changePerDayStudyNumber() {
      runtimeStore.editDict.perDayStudyNumber = Number(tempPerDayStudyNumber.value);
      runtimeStore.editDict.lastLearnIndex = Number(tempLastLearnIndex.value);
      settings.wordReviewRatio = tempWordReviewRatio.value;
      settings.disableShowPracticeSettingDialog = tempDisableShowPracticeSettingDialog.value;
      emit("ok");
    }
    watch(
      () => model.value,
      (n) => {
        if (n) {
          if (runtimeStore.editDict.id) {
            tempPerDayStudyNumber.value = runtimeStore.editDict.perDayStudyNumber;
            tempLastLearnIndex.value = runtimeStore.editDict.lastLearnIndex;
            tempWordReviewRatio.value = settings.wordReviewRatio;
            tempDisableShowPracticeSettingDialog.value = settings.disableShowPracticeSettingDialog;
          } else {
            Toast.warning($t("please_select_dict"));
          }
        }
      }
    );
    return (_ctx, _push, _parent, _attrs) => {
      const _component_IconFluentQuestionCircle20Regular = __unplugin_components_5$1;
      _push(`<!--[-->`);
      _push(ssrRenderComponent(unref(Dialog2), {
        modelValue: model.value,
        "onUpdate:modelValue": ($event) => model.value = $event,
        title: unref($t)("learning_settings"),
        padding: "",
        footer: true,
        onOk: changePerDayStudyNumber
      }, createSlots({
        default: withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(`<div class="target-modal color-main" id="mode" data-v-54d70e4c${_scopeId}><div class="text-center mt-4" data-v-54d70e4c${_scopeId}><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("total"))}<span class="target-number mx-2" data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref(runtimeStore).editDict.length)}</span>${ssrInterpolate(unref($t)("words_count"))}\uFF0C</span><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("estimated"))}<span class="target-number mx-2" data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref(_getAccomplishDays)(
              unref(runtimeStore).editDict.length - unref(tempLastLearnIndex),
              unref(tempPerDayStudyNumber)
            ))}</span>${ssrInterpolate(unref($t)("days_to_complete"))}</span></div><div class="text-center mt-4 mb-8 flex gap-1 items-end justify-center" data-v-54d70e4c${_scopeId}><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("from_word"))}</span><div class="w-20" data-v-54d70e4c${_scopeId}>`);
            _push2(ssrRenderComponent(BaseInput, {
              class: "target-number",
              modelValue: unref(tempLastLearnIndex),
              "onUpdate:modelValue": ($event) => isRef(tempLastLearnIndex) ? tempLastLearnIndex.value = $event : tempLastLearnIndex = $event
            }, null, _parent2, _scopeId));
            _push2(`</div><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("start_daily"))}</span><div class="w-16" data-v-54d70e4c${_scopeId}>`);
            _push2(ssrRenderComponent(BaseInput, {
              class: "target-number",
              modelValue: unref(tempPerDayStudyNumber),
              "onUpdate:modelValue": ($event) => isRef(tempPerDayStudyNumber) ? tempPerDayStudyNumber.value = $event : tempPerDayStudyNumber = $event
            }, null, _parent2, _scopeId));
            _push2(`</div><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("new_words"))}</span><span data-v-54d70e4c${_scopeId}>\uFF0C${ssrInterpolate(unref($t)("review"))}</span><div class="target-number mx-2" data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref(tempPerDayStudyNumber) * unref(tempWordReviewRatio))}</div><span data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("words"))}</span></div><div class="mb-4 space-y-2" data-v-54d70e4c${_scopeId}><div class="flex items-center gap-space" data-v-54d70e4c${_scopeId}>`);
            _push2(ssrRenderComponent(Tooltip, {
              title: unref($t)("review_ratio_tooltip")
            }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`<div class="flex items-center gap-1 w-20 break-keep" data-v-54d70e4c${_scopeId2}><span data-v-54d70e4c${_scopeId2}>${ssrInterpolate(unref($t)("review_ratio"))}</span>`);
                  _push3(ssrRenderComponent(_component_IconFluentQuestionCircle20Regular, null, null, _parent3, _scopeId2));
                  _push3(`</div>`);
                } else {
                  return [
                    createVNode("div", { class: "flex items-center gap-1 w-20 break-keep" }, [
                      createVNode("span", null, toDisplayString(unref($t)("review_ratio")), 1),
                      createVNode(_component_IconFluentQuestionCircle20Regular)
                    ])
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(InputNumber, {
              min: 0,
              max: 10,
              modelValue: unref(tempWordReviewRatio),
              "onUpdate:modelValue": ($event) => isRef(tempWordReviewRatio) ? tempWordReviewRatio.value = $event : tempWordReviewRatio = $event
            }, null, _parent2, _scopeId));
            _push2(`</div>`);
            if (!unref(tempWordReviewRatio)) {
              _push2(`<div class="flex" data-v-54d70e4c${_scopeId}><div class="w-23 flex-shrink-0" data-v-54d70e4c${_scopeId}></div><div class="text-sm text-gray-500" data-v-54d70e4c${_scopeId}><div data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("review_ratio_notice_1"))}</div><div data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("review_ratio_notice_2"))}</div></div></div>`);
            } else {
              _push2(`<!---->`);
            }
            _push2(`</div><div class="flex mb-4 gap-space" data-v-54d70e4c${_scopeId}><span class="shrink-0 w-20" data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("daily_learning"))}</span>`);
            _push2(ssrRenderComponent(Slider, {
              min: 10,
              step: 10,
              "show-text": "",
              class: "mt-1",
              max: 200,
              modelValue: unref(tempPerDayStudyNumber),
              "onUpdate:modelValue": ($event) => isRef(tempPerDayStudyNumber) ? tempPerDayStudyNumber.value = $event : tempPerDayStudyNumber = $event
            }, null, _parent2, _scopeId));
            _push2(`</div><div class="flex gap-space" data-v-54d70e4c${_scopeId}><span class="shrink-0 w-20" data-v-54d70e4c${_scopeId}>${ssrInterpolate(unref($t)("learning_progress"))}</span><div class="flex-1" data-v-54d70e4c${_scopeId}>`);
            _push2(ssrRenderComponent(Slider, {
              min: 0,
              step: 10,
              "show-text": "",
              class: "my-1",
              max: unref(runtimeStore).editDict.words.length,
              modelValue: unref(tempLastLearnIndex),
              "onUpdate:modelValue": ($event) => isRef(tempLastLearnIndex) ? tempLastLearnIndex.value = $event : tempLastLearnIndex = $event
            }, null, _parent2, _scopeId));
            _push2(ssrRenderComponent(BaseButton, {
              onClick: ($event) => isRef(show) ? show.value = true : show = true
            }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`${ssrInterpolate(unref($t)("select_from_dict"))}`);
                } else {
                  return [
                    createTextVNode(toDisplayString(unref($t)("select_from_dict")), 1)
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(`</div></div></div>`);
          } else {
            return [
              createVNode("div", {
                class: "target-modal color-main",
                id: "mode"
              }, [
                createVNode("div", { class: "text-center mt-4" }, [
                  createVNode("span", null, [
                    createTextVNode(toDisplayString(unref($t)("total")), 1),
                    createVNode("span", { class: "target-number mx-2" }, toDisplayString(unref(runtimeStore).editDict.length), 1),
                    createTextVNode(toDisplayString(unref($t)("words_count")) + "\uFF0C", 1)
                  ]),
                  createVNode("span", null, [
                    createTextVNode(toDisplayString(unref($t)("estimated")), 1),
                    createVNode("span", { class: "target-number mx-2" }, toDisplayString(unref(_getAccomplishDays)(
                      unref(runtimeStore).editDict.length - unref(tempLastLearnIndex),
                      unref(tempPerDayStudyNumber)
                    )), 1),
                    createTextVNode(toDisplayString(unref($t)("days_to_complete")), 1)
                  ])
                ]),
                createVNode("div", { class: "text-center mt-4 mb-8 flex gap-1 items-end justify-center" }, [
                  createVNode("span", null, toDisplayString(unref($t)("from_word")), 1),
                  createVNode("div", { class: "w-20" }, [
                    createVNode(BaseInput, {
                      class: "target-number",
                      modelValue: unref(tempLastLearnIndex),
                      "onUpdate:modelValue": ($event) => isRef(tempLastLearnIndex) ? tempLastLearnIndex.value = $event : tempLastLearnIndex = $event
                    }, null, 8, ["modelValue", "onUpdate:modelValue"])
                  ]),
                  createVNode("span", null, toDisplayString(unref($t)("start_daily")), 1),
                  createVNode("div", { class: "w-16" }, [
                    createVNode(BaseInput, {
                      class: "target-number",
                      modelValue: unref(tempPerDayStudyNumber),
                      "onUpdate:modelValue": ($event) => isRef(tempPerDayStudyNumber) ? tempPerDayStudyNumber.value = $event : tempPerDayStudyNumber = $event
                    }, null, 8, ["modelValue", "onUpdate:modelValue"])
                  ]),
                  createVNode("span", null, toDisplayString(unref($t)("new_words")), 1),
                  createVNode("span", null, "\uFF0C" + toDisplayString(unref($t)("review")), 1),
                  createVNode("div", { class: "target-number mx-2" }, toDisplayString(unref(tempPerDayStudyNumber) * unref(tempWordReviewRatio)), 1),
                  createVNode("span", null, toDisplayString(unref($t)("words")), 1)
                ]),
                createVNode("div", { class: "mb-4 space-y-2" }, [
                  createVNode("div", { class: "flex items-center gap-space" }, [
                    createVNode(Tooltip, {
                      title: unref($t)("review_ratio_tooltip")
                    }, {
                      default: withCtx(() => [
                        createVNode("div", { class: "flex items-center gap-1 w-20 break-keep" }, [
                          createVNode("span", null, toDisplayString(unref($t)("review_ratio")), 1),
                          createVNode(_component_IconFluentQuestionCircle20Regular)
                        ])
                      ]),
                      _: 1
                    }, 8, ["title"]),
                    createVNode(InputNumber, {
                      min: 0,
                      max: 10,
                      modelValue: unref(tempWordReviewRatio),
                      "onUpdate:modelValue": ($event) => isRef(tempWordReviewRatio) ? tempWordReviewRatio.value = $event : tempWordReviewRatio = $event
                    }, null, 8, ["modelValue", "onUpdate:modelValue"])
                  ]),
                  !unref(tempWordReviewRatio) ? (openBlock(), createBlock("div", {
                    key: 0,
                    class: "flex"
                  }, [
                    createVNode("div", { class: "w-23 flex-shrink-0" }),
                    createVNode("div", { class: "text-sm text-gray-500" }, [
                      createVNode("div", null, toDisplayString(unref($t)("review_ratio_notice_1")), 1),
                      createVNode("div", null, toDisplayString(unref($t)("review_ratio_notice_2")), 1)
                    ])
                  ])) : createCommentVNode("", true)
                ]),
                createVNode("div", { class: "flex mb-4 gap-space" }, [
                  createVNode("span", { class: "shrink-0 w-20" }, toDisplayString(unref($t)("daily_learning")), 1),
                  createVNode(Slider, {
                    min: 10,
                    step: 10,
                    "show-text": "",
                    class: "mt-1",
                    max: 200,
                    modelValue: unref(tempPerDayStudyNumber),
                    "onUpdate:modelValue": ($event) => isRef(tempPerDayStudyNumber) ? tempPerDayStudyNumber.value = $event : tempPerDayStudyNumber = $event
                  }, null, 8, ["modelValue", "onUpdate:modelValue"])
                ]),
                createVNode("div", { class: "flex gap-space" }, [
                  createVNode("span", { class: "shrink-0 w-20" }, toDisplayString(unref($t)("learning_progress")), 1),
                  createVNode("div", { class: "flex-1" }, [
                    createVNode(Slider, {
                      min: 0,
                      step: 10,
                      "show-text": "",
                      class: "my-1",
                      max: unref(runtimeStore).editDict.words.length,
                      modelValue: unref(tempLastLearnIndex),
                      "onUpdate:modelValue": ($event) => isRef(tempLastLearnIndex) ? tempLastLearnIndex.value = $event : tempLastLearnIndex = $event
                    }, null, 8, ["max", "modelValue", "onUpdate:modelValue"]),
                    createVNode(BaseButton, {
                      onClick: ($event) => isRef(show) ? show.value = true : show = true
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(unref($t)("select_from_dict")), 1)
                      ]),
                      _: 1
                    }, 8, ["onClick"])
                  ])
                ])
              ])
            ];
          }
        }),
        _: 2
      }, [
        __props.showLeftOption ? {
          name: "footer-left",
          fn: withCtx((_, _push2, _parent2, _scopeId) => {
            if (_push2) {
              _push2(`<div class="flex items-center" data-v-54d70e4c${_scopeId}>`);
              _push2(ssrRenderComponent(Checkbox, {
                modelValue: unref(tempDisableShowPracticeSettingDialog),
                "onUpdate:modelValue": ($event) => isRef(tempDisableShowPracticeSettingDialog) ? tempDisableShowPracticeSettingDialog.value = $event : tempDisableShowPracticeSettingDialog = $event
              }, null, _parent2, _scopeId));
              _push2(ssrRenderComponent(Tooltip, {
                title: unref($t)("change_in_settings")
              }, {
                default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                  if (_push3) {
                    _push3(`<span class="text-sm" data-v-54d70e4c${_scopeId2}>${ssrInterpolate(unref($t)("keep_default_no_show"))}</span>`);
                  } else {
                    return [
                      createVNode("span", { class: "text-sm" }, toDisplayString(unref($t)("keep_default_no_show")), 1)
                    ];
                  }
                }),
                _: 1
              }, _parent2, _scopeId));
              _push2(`</div>`);
            } else {
              return [
                createVNode("div", { class: "flex items-center" }, [
                  createVNode(Checkbox, {
                    modelValue: unref(tempDisableShowPracticeSettingDialog),
                    "onUpdate:modelValue": ($event) => isRef(tempDisableShowPracticeSettingDialog) ? tempDisableShowPracticeSettingDialog.value = $event : tempDisableShowPracticeSettingDialog = $event
                  }, null, 8, ["modelValue", "onUpdate:modelValue"]),
                  createVNode(Tooltip, {
                    title: unref($t)("change_in_settings")
                  }, {
                    default: withCtx(() => [
                      createVNode("span", { class: "text-sm" }, toDisplayString(unref($t)("keep_default_no_show")), 1)
                    ]),
                    _: 1
                  }, 8, ["title"])
                ])
              ];
            }
          }),
          key: "0"
        } : void 0
      ]), _parent));
      _push(ssrRenderComponent(ChangeLastPracticeIndexDialog, {
        modelValue: unref(show),
        "onUpdate:modelValue": ($event) => isRef(show) ? show.value = $event : show = $event,
        onOk: (e) => {
          isRef(tempLastLearnIndex) ? tempLastLearnIndex.value = e : tempLastLearnIndex = e;
          isRef(show) ? show.value = false : show = false;
        }
      }, null, _parent));
      _push(`<!--]-->`);
    };
  }
});
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/word/PracticeSettingDialog.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const PracticeSettingDialog = /* @__PURE__ */ Object.assign(_export_sfc(_sfc_main, [["__scopeId", "data-v-54d70e4c"]]), { __name: "PracticeSettingDialog" });
function copyOfficialDict(params, data) {
  return request("dict/copyOfficialDict", data, params, "post");
}
function deleteDict(params, data) {
  return request("dict/delete", data, params, "post");
}

export { BaseTable as B, ChangeLastPracticeIndexDialog as C, PracticeSettingDialog as P, copyOfficialDict as c, deleteDict as d };
//# sourceMappingURL=dict-COqWcYxU.mjs.map
