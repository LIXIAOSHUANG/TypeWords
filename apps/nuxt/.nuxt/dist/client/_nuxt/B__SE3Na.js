import{d as T,i as N,z as $,aq as z,o as R,c as j,n as C,a as b,a2 as d,bY as w,j as f,X as K}from"./Dbiv707D.js";const q=["disabled"],E=["value","disabled"],H=["disabled"],O=T({__name:"InputNumber",props:{modelValue:{type:[Number,String],default:null},min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},precision:{type:Number},disabled:{type:Boolean,default:!1},stepStrictly:{type:Boolean,default:!1}},emits:["update:modelValue","input","change"],setup(l,{emit:g}){const t=l,m=g,x=N(null),i=N(V(t.modelValue));let a=null,s=null;$(()=>t.modelValue,e=>{i.value=e});const p=f({get:()=>i.value===null?"":h(i.value),set:e=>{const n=v(e);n!=="editing"&&c(n)}}),I=f(()=>i.value!==null&&i.value<=t.min),M=f(()=>i.value!==null&&i.value>=t.max);function V(e){const n=Number(e);return Number.isFinite(n)?n:null}function B(e){return e===null?null:e<t.min?t.min:e>t.max?t.max:e}function h(e){return t.precision!=null?e.toFixed(t.precision):String(e)}function v(e){const n=e.trim();if(["","-","+",".","-.","+."].includes(n))return"editing";const u=Number(n);return Number.isFinite(u)?u:"editing"}function F(e){if(e===null)return null;if(!t.stepStrictly)return e;const n=Number.isFinite(t.min)?t.min:0,u=Math.round((e-n)/t.step);return n+u*t.step}function S(e){return t.precision!=null?Number(e.toFixed(t.precision)):e}function c(e){const n=B(S(F(e)));i.value=n,m("update:modelValue",n),m("input",n),m("change",n)}function r(e){if(t.disabled)return;const n=i.value??(Number.isFinite(t.min)?t.min:0);c(n+e*t.step)}function y(e){r(e),a=window.setTimeout(()=>{s=window.setInterval(()=>r(e),100)},400)}function o(){a&&(clearTimeout(a),a=null),s&&(clearInterval(s),s=null)}function k(){const e=v(p.value);c(e==="editing"?i.value:e)}return z(o),(e,n)=>(R(),j("div",{class:C(["input-number inline-center select-none anim",{"is-disabled":l.disabled}])},[b("button",{class:"btn minus-btn inline-center cursor-pointer anim border-none outline-none w-8 h-8",type:"button",disabled:l.disabled||I.value,onMousedown:n[0]||(n[0]=d(u=>y(-1),["prevent"])),onMouseup:o,onMouseleave:o,"aria-label":"decrease"},"- ",40,q),b("input",{ref_key:"inputRef",ref:x,class:"flex-1 h-8 px-2 text-center border-none outline-none bg-transparent input-inner w-14",value:p.value,disabled:l.disabled,inputmode:"decimal",onInput:n[1]||(n[1]=u=>p.value=u.target.value),onKeydown:[n[2]||(n[2]=w(d(u=>r(1),["prevent"]),["up"])),n[3]||(n[3]=w(d(u=>r(-1),["prevent"]),["down"]))],onBlur:k},null,40,E),b("button",{class:"btn plus-btn inline-center cursor-pointer anim border-none outline-none w-8 h-8",type:"button",disabled:l.disabled||M.value,onMousedown:n[4]||(n[4]=d(u=>y(1),["prevent"])),onMouseup:o,onMouseleave:o,"aria-label":"increase"},"+ ",40,H)],2))}}),U=Object.assign(K(O,[["__scopeId","data-v-14952904"]]),{__name:"InputNumber"});export{U as I};
