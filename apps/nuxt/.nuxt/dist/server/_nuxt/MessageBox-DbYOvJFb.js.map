{"version":3,"file":"MessageBox-DbYOvJFb.js","sources":["../../../../app/utils/MessageBox.tsx"],"sourcesContent":["import { createVNode, render } from 'vue'\nimport Dialog from '@/components/dialog/Dialog.vue'\nimport type { ModalProps } from '@/components/dialog/Dialog.vue'\n\nexport class MessageBox {\n  static confirm(\n    content: string,\n    title: string,\n    onOk: () => any = () => void 0,\n    onCancel: () => any = () => void 0,\n    onClose: () => any = () => void 0,\n    config: ModalProps = {}\n  ) {\n    let container = document.createElement('div')\n    const close = () => {\n      render(null, container)\n      container.remove()\n      onClose?.()\n    }\n\n    const vNode = createVNode(Dialog, {\n      title,\n      content,\n      onCancel: onCancel,\n      confirm: onOk,\n      onClose: close,\n      footer: true,\n      ...config,\n    })\n    // const appContext = getCurrentInstance()?.appContext;\n    // // 补丁：Component中获取当前组件树的provides\n    // if (appContext) {\n    //     const currentProvides = (getCurrentInstance() as any)?.provides;\n    //     Reflect.set(appContext, 'provides', {...appContext.provides, ...currentProvides});\n    // }\n    // vNode.appContext = appContext;\n    render(vNode, container)\n    document.body.append(container)\n  }\n\n  static notice(content: string, title: string) {\n    let container = document.createElement('div')\n    let tempOnCancel = () => {\n      render(null, container)\n      container.remove()\n    }\n    const vNode = createVNode(Dialog, {\n      title,\n      content,\n      onCancel: tempOnCancel,\n    })\n    // const appContext = getCurrentInstance()?.appContext;\n    // // 补丁：Component中获取当前组件树的provides\n    // if (appContext) {\n    //     const currentProvides = (getCurrentInstance() as any)?.provides;\n    //     Reflect.set(appContext, 'provides', {...appContext.provides, ...currentProvides});\n    // }\n    // vNode.appContext = appContext;\n    render(vNode, container)\n    document.body.append(container)\n  }\n}\n"],"names":["MessageBox","confirm","content","title","onOk","onCancel","onClose","config","container","document","createElement","close","render","remove","vNode","createVNode","Dialog","footer","body","append","notice","tempOnCancel"],"mappings":";;AAIO,MAAMA,WAAW;AAAA,EACtB,OAAOC,QACLC,SACAC,OACAC,OAAkBA,MAAM,QACxBC,WAAsBA,MAAM,QAC5BC,UAAqBA,MAAM,QAC3BC,SAAqB,CAAA,GACrB;AACA,QAAIC,YAAYC,SAASC,cAAc,KAAK;AAC5C,UAAMC,QAAQA,MAAM;AAClBC,aAAO,MAAMJ,SAAS;AACtBA,gBAAUK,OAAAA;AACVP,gBAAAA;AAAAA,IACF;AAEA,UAAMQ,QAAQC,YAAYC,QAAQ;AAAA,MAChCb;AAAAA,MACAD;AAAAA,MACAG;AAAAA,MACAJ,SAASG;AAAAA,MACTE,SAASK;AAAAA,MACTM,QAAQ;AAAA,MACR,GAAGV;AAAAA,IAAAA,CACJ;AAQDK,WAAOE,OAAON,SAAS;AACvBC,IAAAA,SAASS,KAAKC,OAAOX,SAAS;AAAA,EAChC;AAAA,EAEA,OAAOY,OAAOlB,SAAiBC,OAAe;AAC5C,QAAIK,YAAYC,SAASC,cAAc,KAAK;AAC5C,QAAIW,eAAeA,MAAM;AACvBT,aAAO,MAAMJ,SAAS;AACtBA,gBAAUK,OAAAA;AAAAA,IACZ;AACA,UAAMC,QAAQC,YAAYC,QAAQ;AAAA,MAChCb;AAAAA,MACAD;AAAAA,MACAG,UAAUgB;AAAAA,IAAAA,CACX;AAQDT,WAAOE,OAAON,SAAS;AACvBC,IAAAA,SAASS,KAAKC,OAAOX,SAAS;AAAA,EAChC;AACF;"}