{"version":3,"file":"vip-CsbRW_gy.js","sources":["../../../../app/apis/member.ts","../../../../app/pages/(user)/vip.vue"],"sourcesContent":["import http from '@/utils/http'\n\nexport type LevelBenefits = {\n  \"level\": {\n    \"id\": number,\n    \"name\": string,\n    \"code\": string,\n    \"level\": number,\n    \"price\": string,\n    \"price_auto\": string,\n    \"yearly_price\": string,\n    \"description\": string,\n    \"color\": string,\n    \"icon\": string,\n    \"is_active\": number,\n    \"created_at\": string,\n    \"updated_at\": string\n  },\n  \"benefits\": {\n    \"code\": string,\n    \"name\": string,\n    \"type\": boolean,\n    \"unit\": null,\n    \"value\": string\n  }[]\n}\n\nexport type CouponInfo = {\n  \"id\": number,\n  \"code\": string,\n  \"name\": string,\n  \"type\": string,\n  \"value\"?: string,\n  \"min_amount\"?: string,\n  \"max_discount\"?: string,\n  \"applicable_levels\": {\n    code: string,\n    name: string,\n    level: string,\n  }[]\n  \"usage_limit\": number,\n  \"total_usage\": number,\n  \"start_date\": string\n  \"end_date\": string\n  \"is_active\": number,\n  \"created_at\": string\n  \"updated_at\": string\n  \"is_valid\": boolean,\n}\n\nexport function levelBenefits(params) {\n  return http<LevelBenefits>('member/levelBenefits', null, params, 'get')\n}\n\nexport function orderCreate(params) {\n  return http<{ orderNo: string, result: string, }>('/member/orderCreate', params, null, 'post')\n}\n\nexport function alipayQuery(params) {\n  return http('/member/alipayQuery', null, params, 'get')\n}\n\nexport function testPay() {\n  return http('/member/testPay', null, null, 'get')\n}\n\nexport function orderStatus(params) {\n  return http('/member/orderStatus', null, params, 'get')\n}\n\nexport function couponInfo(params) {\n  return http<CouponInfo>('/member/couponInfo', null, params, 'get')\n}\n\nexport function setAutoRenewApi(params) {\n  return http('/member/setAutoRenew', params, null, 'post')\n}\n","<script setup lang=\"ts\">import { ref as _ref, computed as _computed } from 'vue';\n\nimport BasePage from '@/components/BasePage.vue'\nimport BaseButton from '@/components/BaseButton.vue'\nimport { useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores/user.ts'\nimport type { User } from '@/apis/user.ts'\nimport { onMounted, onUnmounted, watch } from 'vue'\nimport Header from '@/components/Header.vue'\nimport { alipayQuery, couponInfo, levelBenefits, orderCreate, orderStatus, setAutoRenewApi } from '@/apis/member.ts'\nimport type { CouponInfo, LevelBenefits } from '@/apis/member.ts'\nimport Radio from '@/components/base/radio/Radio.vue'\nimport RadioGroup from '@/components/base/radio/RadioGroup.vue'\nimport Toast from '@/components/base/toast/Toast.ts'\nimport { _dateFormat, _nextTick } from '@/utils'\nimport InputNumber from '@/components/base/InputNumber.vue'\nimport BaseInput from '@/components/base/BaseInput.vue'\nimport PopConfirm from '@/components/PopConfirm.vue'\n\nconst router = useRouter()\nconst userStore = useUserStore()\n\ninterface Plan {\n  id: string\n  name: string\n  price: number\n  unit: '月' | '年'\n  highlight?: string\n  autoRenew?: boolean\n}\n\nlet loading = _ref(false)\nlet selectedPaymentMethod = _ref('alipay')\nlet selectedPlanId = _ref('')\nlet duration = _ref(1)\nconst member = _computed<User['member']>(() => userStore.user?.member ?? ({} as any))\n\nconst memberEndDate = _computed(() => {\n  if (member.value?.endDate === null) return '永久'\n  return member.value?.endDate\n})\n\nlet data = _ref<LevelBenefits>({} as any)\nconst plans: Plan[] = _computed(() => {\n  let list = []\n  if (data.value?.level) {\n    list.push({\n      id: 'month',\n      name: '月付',\n      price: data.value.level.price,\n      unit: '月',\n    })\n    list.push({\n      id: 'month_auto',\n      name: '连续包月',\n      price: data.value.level.price_auto,\n      unit: '月',\n      highlight: '性价比更高',\n      autoRenew: true,\n    })\n    list.push({\n      id: 'year',\n      name: '年度会员',\n      price: data.value.level.yearly_price,\n      unit: '年',\n      highlight: '年度优惠',\n    })\n  }\n  return list\n})\n\n// Payment methods - WeChat and Alipay\nconst paymentMethods = [\n  // {\n  //   id: 'wechat',\n  //   name: '微信支付',\n  //   description: '使用微信支付'\n  // },\n  {\n    id: 'alipay',\n    name: '支付宝',\n    description: '使用支付宝支付',\n  },\n]\n\nconst currentPlan = _computed(() => {\n  return plans.value.find(v => v.id === member.value?.plan) ?? null\n})\n\nconst selectPlan = _computed(() => {\n  return plans.value.find(v => v.id === selectedPlanId.value) ?? null\n})\n\n// Calculate original price based on plan type\nconst originalPrice = _computed(() => {\n  return selectPlan.value?.id === 'month_auto' ? Number(selectPlan.value?.price) : Number(duration.value) * Number(selectPlan.value?.price)\n})\n\n// check Is it enough for a discount\nconst enoughDiscount = _computed(() => {\n  if (coupon.value.is_valid) {\n    if (coupon.value.min_amount) {\n      const minAmount = Number(coupon.value.min_amount)\n      return originalPrice.value > minAmount\n    }\n    return true\n  }\n  return false\n})\n\nconst endPrice = _computed(() => {\n  if (!coupon.value.is_valid) {\n    return Number(originalPrice.value.toFixed(2))\n  }\n\n  if (coupon.value.type === 'free_trial') return 0\n\n  if (!enoughDiscount.value) {\n    return Number(originalPrice.value.toFixed(2))\n  }\n\n  let discountAmount = 0\n  if (coupon.value.type === 'discount') {\n    // Discount coupon: e.g., 0.8 means 20% off\n    const discountRate = Number(coupon.value.value)\n    discountAmount = originalPrice.value * (1 - discountRate)\n\n    // Apply max_discount limit if available\n    if (coupon.value.max_discount) {\n      const maxDiscount = Number(coupon.value.max_discount)\n      discountAmount = Math.min(discountAmount, maxDiscount)\n    }\n  } else if (coupon.value.type === 'amount') {\n    // Amount coupon: fixed amount off\n    discountAmount = Number(coupon.value.value)\n  }\n\n  const finalPrice = Math.max(originalPrice.value - discountAmount, 0)\n  return finalPrice.toFixed(2)\n})\n\nconst startDate = _computed(() => {\n  if (member.value?.active) {\n    return member.value.endDate\n  } else {\n    return _dateFormat(Date.now())\n  }\n})\n\nonMounted(async () => {\n  let res = await levelBenefits({ levelCode: 'basic' })\n  if (res.success) {\n    data.value = res.data\n  }\n})\n\nlet loading2 = _ref(false)\n\nasync function toggleAutoRenew() {\n  if (loading2.value) return\n  loading2.value = true\n  let res = await setAutoRenewApi({ autoRenew: false })\n  if (res.success) {\n    Toast.success('取消成功')\n    userStore.init()\n  } else {\n    Toast.error(res.msg || '取消失败')\n  }\n  loading2.value = false\n}\n\n// Get button text based on current plan\nfunction getPlanButtonText(plan: Plan) {\n  if (plan.id === selectedPlanId.value) return '已选中'\n  if (plan.id === currentPlan.value?.id) return '当前计划'\n  return '选择'\n}\n\nfunction goPurchase(plan: Plan) {\n  if (!userStore.isLogin) {\n    router.push({ path: '/login', query: { redirect: '/vip' } })\n    return\n  }\n  selectedPlanId.value = plan.id\n  _nextTick(() => {\n    let el = document.getElementById('pay')\n    el.scrollIntoView({ behavior: 'smooth' })\n  })\n}\n\nlet startLoop = _ref(false)\nlet orderNo = _ref('')\nlet timer: number = _ref()\nlet showCouponInput = _ref(false)\nlet coupon = _ref<CouponInfo>({ code: '' } as CouponInfo)\nlet checkLoading = _ref(false)\nlet showCheckBtn = _ref(false)\n\nwatch(\n  () => startLoop.value,\n  n => {\n    if (n) {\n      clearInterval(timer.value)\n      timer.value = setInterval(() => {\n        orderStatus({ orderNo: orderNo.value }).then(res => {\n          if (res?.success) {\n            if (res.data?.payment_status === 'paid') {\n              Toast.success('付款成功')\n              userStore.init()\n              startLoop.value = false\n              selectedPlanId.value = undefined\n            }\n          } else {\n            startLoop.value = false\n            Toast.error(res.msg || '付款失败')\n          }\n        })\n      }, 1000)\n      setTimeout(() => {\n        showCheckBtn.value = true\n      }, 3000)\n    } else {\n      clearInterval(timer.value)\n      showCheckBtn.value = false\n    }\n  }\n)\n\nonUnmounted(() => {\n  startLoop.value = false\n  clearInterval(timer.value)\n})\n\nasync function handlePayment() {\n  // let win = window.open('about:blank')\n  // let res1 = await testPay()\n  // if (res1.success) {\n  //   win.document.write(res1.data as string);\n  //   win.document.close();\n  // }\n  // return\n  if (loading.value || startLoop.value) return\n  loading.value = true\n  let data = {\n    plan: selectedPlanId.value,\n    duration: Number(duration.value),\n    payment_method: selectedPaymentMethod.value,\n    couponCode: coupon.value.is_valid ? coupon.value.code : undefined,\n  }\n  let res = await orderCreate(data)\n  console.log('res', res)\n  if (res.success) {\n    _nextTick(() => {\n      const iframe = document.getElementById('payFrame')\n      // 强制重置为 about:blank，让 document 可写\n      iframe.src = 'about:blank'\n      iframe.onload = () => {\n        const doc = iframe.contentWindow.document\n        doc.open()\n        doc.write(res.data.result) // 写入 form\n        doc.close() // form 会自动提交\n      }\n      startLoop.value = true\n    })\n    orderNo.value = res.data.orderNo\n  } else {\n    Toast.error(res.msg || '付款失败')\n  }\n  loading.value = false\n}\n\nasync function checkOrderStatus() {\n  if (checkLoading.value) return\n  checkLoading.value = true\n  let res = await alipayQuery({ orderNo: orderNo.value })\n  if (!res.success) {\n    Toast.info(res.msg || '未付款')\n  }\n  checkLoading.value = false\n}\n\nlet couponLoading = _ref(false)\n\nasync function getCouponInfo() {\n  if (showCouponInput.value) {\n    if (!coupon.value.code) return Toast.info('请输入优惠券')\n    if (couponLoading.value) return\n    couponLoading.value = true\n    let res = await couponInfo(coupon.value)\n    if (res.success) {\n      if (res.data.is_valid) {\n        coupon.value = res.data\n      } else {\n        coupon.value = { code: coupon.value.code } as CouponInfo\n        Toast.info('优惠券已失效')\n      }\n    } else {\n      coupon.value = { code: coupon.value.code } as CouponInfo\n      Toast.error(res.msg || '优惠券无效')\n    }\n    couponLoading.value = false\n  } else {\n    showCouponInput.value = true\n  }\n}\n</script>\n\n<template>\n  <BasePage>\n    <div class=\"space-y-6\">\n      <div class=\"card-white\">\n        <Header title=\"会员介绍\"></Header>\n        <div class=\"grid grid-cols-3 grid-rows-3 gap-3\">\n          <div class=\"text-lg flex items-center\" v-for=\"f in data.benefits\" :key=\"f.name\">\n            <IconFluentCheckmarkCircle20Regular class=\"mr-2 text-green-600\" />\n            <span>\n              <span>{{ f.name }}</span>\n              <span v-if=\"f.value !== 'true'\">{{ `(${f.value}${f.unit ?? ''})` }}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"member?.active\" class=\"card-white bg-green-50 dark:bg-item border border-green-200 mt-3 mb-6\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <IconFluentCheckmarkCircle20Regular class=\"mr-2 text-green-600\" />\n            <div>\n              <div class=\"font-semibold text-green-800\">当前计划：{{ currentPlan?.name }}</div>\n              <div class=\"text-sm text-green-600\">到期时间：{{ memberEndDate }}</div>\n            </div>\n          </div>\n          <div class=\"text-align-end space-y-2\">\n            <div v-if=\"member.autoRenew\" class=\"flex items-center gap-space\">\n              <div class=\"flex items-center text-sm text-gray-600\">\n                <IconFluentArrowRepeatAll20Regular class=\"mr-1\" />\n                <span>自动续费已开启</span>\n              </div>\n              <PopConfirm title=\"确认取消？\" @confirm=\"toggleAutoRenew\">\n                <BaseButton size=\"small\" type=\"info\" :loading=\"loading2\">关闭</BaseButton>\n              </PopConfirm>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-between\">\n        <div class=\"title\">选择适合您的套餐</div>\n        <div class=\"subtitle\">三种方案，按需选择</div>\n      </div>\n\n      <div class=\"plans\">\n        <div v-for=\"p in plans\" :key=\"p.id\" class=\"card-white p-0 overflow-hidden flex flex-col\">\n          <div class=\"text-2xl font-bold bg-gray-300 dark:bg-third px-6 py-4\">{{ p.name }}</div>\n          <div class=\"p-6 flex flex-col justify-between flex-1\">\n            <div class=\"plan-head\">\n              <div class=\"price\">\n                <span class=\"amount\">¥{{ p.price }}</span>\n                <span class=\"unit\">/ 每{{ p.unit }}</span>\n              </div>\n              <div v-if=\"p.highlight\" class=\"tag\">{{ p.highlight }}</div>\n            </div>\n            <div v-if=\"p.autoRenew\" class=\"text-sm flex items-center mt-4\">\n              <IconFluentArrowRepeatAll20Regular class=\"mr-2\" />\n              开启自动续费，可随时关闭\n            </div>\n            <BaseButton\n              class=\"w-full mt-4\"\n              size=\"large\"\n              :type=\"p.id === currentPlan?.id || p.id === selectedPlanId ? 'primary' : 'info'\"\n              :disabled=\"p.id === currentPlan?.id\"\n              @click=\"goPurchase(p)\"\n            >\n              {{ getPlanButtonText(p) }}\n            </BaseButton>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"pay\" class=\"mb-50\" v-if=\"selectedPlanId\">\n      <!-- Page Header -->\n      <div class=\"text-center mb-6\">\n        <h1 class=\"text-xl font-semibold mb-2\">安全支付</h1>\n        <p class=\"\">选择支付方式完成订单</p>\n      </div>\n\n      <div class=\"center\">\n        <div class=\"card-white w-5/10\">\n          <div class=\"flex items-center justify-between gap-6\">\n            <div class=\"center gap-2\" v-if=\"!showCouponInput\">\n              <IconStreamlineDiscountPercentCoupon />\n              <span>有优惠券？</span>\n            </div>\n            <BaseInput\n              v-else\n              v-model=\"coupon.code\"\n              placeholder=\"请输入优惠券\"\n              autofocus\n              clearable\n              @enter=\"getCouponInfo\"\n            />\n            <BaseButton size=\"large\" :loading=\"couponLoading\" @click=\"getCouponInfo\"\n              >{{ showCouponInput ? '确定' : '在此兑换!' }}\n            </BaseButton>\n          </div>\n\n          <div class=\"bg-green-50 border border-green-200 rounded-lg px-4 py-3 mt-4\" v-if=\"coupon.is_valid\">\n            <div class=\"font-medium\">优惠券: {{ coupon.name }}</div>\n            <div class=\"flex justify-between w-full mt-2\">\n              <span v-if=\"coupon.type === 'discount'\">折扣券：{{ (Number(coupon.value) * 10).toFixed(1) }}折</span>\n              <span v-else-if=\"coupon.type === 'amount'\">立减券：￥{{ Number(coupon.value).toFixed(2) }}</span>\n              <span v-else-if=\"coupon.type === 'free_trial'\">折扣: -100%</span>\n\n              <!-- Coupon restrictions -->\n              <div v-if=\"coupon.min_amount || coupon.max_discount\">\n                <span v-if=\"coupon.min_amount\">满{{ Number(coupon.min_amount).toFixed(2) }}元可用</span>\n                <span v-if=\"coupon.max_discount && coupon.type === 'discount'\">\n                  · 最高减{{ Number(coupon.max_discount).toFixed(2) }}元\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Main Content -->\n      <div class=\"grid grid-cols-3 gap-8\">\n        <!-- Left Card: Payment Method Selection -->\n        <div class=\"card-white\">\n          <div class=\"text-lg font-medium mb-4\">选择支付方式</div>\n          <RadioGroup v-model=\"selectedPaymentMethod\">\n            <div class=\"space-y-3 w-full\">\n              <div\n                v-for=\"method in paymentMethods\"\n                :key=\"method.id\"\n                @click=\"selectedPaymentMethod = method.id\"\n                class=\"flex p-4 border rounded-lg cp transition-all duration-200 hover:bg-item\"\n                :class=\"selectedPaymentMethod === method.id && 'bg-item'\"\n              >\n                <div class=\"flex items-center flex-1 gap-4\">\n                  <IconSimpleIconsWechat class=\"text-xl color-green-500\" v-if=\"method.id === 'wechat'\" />\n                  <IconUiwAlipay class=\"text-xl color-blue\" v-else />\n                  <div>\n                    <div class=\"font-medium color-main\">{{ method.name }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ method.description }}</div>\n                  </div>\n                </div>\n                <Radio :value=\"method.id\" label=\"\"></Radio>\n              </div>\n            </div>\n          </RadioGroup>\n        </div>\n\n        <!-- Right Card: Order Summary -->\n        <div class=\"card-white\">\n          <div class=\"text-lg font-semibold mb-4\">订单概要</div>\n\n          <!-- Plan Info -->\n          <div class=\"mb-4\">\n            <div class=\"text-purple-600 text-sm mb-2\">付费方案（{{ selectPlan?.name }}）订阅</div>\n            <div class=\"mb-4\">从 {{ startDate }} 开始:</div>\n          </div>\n\n          <div class=\"flex justify-between items-center mb-4\">\n            <!-- Price -->\n            <div class=\"flex items-baseline\">\n              <span class=\"font-semibold\" :class=\"selectPlan?.id === 'month_auto' ? 'text-3xl' : 'text-xl'\">\n                ￥{{ selectPlan?.price }}\n              </span>\n              <span class=\"ml-2\">/ {{ selectPlan?.unit }}</span>\n            </div>\n            <div v-if=\"selectPlan?.id !== 'month_auto'\">\n              <InputNumber :min=\"1\" v-model=\"duration\" />\n            </div>\n          </div>\n\n          <div v-if=\"coupon.is_valid\" class=\"mb-4\">\n            <div class=\"flex items-baseline text-gray-500 line-through\" v-if=\"enoughDiscount\">\n              <span class=\"text-lg\">原价：￥{{ Number(originalPrice).toFixed(2) }}</span>\n              <span class=\"ml-2\">/ {{ selectPlan?.unit }}</span>\n            </div>\n            <div class=\"text-sm\">\n              <div v-if=\"enoughDiscount\" class=\"text-green-600 flex items-center\">\n                <IconStreamlineDiscountPercentCoupon class=\"mr-2\" />\n                <span>已优惠：￥{{ (Number(originalPrice) - Number(endPrice)).toFixed(2) }}</span>\n              </div>\n              <span v-else>优惠券不可用：未满足条件</span>\n            </div>\n          </div>\n\n          <!-- Final Price -->\n          <div class=\"flex items-baseline mb-4\">\n            <span class=\"text-2xl font-semibold\">总计：</span>\n            <span class=\"text-3xl font-semibold\">￥{{ endPrice }}</span>\n          </div>\n\n          <div class=\"bg-second text-sm px-4 py-3 rounded-lg mb-4 text-gray-600\">\n            会员属于虚拟服务，一经购买激活后不支持退款。请在购买前仔细阅读权益说明，确认符合您的需求再进行支付。\n          </div>\n\n          <!-- Payment Button -->\n          <BaseButton\n            class=\"w-full\"\n            size=\"large\"\n            :loading=\"loading || startLoop\"\n            :type=\"!!selectedPaymentMethod ? 'primary' : 'info'\"\n            :disabled=\"!selectedPaymentMethod\"\n            @click=\"handlePayment\"\n          >\n            付款\n          </BaseButton>\n        </div>\n\n        <!-- Right Card: Order Summary -->\n        <div class=\"card-white flex flex-col\">\n          <div class=\"text-lg font-semibold mb-4\">扫码支付</div>\n          <div class=\"center flex-col relative flex-1\">\n            <div class=\"center h-full w-full absolute left-0 top-0 bg-white z-2\" v-if=\"!startLoop\">\n              <div class=\"w-5/10\">请点击左侧付款按钮后，支付二维码将自动显示</div>\n            </div>\n\n            <iframe id=\"payFrame\" class=\"w-[205px] h-[205px] center border-none\"></iframe>\n            <div class=\"text-center my-4\">请使用支付宝扫码支付</div>\n            <BaseButton size=\"large\" v-if=\"showCheckBtn\" :loading=\"checkLoading\" @click=\"checkOrderStatus\">\n              我已付款\n            </BaseButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  </BasePage>\n</template>\n\n<style scoped lang=\"scss\">\n.pay-dialog {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99999;\n}\n\n.plans {\n  display: grid;\n  gap: 3rem;\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n\n.plan-head {\n  @apply flex flex-col gap-2;\n}\n\n.price {\n  @apply flex items-end gap-1;\n}\n\n.amount {\n  @apply text-4xl font-500;\n}\n\n.unit {\n  @apply text-base text-gray-500;\n}\n\n.desc {\n  @apply text-sm text-gray-600;\n}\n\n.tag {\n  @apply text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded w-fit;\n}\n</style>\n"],"names":["http","_ref","_computed","data","_push","_parent","_ssrRenderComponent","_unref","_ssrInterpolate","_","_scopeId","_createVNode","_ssrRenderList","_createTextVNode","_toDisplayString","_createBlock","_Fragment","_renderList","_isRef","_ssrRenderClass","_openBlock"],"mappings":"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"}