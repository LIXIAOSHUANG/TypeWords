{"file":"PopConfirm-BsYq1Crk.js","mappings":";;;AAEoD,SAAAA,QAAAC,GAAA;AAAA,SAAA,OAAAA,MAAA,cAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,MAAA,qBAAA,CAAAK,QAAAL,CAAA;AAAA;AAEpD,MAAA,YAAe;AAAA,EACbM,MAAM;AAAA,EACNC,YAAY;AAAA,IACVC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,EAAAA;AAAAA,EAEFC,OAAO;AAAA,IACLC,OAAO;AAAA,MACLC,MAAM,CAACC,QAAQC,KAAK;AAAA,MACpBC,UAAU;AACR,eAAO;AAAA,MACT;AAAA,MACAC,UAAUC,OAAO;AAEf,YAAIH,MAAMI,QAAQD,KAAK,GAAG;AACxB,iBAAOA,MAAME,MAAMC,CAAAA,SACjB,OAAOA,SAAS,YAChBA,SAAS,QACT,OAAOA,KAAKC,SAAS,YACrB,CAAC,UAAU,QAAQ,OAAO,SAAS,EAAEC,SAASF,KAAKR,IAAI,CACzD;AAAA,QACF;AACA,eAAO,OAAOK,UAAU;AAAA,MAC1B;AAAA,IAAA;AAAA,IAEFM,UAAU;AAAA,MACRX,MAAMY;AAAAA,MACNT,UAAU;AACR,eAAO;AAAA,MACT;AAAA,IAAA;AAAA,EACF;AAAA,EAEFU,UAAU;AAAA,IACRC,aAAa;AACX,UAAI,OAAO,KAAKf,UAAU,UAAU;AAClC,eAAO,CAAC;AAAA,UAAEU,MAAM,KAAKV;AAAAA,UAAOC,MAAM;AAAA,QAAA,CAAU;AAAA,MAC9C;AACA,UAAIE,MAAMI,QAAQ,KAAKP,KAAK,GAAG;AAC7B,eAAO,KAAKA;AAAAA,MACd;AACA,aAAO,CAAA;AAAA,IACT;AAAA,EAAA;AAAA,EAEFgB,OAAO;AACL,WAAO;AAAA,MACLC,MAAM;AAAA,IAAA;AAAA,EAEV;AAAA,EACAC,UAAU;AACRC,IAAAA,SAAOC,iBAAiB,SAAS,MAAM;AACrC,WAAKH,OAAO;AAAA,IACd,CAAC;AACDE,IAAAA,SAAOC,iBAAiB,WAAW,MAAM;AACvC,WAAKH,OAAO;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACAI,SAAS;AAAA,IACPC,aAAarB,MAAM;AACjB,YAAMsB,SAAS;AAAA,QACbC,QAAQ;AAAA,UACNC,YAAY;AAAA,UACZC,OAAO;AAAA,QAAA;AAAA,QAETC,MAAM;AAAA,UACJF,YAAY;AAAA,UACZC,OAAO;AAAA,QAAA;AAAA,QAETE,KAAK;AAAA,UACHH,YAAY;AAAA,UACZC,OAAO;AAAA,QAAA;AAAA,QAETG,SAAS;AAAA,UACPJ,YAAY;AAAA,UACZC,OAAO;AAAA,QAAA;AAAA,MACT;AAEF,aAAOH,OAAOtB,IAAI,KAAKsB,OAAOC;AAAAA,IAChC;AAAA,IACAM,QAAQC,GAAG;AACT,UAAI,KAAKnB,SAAU,QAAO,KAAKoB,MAAM,SAAS;AAC9CD,SAAGE,gBAAAA;AACH,UAAIC,OAAOH,EAAEI,OAAOC,sBAAAA;AACpB,WAAKnB,OAAO;AACZ,WAAKoB,UAAU,MAAM;AACnB,YAAIC,MAAM,KAAKC,OAAOD,KAAKF,sBAAAA;AAE3B,YAAI,CAACE,IAAK;AACV,YAAIJ,KAAKM,MAAM,KAAK;AAClB,eAAKD,MAAMD,IAAIG,MAAMD,MAAMN,KAAKM,MAAMN,KAAKQ,SAASJ,IAAII,SAAS,KAAK;AAAA,QACxE,OAAO;AACL,eAAKH,MAAMD,IAAIG,MAAMD,MAAMN,KAAKM,MAAM,KAAK;AAAA,QAC7C;AACA,aAAKD,MAAMD,IAAIG,MAAME,OAAOT,KAAKS,OAAOT,KAAKU,QAAQ,IAAI,KAAK;AAAA,MAChE,CAAC;AAAA,IACH;AAAA,IACAC,UAAU;AACR,WAAK5B,OAAO;AACZ,WAAKe,MAAM,SAAS;AAAA,IACtB;AAAA,EAAA;AAAA,EAEFc,SAAS;AAAA,QAAAC,OAAAC;AACP,QAAIC,QAAQ,KAAKC,OAAO9C,QAAAA,EAAU,CAAC;AACnC,WAAA+C,YAAA,OAAA;AAAA,MAAA,SAAA;AAAA,IAAA,GAAA,CAAAA,YAAAvD,UAAA;AAAA,MAAA,MAAA;AAAA,IAAA,GAAA;AAAA,MAAAQ,SAAAA,MAAA,CAAA+C,YAAAtD,YAAA;AAAA,QAAA,QAAA;AAAA,MAAA,GAAA;AAAA,QAAAO,SAAAA,MAAA,CAKc,KAAKa,QAAGkC,YAAA,OAAA;AAAA,UAAA,OAAA;AAAA,UAAA,SAAA;AAAA,QAAA,GAAA,CAAAA,YAAA,OAAA;AAAA,UAAA,SAAA;AAAA,QAAA,GAAA,CAGC,KAAKpC,WAAWqC,IAAI,CAAC3C,MAAM4C,UAAKF,YAAA,OAAA;AAAA,UAAA,OAExBE;AAAAA,UAAK,SACH,KAAK/B,aAAab,KAAKR,IAAI;AAAA,UAAC,SAAA;AAAA,QAAA,GAAA,CAGlCQ,KAAKC,IAAI,CAAA,CAEb,CAAC,IAAAyC,YAAA,OAAA;AAAA,UAAA,SAAA;AAAA,QAAA,GAAA,CAAAA,YAAArD,YAAA;AAAA,UAAA,QAAA;AAAA,UAAA,QAAA;AAAA,UAAA,WAG4CwD,MAAM,KAAKrC,OAAO;AAAA,QAAA,GAAK9B,QAAA4D,QAAG,KAAKQ,GAAG,QAAQ,CAAC,IAAAR,QAAA;AAAA,UAAA3C,SAAAA,MAAA,CAAA2C,KAAA;AAAA,QAAA,CAAA,GAAAI,YAAArD,YAAA;AAAA,UAAA,QAAA;AAAA,UAAA,WACvDwD,MAAM,KAAKT,QAAAA;AAAAA,QAAQ,GAAC1D,QAAA6D,SAAG,KAAKO,GAAG,SAAS,CAAC,IAAAP,SAAA;AAAA,UAAA5C,SAAAA,MAAA,CAAA4C,MAAA;AAAA,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAGnF;AAAA,MAAA,CAAA,CAAA;AAAA,IAAA,CAAA,GAAAG,YAAAF,OAAA;AAAA,MAAA,WAISlB,CAAAA,MAAM,KAAKD,QAAQC,CAAC;AAAA,IAAA,GAAC,IAAA,CAAA,CAAA;AAAA,EAG9C;AACF;;;;;;;;","names":["_isSlot","s","Object","prototype","toString","call","_isVNode","name","components","Teleport","Transition","BaseButton","props","title","type","String","Array","default","validator","value","isArray","every","item","text","includes","disabled","Boolean","computed","titleItems","data","show","mounted","window","addEventListener","methods","getTextStyle","styles","normal","fontWeight","color","bold","red","redBold","showPop","e","$emit","stopPropagation","rect","target","getBoundingClientRect","$nextTick","tip","$refs","top","style","height","left","width","confirm","render","_slot","_slot2","Vnode","$slots","_createVNode","map","index","onClick","$t"],"sources":["../../../../app/components/PopConfirm.vue"],"sourcesContent":["<script lang=\"jsx\">\nimport {Teleport, Transition} from 'vue'\nimport BaseButton from \"@/components/BaseButton.vue\";\n\nexport default {\n  name: \"PopConfirm\",\n  components: {\n    Teleport,\n    Transition,\n    BaseButton\n  },\n  props: {\n    title: {\n      type: [String, Array],\n      default() {\n        return ''\n      },\n      validator(value) {\n        // Validate that array items have the correct structure\n        if (Array.isArray(value)) {\n          return value.every(item =>\n            typeof item === 'object' &&\n            item !== null &&\n            typeof item.text === 'string' &&\n            ['normal', 'bold', 'red', 'redBold'].includes(item.type)\n          )\n        }\n        return typeof value === 'string'\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default() {\n        return false\n      }\n    }\n  },\n  computed: {\n    titleItems() {\n      if (typeof this.title === 'string') {\n        return [{ text: this.title, type: 'normal' }]\n      }\n      if (Array.isArray(this.title)) {\n        return this.title\n      }\n      return []\n    }\n  },\n  data() {\n    return {\n      show: false\n    }\n  },\n  mounted() {\n    window.addEventListener('click', () => {\n      this.show = false\n    })\n    window.addEventListener('keydown', () => {\n      this.show = false\n    })\n  },\n  methods: {\n    getTextStyle(type) {\n      const styles = {\n        normal: {\n          fontWeight: 'normal',\n          color: 'inherit'\n        },\n        bold: {\n          fontWeight: 'bold',\n          color: 'inherit'\n        },\n        red: {\n          fontWeight: 'normal',\n          color: 'red'\n        },\n        redBold: {\n          fontWeight: 'bold',\n          color: 'red'\n        }\n      }\n      return styles[type] || styles.normal\n    },\n    showPop(e) {\n      if (this.disabled) return this.$emit('confirm')\n      e?.stopPropagation()\n      let rect = e.target.getBoundingClientRect()\n      this.show = true\n      this.$nextTick(() => {\n        let tip = this.$refs?.tip?.getBoundingClientRect()\n        // console.log('rect', rect, tip)\n        if (!tip) return\n        if (rect.top < 150) {\n          this.$refs.tip.style.top = rect.top + rect.height + tip.height + 30 + 'px'\n        } else {\n          this.$refs.tip.style.top = rect.top - 10 + 'px'\n        }\n        this.$refs.tip.style.left = rect.left + rect.width / 2 - 50 + 'px'\n      })\n    },\n    confirm() {\n      this.show = false\n      this.$emit('confirm')\n    }\n  },\n  render() {\n    let Vnode = this.$slots.default()[0]\n    return (\n        <div class=\"pop-confirm leading-none\">\n          <Teleport to=\"body\">\n            <Transition name=\"fade\">\n              {\n                  this.show && (\n                      <div ref=\"tip\" class=\"pop-confirm-content shadow-2xl\">\n                        <div class=\"w-52 title-content\">\n                          {this.titleItems.map((item, index) => (\n                            <div\n                              key={index}\n                              style={this.getTextStyle(item.type)}\n                              class=\"title-item\"\n                            >\n                              {item.text}\n                            </div>\n                          ))}\n                        </div>\n                        <div class=\"options\">\n                          <BaseButton type=\"info\" size=\"small\" onClick={() => this.show = false}>{this.$t('cancel')}</BaseButton>\n                          <BaseButton size=\"small\" onClick={() => this.confirm()}>{this.$t('confirm')}</BaseButton>\n                        </div>\n                      </div>\n                  )\n              }\n            </Transition>\n          </Teleport>\n          <Vnode onClick={(e) => this.showPop(e)}/>\n        </div>\n    )\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.pop-confirm-content {\n  background: var(--color-tooltip-bg);\n  transform: translate(-50%, calc(-100% - .6rem));\n  @apply fixed z-9999 shadow-2xl rounded-lg p-3;\n\n  .title-content {\n    .title-item {\n      margin-bottom: 0.25rem;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n\n  .options {\n    margin-top: .9rem;\n    text-align: right;\n  }\n}\n</style>\n"],"version":3}