{"version":3,"file":"articles-BPJV3dPt.js","sources":["../../../../app/pages/(articles)/articles.vue"],"sourcesContent":["<script setup lang=\"ts\">import { ref as _ref, computed as _computed } from 'vue';\n\nimport { myDictList } from '@/apis'\nimport Progress from '@/components/base/Progress.vue'\nimport Toast from '@/components/base/toast/Toast.ts'\nimport BaseButton from '@/components/BaseButton.vue'\nimport BaseIcon from '@/components/BaseIcon.vue'\nimport BasePage from '@/components/BasePage.vue'\nimport Book from '@/components/Book.vue'\nimport DeleteIcon from '@/components/icon/DeleteIcon.vue'\nimport PopConfirm from '@/components/PopConfirm.vue'\nimport { APP_NAME, AppEnv, DICT_LIST, Host, LIB_JS_URL, TourConfig } from '@/config/env.ts'\nimport { useBaseStore } from '@/stores/base.ts'\nimport { useRuntimeStore } from '@/stores/runtime.ts'\nimport { useSettingStore } from '@/stores/setting.ts'\nimport { getDefaultDict } from '@/types/func.ts'\nimport type { DictResource } from '@/types/types.ts'\nimport { _getDictDataByUrl, _nextTick, isMobile, loadJsLib, msToHourMinute, resourceWrap, total, useNav } from '@/utils'\nimport { getPracticeArticleCache } from '@/utils/cache.ts'\nimport { useFetch } from '@vueuse/core'\nimport dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport { watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { DictType } from '@/types/enum.ts'\n\ndayjs.extend(isoWeek)\ndayjs.extend(isBetween)\n\nuseHead({\n  title: APP_NAME + ' 文章',\n})\n\nconst { nav } = useNav()\nconst base = useBaseStore()\nconst store = useBaseStore()\nconst settingStore = useSettingStore()\nconst router = useRouter()\nconst runtimeStore = useRuntimeStore()\nlet isSaveData = _ref(false)\n\nwatch(\n  () => store.load,\n  n => {\n    if (n) init()\n  },\n  { immediate: true }\n)\n\nasync function init() {\n  if (AppEnv.CAN_REQUEST) {\n    let res = await myDictList({ type: 'article' })\n    if (res.success) {\n      store.setState(Object.assign(store.$state, res.data))\n    }\n  }\n  if (store.article.studyIndex >= 1) {\n    if (!store.sbook.custom && !store.sbook.articles.length) {\n      store.article.bookList[store.article.studyIndex] = await _getDictDataByUrl(store.sbook, DictType.article)\n    }\n  }\n  let d = getPracticeArticleCache()\n  if (d) {\n    isSaveData.value = true\n  }\n}\n\nwatch(\n  () => store?.sbook?.id,\n  n => {\n    if (!n && import.meta.client) {\n      _nextTick(async () => {\n        const Shepherd = await loadJsLib('Shepherd', LIB_JS_URL.SHEPHERD)\n        const tour = new Shepherd.Tour(TourConfig)\n        tour.on('cancel', () => {\n          localStorage.setItem('tour-guide', '1')\n        })\n        tour.addStep({\n          id: 'step7',\n          text: '点击这里选择一本书籍开始学习，步骤前面选词典相同，让我们跳过中间步骤，直接开始练习吧',\n          attachTo: {\n            element: '#no-book',\n            on: 'bottom',\n          },\n          buttons: [\n            {\n              text: `下一步（7/${TourConfig.total}）`,\n              action() {\n                tour.next()\n                nav('/practice-articles/article_nce2', { guide: 1 })\n              },\n            },\n          ],\n        })\n\n        const r = localStorage.getItem('tour-guide')\n        if (settingStore.first && !r && !isMobile()) {\n          tour.start()\n        }\n      }, 500)\n    }\n  },\n  { immediate: true }\n)\n\nfunction startStudy() {\n  // console.log(store.sbook.articles[1])\n  // genArticleSectionData(cloneDeep(store.sbook.articles[1]))\n  // return\n  if (base.sbook.id) {\n    if (!base.sbook.articles.length) {\n      return Toast.warning('没有文章可学习！')\n    }\n    window.umami?.track('startStudyArticle', {\n      name: base.sbook.name,\n      custom: base.sbook.custom,\n      complete: base.sbook.complete,\n      s: `name:${base.sbook.name},index:${base.sbook.lastLearnIndex},title:${base.sbook.articles[base.sbook.lastLearnIndex].title}`,\n    })\n    nav('/practice-articles/' + store.sbook.id)\n  } else {\n    window.umami?.track('no-book')\n    Toast.warning('请先选择一本书籍')\n  }\n}\n\nlet isMultiple = _ref(false)\nlet selectIds = _ref([])\n\nfunction handleBatchDel() {\n  selectIds.value.forEach(id => {\n    let r = base.article.bookList.findIndex(v => v.id === id)\n    if (r !== -1) {\n      if (base.article.studyIndex === r) {\n        base.article.studyIndex = -1\n      }\n      if (base.article.studyIndex > r) {\n        base.article.studyIndex--\n      }\n      base.article.bookList.splice(r, 1)\n    }\n  })\n  selectIds.value = []\n  Toast.success('删除成功！')\n}\n\nfunction toggleSelect(item) {\n  let rIndex = selectIds.value.findIndex(v => v === item.id)\n  if (rIndex > -1) {\n    selectIds.value.splice(rIndex, 1)\n  } else {\n    selectIds.value.push(item.id)\n  }\n}\n\nasync function goBookDetail(val: DictResource) {\n  runtimeStore.editDict = getDefaultDict(val)\n  // nav('book',{id: val.id})\n  nav('/book/' + val.id)\n}\n\nconst totalSpend = _computed(() => {\n  if (base.sbook.statistics?.length) {\n    return msToHourMinute(total(base.sbook.statistics, 'spend'))\n  }\n  return 0\n})\nconst todayTotalSpend = _computed(() => {\n  if (base.sbook.statistics?.length) {\n    return msToHourMinute(\n      total(\n        base.sbook.statistics.filter(v => dayjs(v.startDate).isSame(dayjs(), 'day')),\n        'spend'\n      )\n    )\n  }\n  return 0\n})\n\nconst totalDay = _computed(() => {\n  if (base.sbook.statistics?.length) {\n    return new Set(base.sbook.statistics.map(v => dayjs(v.startDate).format('YYYY-MM-DD'))).size\n  }\n  return 0\n})\n\nconst weekList = _computed(() => {\n  const list = Array(7).fill(false)\n\n  // 获取本周的起止时间\n  const startOfWeek = dayjs().startOf('isoWeek') // 周一\n  const endOfWeek = dayjs().endOf('isoWeek') // 周日\n\n  store.sbook.statistics?.forEach(item => {\n    const date = dayjs(item.startDate)\n    if (date.isBetween(startOfWeek, endOfWeek, null, '[]')) {\n      let idx = date.day()\n      // dayjs().day() 0=周日, 1=周一, ..., 6=周六\n      // 需要转换为 0=周一, ..., 6=周日\n      if (idx === 0) {\n        idx = 6 // 周日放到最后\n      } else {\n        idx = idx - 1 // 其余前移一位\n      }\n      list[idx] = true\n    }\n  })\n  return list\n})\n\nconst { data: recommendBookList, isFetching } = useFetch(resourceWrap(DICT_LIST.ARTICLE.RECOMMENDED)).json()\n\nlet isNewHost = _ref(true)\nonMounted(() => {\n  isNewHost.value = window.location.host === Host\n})\n</script>\n\n<template>\n  <BasePage>\n    <div class=\"mb-4\" v-if=\"!isNewHost\">\n      新域名已启用，后续请访问\n      <a href=\"https://typewords.cc/words?from_old_site=1\">https://typewords.cc</a> 当前 2study.top\n      域名将在不久后停止使用\n    </div>\n\n    <div class=\"card flex flex-col md:flex-row justify-between gap-space p-4 md:p-6\">\n      <div class=\"\">\n        <Book\n          v-if=\"base.sbook.id\"\n          :is-add=\"false\"\n          quantifier=\"篇\"\n          :item=\"base.sbook\"\n          :show-progress=\"false\"\n          @click=\"goBookDetail(base.sbook)\"\n        />\n        <Book v-else :is-add=\"true\" @click=\"router.push('/book-list')\" />\n      </div>\n      <div class=\"flex-1\">\n        <div class=\"flex justify-between items-start\">\n          <div class=\"flex items-center min-w-0\">\n            <div class=\"title mr-4 truncate\">{{ $t('this_week_record') }}</div>\n            <div class=\"flex gap-4 color-gray\">\n              <div\n                class=\"w-6 h-6 md:w-8 md:h-8 rounded-md center text-sm md:text-base\"\n                :class=\"item ? 'bg-[#409eff] color-white' : 'bg-gray-200'\"\n                v-for=\"(item, i) in weekList\"\n                :key=\"i\"\n              >\n                {{ i + 1 }}\n              </div>\n            </div>\n          </div>\n          <div class=\"flex gap-4 items-center\" v-opacity=\"base.sbook.id\">\n            <div class=\"color-link cursor-pointer\" @click=\"router.push('/book-list')\">{{ $t('change_book') }}</div>\n          </div>\n        </div>\n        <div class=\"flex flex-col sm:flex-row gap-3 items-center mt-3 gap-space w-full\">\n          <div\n            class=\"w-full sm:flex-1 rounded-xl p-4 box-border relative bg-[var(--bg-history)] border border-gray-200\"\n          >\n            <div class=\"text-[#409eff] text-xl font-bold\">{{ todayTotalSpend }}</div>\n            <div class=\"text-gray-500\">{{ $t('today_study_time') }}</div>\n          </div>\n          <div\n            class=\"w-full sm:flex-1 rounded-xl p-4 box-border relative bg-[var(--bg-history)] border border-gray-200\"\n          >\n            <div class=\"text-[#409eff] text-xl font-bold\">{{ totalDay }}</div>\n            <div class=\"text-gray-500\">{{ $t('total_study_days') }}</div>\n          </div>\n          <div\n            class=\"w-full sm:flex-1 rounded-xl p-4 box-border relative bg-[var(--bg-history)] border border-gray-200\"\n          >\n            <div class=\"text-[#409eff] text-xl font-bold\">{{ totalSpend }}</div>\n            <div class=\"text-gray-500\">{{ $t('total_study_time') }}</div>\n          </div>\n        </div>\n        <div class=\"flex gap-3 mt-3\">\n          <Progress\n            class=\"w-full md:w-auto\"\n            size=\"large\"\n            :percentage=\"base.currentBookProgress\"\n            :format=\"() => `${base.sbook?.lastLearnIndex || 0}/${base.sbook?.length || 0}篇`\"\n            :show-text=\"true\"\n          ></Progress>\n\n          <BaseButton size=\"large\" class=\"w-full md:w-auto\" @click=\"startStudy\" :disabled=\"!base.sbook.name\">\n            <div class=\"flex items-center gap-2 justify-center w-full\">\n              <span class=\"line-height-[2]\">{{ isSaveData ? $t('continue_learning') : $t('start_learning') }}</span>\n              <IconFluentArrowCircleRight16Regular class=\"text-xl\" />\n            </div>\n          </BaseButton>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card flex flex-col\">\n      <div class=\"flex justify-between\">\n        <div class=\"title\">{{ $t('my_books') }}</div>\n        <div class=\"flex gap-4 items-center\">\n          <PopConfirm title=\"确认删除所有选中书籍？\" @confirm=\"handleBatchDel\" v-if=\"selectIds.length\">\n            <BaseIcon class=\"del\" :title=\"$t('delete')\">\n              <DeleteIcon />\n            </BaseIcon>\n          </PopConfirm>\n\n          <div\n            class=\"color-link cursor-pointer\"\n            v-if=\"base.article.bookList.length > 1\"\n            @click=\"\n              () => {\n                isMultiple = !isMultiple\n                selectIds = []\n              }\n            \"\n          >\n            {{ isMultiple ? $t('cancel') : $t('manage_books') }}\n          </div>\n          <div class=\"color-link cursor-pointer\" @click=\"nav('/book', { isAdd: true })\">{{ $t('create_personal_book') }}</div>\n        </div>\n      </div>\n      <div class=\"flex gap-4 flex-wrap mt-4\">\n        <Book\n          :is-add=\"false\"\n          :is-user=\"true\"\n          quantifier=\"篇\"\n          :item=\"item\"\n          :checked=\"selectIds.includes(item.id)\"\n          @check=\"() => toggleSelect(item)\"\n          :show-checkbox=\"isMultiple && j >= 1\"\n          v-for=\"(item, j) in base.article.bookList\"\n          @click=\"goBookDetail(item)\"\n        />\n        <Book :is-add=\"true\" @click=\"router.push('/book-list')\" />\n      </div>\n    </div>\n\n    <div class=\"card flex flex-col min-h-50\" v-loading=\"isFetching\">\n      <div class=\"flex justify-between\">\n        <div class=\"title\">{{ $t('recommend') }}</div>\n        <div class=\"flex gap-4 items-center\">\n          <div class=\"color-link cursor-pointer\" @click=\"router.push('/book-list')\">{{ $t('more') }}</div>\n        </div>\n      </div>\n\n      <div class=\"flex gap-4 flex-wrap mt-4\">\n        <Book\n          :is-add=\"false\"\n          quantifier=\"篇\"\n          :item=\"item as any\"\n          v-for=\"(item, j) in recommendBookList\"\n          @click=\"goBookDetail(item as any)\"\n        />\n      </div>\n    </div>\n  </BasePage>\n</template>\n\n<style scoped lang=\"scss\">\n.stat {\n  @apply rounded-xl p-4 box-border relative flex-1 bg-[var(--bg-history)];\n  border: 1px solid gainsboro;\n\n  .num {\n    @apply color-[#409eff] text-xl font-bold;\n  }\n\n  .txt {\n    @apply color-gray-500;\n  }\n}\n</style>\n"],"names":["_ref","_computed","_push","_parent","_unref","$t","_ssrRenderAttrs","_mergeProps","_ssrGetDirectiveProps","_","_scopeId","_ssrRenderComponent","_createVNode","_ssrRenderList","_createBlock","_openBlock","_Fragment","_renderList","_isRef"],"mappings":"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"}