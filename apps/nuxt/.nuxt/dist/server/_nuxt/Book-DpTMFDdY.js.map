{"version":3,"file":"Book-DpTMFDdY.js","sources":["../../../../app/components/Book.vue"],"sourcesContent":["<script setup lang=\"ts\">import { computed as _computed } from 'vue';\n\nimport type { Dict } from \"@/types/types\";\nimport Progress from '@/components/base/Progress.vue'\nimport Checkbox from \"@/components/base/checkbox/Checkbox.vue\";\n\ninterface IProps {\n  item?: Partial<Dict>;\n  quantifier?: string\n  isAdd: boolean\n  showCheckbox?: boolean\n  checked?: boolean\n  showProgress?: boolean\n  isUser?: boolean //是否是用户的词典\n}\n\nconst props = defineProps({\n  item: null,\n  quantifier: null,\n  isAdd: { type: Boolean },\n  showCheckbox: { type: Boolean },\n  checked: { type: Boolean },\n  showProgress: { type: Boolean, default: true },\n  isUser: { type: Boolean, default: false }\n})\n\ndefineEmits([\"check\"])\n\nconst progress = _computed(() => {\n  return Number(((props.item?.lastLearnIndex / props.item?.length) * 100).toFixed())\n})\n\nconst studyProgress = _computed(() => {\n  if (!props.showProgress) return\n  return props.item?.lastLearnIndex ? props.item?.lastLearnIndex + '/' : ''\n})\n</script>\n\n<template>\n  <div :id=\"item?.id\" v-if=\"!isAdd\">\n    <div class=\"book overflow-hidden relative\">\n      <NuxtImg class=\"absolute top-0 left-0 w-full object-cover\" v-if=\"item?.cover\" :src='item.cover' alt=\"\" />\n      <div class=\"text-base mt-1\" v-else>{{ item?.name }}</div>\n      <div class=\"absolute bottom-4 right-3 z-1\" :class=\"item?.cover && 'color-white'\">\n        <div>{{ studyProgress }}{{ item?.length }}{{ quantifier }}</div>\n      </div>\n      <div class=\"absolute bottom-2 left-3 right-3\">\n        <Progress v-if=\"(item?.lastLearnIndex) && showProgress\" class=\"mt-1\"\n                  :percentage=\"progress\"\n                  :show-text=\"false\"></Progress>\n      </div>\n      <Checkbox v-if=\"showCheckbox\"\n                :model-value=\"checked\"\n                @change=\"$emit('check')\"\n                class=\"absolute left-3 bottom-3 z-2\"/>\n      <div class=\"custom z-1\" v-if=\"item.custom\">{{ $t('custom') }}</div>\n<!--      <div class=\"custom bg-red! color-white z-1\" v-else-if=\"item.update\">更新中</div>-->\n<!--      <div class=\"sync bg-red! color-white z-1\" v-if=\"!item.sync && isUser && !showCheckbox\">未同步</div>-->\n    </div>\n    <div class=\"text-base mt-1\" v-if=\"item?.cover\">{{ item?.name }}</div>\n  </div>\n  <div v-else class=\"book\" id=\"no-book\">\n    <div class=\"h-full center text-2xl\">\n      <IconFluentAdd16Regular/>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.custom {\n  position: absolute;\n  top: 4px;\n  right: -22px;\n  padding: 1px 20px;\n  background: var(--color-label-bg);\n  font-size: 11px;\n  transform: rotate(45deg);\n}\n\n.sync {\n  @extend .custom;\n  bottom: 4px;\n  left: -22px;\n  top: unset;\n  right: unset;\n}\n</style>\n"],"names":["_computed","_ssrInterpolate","_ssrRenderClass","$emit","$t"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,UAAM,QAAQ;AAYd,UAAM,WAAWA,SAAU,MAAM;AAC/B,aAAO,QAAS,MAAM,MAAM,iBAAiB,MAAM,MAAM,SAAU,KAAK,SAAS;AAAA,IACnF,CAAC;AAED,UAAM,gBAAgBA,SAAU,MAAM;AACpC,UAAI,CAAC,MAAM,aAAc;AACzB,aAAO,MAAM,MAAM,iBAAiB,MAAM,MAAM,iBAAiB,MAAM;AAAA,IACzE,CAAC;;;;WAI4B,QAAA,OAAK;;UAA1B,IAAI,QAAA,MAAM;AAAA,QAAA;AAEqD,YAAA,QAAA,MAAM,OAAK;;YAAnE,OAAM;AAAA,YAAgE,KAAK,QAAA,KAAK;AAAA,YAAO,KAAI;AAAA,UAAA;;AAC9D,gBAAA,+CAAAC,eAAA,QAAA,MAAM,IAAI,CAAA,QAAA;AAAA;6BACGC,eAAA,CAAA,QAAA,MAAM,SAAK,eAAA,+BAAA,CAAA,0DACpD,cAAA,KAAa,IAAMD,eAAA,QAAA,MAAM,MAAM,mBAAM,QAAA,UAAU;YAGtC,QAAA,MAAM,kBAAmB,QAAA,cAAY;;YAAE,OAAM;AAAA,YACnD,YAAY,SAAA;AAAA,YACZ,aAAW;AAAA,UAAA;;;;;YAER,QAAA,cAAY;;YACjB,eAAa,QAAA;AAAA,YACb,sBAAQE,KAAAA,MAAK,OAAA;AAAA,YACd,OAAM;AAAA,UAAA;;;;AACc,YAAA,QAAA,KAAK,QAAM;0EAAKC,KAAAA,GAAE,QAAA,CAAA,CAAA,QAAA;AAAA;;;;AAIhB,YAAA,QAAA,MAAM,OAAK;AAAK,gBAAA,+CAAAH,eAAA,QAAA,MAAM,IAAI,CAAA,QAAA;AAAA;;;;;;UAElD,OAAM;AAAA,UAAO,IAAG;AAAA,QAAA;;;;;;;;;;;;;;"}