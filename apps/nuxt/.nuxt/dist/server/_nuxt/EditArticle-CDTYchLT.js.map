{"version":3,"file":"EditArticle-CDTYchLT.js","sources":["../../../../app/components/EditAbleText.vue","../../../../app/libs/translate/translator/type.ts","../../../../app/libs/translate/translator/translator.ts","../../../../app/libs/qs.ts","../../../../app/libs/translate/baidu.ts","../../../../app/hooks/translate.ts","../../../../app/hooks/article.ts","../../../../app/components/article/EditArticle.vue"],"sourcesContent":["<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\n\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport { useI18n } from 'vue-i18n';\nimport {watchEffect} from \"vue\";\nimport Textarea from \"@/components/base/Textarea.vue\";\nimport Toast from \"@/components/base/toast/Toast.ts\";\n\ninterface IProps {\n  value: string,\n  disabled: boolean,\n}\n\nconst props = defineProps({\n  value: { default: '' },\n  disabled: { type: Boolean, default: false }\n})\n\nconst emit = defineEmits([\n  'save'\n])\n\nlet editVal = _ref('')\nlet edit = _ref(false)\n\nwatchEffect(() => {\n  editVal.value = props.value\n})\n\nfunction save() {\n  emit('save', editVal.value)\n  edit.value = false\n}\n\nconst { t: $t } = useI18n()\n\nfunction toggle() {\n  if (props.disabled) return Toast.info($t('wait_translation'))\n  edit.value = !edit.value\n  editVal.value = props.value\n}\n</script>\n\n<template>\n  <div\n      v-if=\"edit\"\n      class=\"edit-text\">\n    <Textarea\n        v-model=\"editVal\"\n        ref=\"inputRef\"\n        textarea\n        autosize\n        autofocus\n        type=\"textarea\"\n        :input-style=\"`color: var(--color-font-1);font-size: 1rem;`\"\n    />\n    <div class=\"flex justify-end mt-2\">\n      <BaseButton @click=\"toggle\">{{ $t('cancel') }}</BaseButton>\n      <BaseButton @click=\"save\">{{ $t('apply') }}</BaseButton>\n    </div>\n  </div>\n  <div\n      v-else\n      class=\"text\"\n      @click=\"toggle\">\n    {{ value }}\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.edit-text {\n  margin-top: .6rem;\n  color: var(--color-font-1);\n}\n\n.text {\n  color: var(--color-font-1);\n  font-size: 1.2rem;\n  min-height: 1.1rem;\n}\n</style>\n","import type {Language} from \"../languages\";\nimport type {AxiosInstance} from \"axios\";\n\nexport type Languages = Array<Language>;\n\nexport type TranslatorEnv = \"node\" | \"ext\";\n\nexport interface TranslatorInit<Config extends {}> {\n  env?: TranslatorEnv;\n  axios?: AxiosInstance;\n  config?: Config;\n}\n\nexport type TranslateErrorType =\n  | \"NETWORK_ERROR\"\n  | \"NETWORK_TIMEOUT\"\n  | \"API_SERVER_ERROR\"\n  | \"UNSUPPORTED_LANG\"\n  | \"UNKNOWN\";\n\nexport class TranslateError extends Error {\n  constructor(message: TranslateErrorType) {\n    super(message);\n  }\n}\n\n/** 统一的查询结果的数据结构 */\nexport interface TranslateResult {\n  engine: string;\n  text: string;\n  from: Language;\n  to: Language;\n  /** 原文 */\n  origin: {\n    paragraphs: string[];\n    tts?: string;\n  };\n  /** 译文 */\n  trans: {\n    paragraphs: string[];\n    tts?: string;\n  };\n}\n\nexport type TranslateQueryResult = Omit<TranslateResult, \"engine\">;\n","import type {\n  Languages,\n  TranslatorEnv,\n  TranslatorInit,\n  TranslateResult,\n  TranslateQueryResult\n} from \"./type\";\nimport type { Language } from \"../languages\";\nimport Axios from \"axios\";\nimport type { AxiosInstance, AxiosRequestConfig, AxiosPromise } from \"axios\";\n\nexport abstract class Translator<Config extends {} = {}> {\n  axios: AxiosInstance;\n\n  protected readonly env: TranslatorEnv;\n\n  /**\n   * 自定义选项\n   */\n  config: Config;\n\n  /**\n   * 翻译源标识符\n   */\n  abstract readonly name: string;\n\n  /**\n   * 可选的axios实例\n   */\n  constructor(init: TranslatorInit<Config> = {}) {\n    this.env = init.env || \"node\";\n    this.axios = init.axios || Axios;\n    this.config = init.config || ({} as Config);\n  }\n\n  /**\n   * 获取翻译器所支持的语言列表： 语言标识符数组\n   */\n  abstract getSupportLanguages(): Languages;\n\n  /**\n   * 下游应用调用的接口\n   */\n  async translate(\n    text: string,\n    from: Language,\n    to: Language,\n    config = {} as Config\n  ): Promise<TranslateResult> {\n    const queryResult = await this.query(text, from, to, {\n      ...this.config,\n      ...config\n    });\n\n    return {\n      ...queryResult,\n      engine: this.name\n    };\n  }\n\n  /**\n   * 更新 token 的方法\n   */\n  updateToken?(): Promise<void>;\n\n  /**\n   * 翻译源需要实现的方法\n   */\n  protected abstract query(\n    text: string,\n    from: Language,\n    to: Language,\n    config: Config\n  ): Promise<TranslateQueryResult>;\n\n  protected request<R = {}>(\n    url: string,\n    config?: AxiosRequestConfig\n  ): AxiosPromise<R> {\n    return this.axios(url, config);\n  }\n\n  /**\n   * 如果翻译源提供了单独的检测语言的功能，请实现此接口\n   */\n  async detect(text: string): Promise<Language> {\n    return\n  }\n\n  /**\n   * 文本转换为语音\n   * @returns {Promise<string|null>} 语言文件地址\n   */\n  textToSpeech(\n    text: string,\n    lang: Language,\n    meta?: any // eslint-disable-line @typescript-eslint/no-explicit-any\n  ): Promise<string | null> {\n    return Promise.resolve(null);\n  }\n}\n","export default {\n  stringify: (params: Record<string, any>): string => {\n    return Object.entries(params)\n      .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)\n      .join('&');\n  }\n}\n","import type { Language, TranslateQueryResult } from \"./translator\";\nimport { Translator, TranslateError } from \"./translator\";\nimport md5 from \"md5\";\nimport qs from \"../qs\";\n\nconst langMap: [Language, string][] = [\n  [\"auto\", \"auto\"],\n  [\"zh-CN\", \"zh\"],\n  [\"en\", \"en\"],\n  [\"yue\", \"yue\"],\n  [\"wyw\", \"wyw\"],\n  [\"ja\", \"jp\"],\n  [\"ko\", \"kor\"],\n  [\"fr\", \"fra\"],\n  [\"es\", \"spa\"],\n  [\"th\", \"th\"],\n  [\"ar\", \"ara\"],\n  [\"ru\", \"ru\"],\n  [\"pt\", \"pt\"],\n  [\"de\", \"de\"],\n  [\"it\", \"it\"],\n  [\"el\", \"el\"],\n  [\"nl\", \"nl\"],\n  [\"pl\", \"pl\"],\n  [\"bg\", \"bul\"],\n  [\"et\", \"est\"],\n  [\"da\", \"dan\"],\n  [\"fi\", \"fin\"],\n  [\"cs\", \"cs\"],\n  [\"ro\", \"rom\"],\n  [\"sl\", \"slo\"],\n  [\"sv\", \"swe\"],\n  [\"hu\", \"hu\"],\n  [\"zh-TW\", \"cht\"],\n  [\"vi\", \"vie\"]\n];\n\nexport interface BaiduConfig {\n  placeholder?: string;\n  appid: string;\n  key: string;\n}\n\nexport class Baidu extends Translator<BaiduConfig> {\n  readonly name = \"baidu\";\n\n  readonly endpoint = \"/baidu\";\n\n  protected async query(\n    text: string,\n    from: Language,\n    to: Language,\n    config: BaiduConfig\n  ): Promise<TranslateQueryResult> {\n    type BaiduTranslateError = {\n      error_code: \"54001\" | string;\n      error_msg: \"Invalid Sign\" | string;\n    };\n\n    type BaiduTranslateResult = {\n      from: string;\n      to: string;\n      trans_result: Array<{\n        dst: string;\n        src: string;\n      }>;\n    };\n\n    const salt = Date.now();\n    const { endpoint } = this;\n    const { appid, key } = config;\n\n    const res = await this.request<BaiduTranslateResult | BaiduTranslateError>(\n      endpoint,\n      {\n        params: {\n          from: Baidu.langMap.get(from),\n          to: Baidu.langMap.get(to),\n          q: text,\n          salt,\n          appid,\n          sign: md5(appid + text + salt + key)\n        }\n      }\n    ).catch(() => {\n      throw new TranslateError(\"NETWORK_ERROR\");\n    });\n\n    const { data } = res;\n\n    if ((data as BaiduTranslateError).error_code) {\n      console.error(\n        new Error(\"[Baidu service]\" + (data as BaiduTranslateError).error_msg)\n      );\n      throw new TranslateError(\"API_SERVER_ERROR\");\n    }\n\n    const {\n      trans_result: transResult,\n      from: langDetected\n    } = data as BaiduTranslateResult;\n    const transParagraphs = transResult.map(({ dst }) => dst);\n    const detectedFrom = Baidu.langMapReverse.get(langDetected) as Language;\n\n    return {\n      text,\n      from: detectedFrom,\n      to,\n      origin: {\n        paragraphs: transResult.map(({ src }) => src),\n        tts: await this.textToSpeech(text, detectedFrom)\n      },\n      trans: {\n        paragraphs: transParagraphs,\n        tts: await this.textToSpeech(transParagraphs.join(\" \"), to)\n      }\n    };\n  }\n\n  /** Translator lang to custom lang */\n  private static readonly langMap = new Map(langMap);\n\n  /** Custom lang to translator lang */\n  private static readonly langMapReverse = new Map(\n    langMap.map(([translatorLang, lang]) => [lang, translatorLang])\n  );\n\n  getSupportLanguages(): Language[] {\n    return [...Baidu.langMap.keys()];\n  }\n\n  async textToSpeech(text: string, lang: Language): Promise<string> {\n    return `https://fanyi.baidu.com/gettts?${qs.stringify({\n      lan: Baidu.langMap.get(lang !== \"auto\" ? lang : \"zh-CN\") || \"zh\",\n      text,\n      spd: 5,\n    })}`;\n  }\n}\n\nexport default Baidu;\n","import type {Article, Sentence} from \"@/types/types.ts\";\nimport Baidu from \"@/libs/translate/baidu\";\nimport {Translator} from \"@/libs/translate/translator/index.ts\";\nimport {TranslateEngine} from \"@/types/enum.ts\";\n\nexport function getSentenceAllTranslateText(article: Article) {\n  return article.sections.map(v => v.map(s => s.translate.trim()).filter(v => v).join(' \\n')).filter(v => v).join(' \\n\\n');\n}\n\nexport function getSentenceAllText(article: Article) {\n  return article.sections.map(v => v.map(s => s.text).filter(v => v).join('\\n')).filter(v => v).join('\\n\\n');\n}\n\n/***\n * @desc\n * @param article 文章实体\n * @param translateEngine 翻译引擎\n * @param allShow 是否翻译完所有之后才显示\n * @param progressCb 进度回调\n * */\nexport async function getNetworkTranslate(\n  article: Article,\n  translateEngine: TranslateEngine,\n  allShow: boolean = false,\n  progressCb?: (val: number) => void\n) {\n  let translator: Translator\n  if (translateEngine === TranslateEngine.Baidu) {\n    translator = new Baidu({\n      config: {\n        appid: \"20230910001811857\",\n        key: \"Xxe_yftQR3K3Ue43NQMC\"\n      }\n    }) as any\n  }\n\n\n  if (translator) {\n    if (!article.titleTranslate) {\n      translator.translate(article.title, 'en', 'zh-CN').then(r => {\n        article.titleTranslate = r.trans.paragraphs[0]\n      })\n    }\n\n    let promiseList = []\n    let retryCount = 0\n    let retryCountMap = new Map()\n\n    const translate = async (sentence: Sentence) => {\n      try {\n        let r = await translator.translate(sentence.text, 'en', 'zh-CN')\n        console.log(r)\n\n        if (r) {\n          const cb = () => {\n            sentence.translate = r.trans.paragraphs[0]\n            if (!allShow) {\n              //一次显示所有，顺序会乱\n              article.textTranslate += sentence.translate + '\\n'\n            }\n          }\n          return Promise.resolve(cb)\n        } else {\n          return Promise.reject(() => translate(sentence))\n        }\n      } catch (e) {\n        return Promise.reject(() => translate(sentence))\n      }\n    }\n\n    let total = 0\n    let index = 0\n    article.sections.map(v => total += v.length)\n\n    for (let i = 0; i < article.sections.length; i++) {\n      let v = article.sections[i]\n      for (let j = 0; j < v.length; j++) {\n        let sentence = v[j]\n        let promise = translate(sentence)\n        if (allShow) {\n          promiseList.push(promise)\n        } else {\n          retryCountMap.set(sentence.text, 0)\n          let errResult: any\n          let cb = await promise.catch(err => {\n            errResult = err\n          })\n\n          while (errResult) {\n            let count = retryCountMap.get(sentence.text)\n            if (count > 2) break\n            cb = await errResult().catch(err => {\n              errResult = err\n            })\n            retryCountMap.set(sentence.text, count + 1)\n          }\n          if (cb) cb()\n          index++\n          if (progressCb) {\n            progressCb(Math.floor((index / total) * 100))\n          }\n        }\n      }\n    }\n\n    if (promiseList.length) {\n      let timer = -1\n      let progress = 0\n      if (progressCb) {\n        timer = setInterval(() => {\n          progress++\n          if (progress > 90) {\n            return clearInterval(timer)\n          }\n          progressCb(progress)\n        }, 100)\n      }\n\n      return new Promise(async resolve => {\n        let cbs = []\n        do {\n          if (retryCount > 2) {\n            return resolve(true)\n          }\n          let results = await Promise.allSettled(promiseList)\n          promiseList = []\n          results.map(results => {\n            if (results.status === 'fulfilled') {\n              cbs.push(results.value)\n            } else {\n              promiseList.push(results.reason())\n            }\n          })\n          retryCount++\n        } while (promiseList.length)\n        cbs.map(v => v())\n        article.textTranslate = getSentenceAllTranslateText(article)\n\n        if (progressCb) {\n          clearInterval(timer)\n          progress = 100\n          progressCb(100)\n        }\n        resolve(true)\n      })\n    } else {\n      article.textTranslate = getSentenceAllTranslateText(article)\n    }\n  }\n}\n","import type { Article, Sentence } from \"@/types/types\"\nimport { _nextTick, cloneDeep } from \"@/utils\"\nimport { usePlayWordAudio } from \"@/hooks/sound\"\nimport { getSentenceAllText, getSentenceAllTranslateText } from \"@/hooks/translate\"\nimport { getDefaultArticleWord, getDefaultDict } from \"@/types/func\"\nimport { useSettingStore } from \"@/stores/setting\"\nimport { useBaseStore } from \"@/stores/base\"\nimport { useRuntimeStore } from \"@/stores/runtime\"\nimport { nanoid } from 'nanoid'\nimport {PracticeArticleWordType} from \"@/types/enum\";\nimport { DictId } from '@/config/env'\n\nfunction parseSentence(sentence: string) {\n  // 先统一一些常见的“智能引号” -> 直引号，避免匹配问题\n  sentence = sentence\n    .replace(/[\\u2018\\u2019\\u201A\\u201B]/g, \"'\") // 各种单引号 → '\n    .replace(/[\\u201C\\u201D\\u201E\\u201F]/g, '\"') // 各种双引号 → \"\n\n  const len = sentence.length\n  const tokens = []\n  let i = 0\n\n  while (i < len) {\n    const ch = sentence[i]\n\n    // 跳过空白（但不把空白作为 token）\n    if (/\\s/.test(ch)) {\n      i++\n      continue\n    }\n\n    const rest = sentence.slice(i)\n\n    // 1) 货币 + 数字（$1,000.50 或 ¥200 或 €100.5）\n    let m = rest.match(/^[\\$¥€£]\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?%?/)\n    if (m) {\n      tokens.push({word: m[0], start: i, end: i + m[0].length, type: PracticeArticleWordType.Number})\n      i += m[0].length\n      continue\n    }\n\n    // 2) 数字/小数/百分比（100% 3.14 1,000.00）\n    m = rest.match(/^\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?%?/)\n    if (m) {\n      tokens.push({word: m[0], start: i, end: i + m[0].length, type: PracticeArticleWordType.Number})\n      i += m[0].length\n      continue\n    }\n\n    // 3) 带点缩写或多段缩写（U.S. U.S.A. e.g. i.e. Ph.D.）\n    m = rest.match(/^[A-Za-z]+(?:\\.[A-Za-z]+)+\\.?/)\n    if (m) {\n      tokens.push({word: m[0], start: i, end: i + m[0].length, type: PracticeArticleWordType.Word})\n      i += m[0].length\n      continue\n    }\n\n    // 4) 单词（包含撇号/连字符，如 it's, o'clock, we'll, mother-in-law）\n    m = rest.match(/^[A-Za-z0-9]+(?:[\\'\\-][A-Za-z0-9]+)*/)\n    if (m) {\n      tokens.push({word: m[0], start: i, end: i + m[0].length, type: PracticeArticleWordType.Word})\n      i += m[0].length\n      continue\n    }\n\n    // 5) 其它可视符号（标点）——单字符处理（连续标点会被循环拆为单字符）\n    //    包括：.,!?;:\"'()-[]{}<>/\\\\@#%^&*~`等非单词非空白字符\n    if (/[^\\w\\s]/.test(ch)) {\n      tokens.push({word: ch, start: i, end: i + 1, type: PracticeArticleWordType.Symbol})\n      i += 1\n      continue\n    }\n\n    // 6) 回退方案：把当前字符当作一个 token（防止意外丢失）\n    tokens.push({word: ch, start: i, end: i + 1, type: PracticeArticleWordType.Symbol})\n    i += 1\n  }\n\n  // 计算 nextSpace：查看当前 token 的 end 到下一个 token 的 start 之间是否含空白\n  const result = tokens.map((t, idx) => {\n    const next = tokens[idx + 1]\n    const between = next ? sentence.slice(t.end, next.start) : sentence.slice(t.end)\n    const nextSpace = /\\s/.test(between)\n    return getDefaultArticleWord({word: t.word, nextSpace, type: t.type})\n  })\n\n  return result\n}\n\n//生成文章段落数据\nexport function genArticleSectionData(article: Article): number {\n  let text = article.text.trim()\n  let sections: Sentence[][] = []\n  text\n    .split(\"\\n\\n\")\n    .filter(Boolean)\n    .map((sectionText, i) => {\n      let section: Sentence[] = []\n      sections.push(section)\n      sectionText\n        .trim()\n        .split(\"\\n\")\n        .filter(Boolean)\n        .map((item, i, arr) => {\n          item = item.trim()\n          //如果没有空格，导致修改一行一行的数据时，汇总时全没有空格了，库无法正常断句\n          //所以要保证最后一个是空格，但防止用户打N个空格，就去掉再加上一个空格，只需要一个即可\n          //2025/10/1:最后一句不需要空格\n          if (i < arr.length - 1) item += \" \"\n          let sentence: Sentence = cloneDeep({\n            text: item,\n            translate: \"\",\n            words: parseSentence(item),\n            audioPosition: [0, 0]\n          })\n          section.push(sentence)\n        })\n    })\n\n  sections = sections.filter((v) => v.length)\n  article.sections = sections\n\n  let failCount = 0\n  let translateList = article.textTranslate?.split(\"\\n\\n\") || []\n  for (let i = 0; i < article.sections.length; i++) {\n    let v = article.sections[i]\n    let sList = []\n    try {\n      let s = translateList[i]\n      sList = s.split(\"\\n\")\n    } catch (e) {\n    }\n\n    for (let j = 0; j < v.length; j++) {\n      let sentence = v[j]\n      try {\n        let trans = sList[j]\n        if (trans.trim()) {\n          sentence.translate = trans\n        } else {\n          failCount++\n        }\n      } catch (e) {\n        failCount++\n        // console.log('没有对应的翻译', sentence.text)\n      }\n    }\n  }\n\n  text = getSentenceAllText(article)\n  let translate = getSentenceAllTranslateText(article)\n\n  article.text = text\n  article.textTranslate = translate\n\n  let count = 0\n  if (article?.lrcPosition?.length) {\n    article.sections.map((v, i) => {\n      v.map((w, j) => {\n        w.audioPosition = article.lrcPosition[count]\n        count++\n      })\n    })\n  }\n  return failCount\n}\n\nexport function splitEnArticle2(text: string): string {\n  text = text.trim()\n  if (!text && false) {\n    //     text = `It was Sunday. I never get up early on Sundays. I sometimes stay in bed until lunchtime. Last Sunday I got up very late. I looked out of the window. It was dark outside. 'What a day!' I thought. 'It's raining again. ' Just then, the telephone rang. It was my aunt Lucy. 'I've just arrived by train, ' she said. 'I'm coming to see you. '\n    //\n    // 'But I'm still having breakfast, ' I said.\n    // 'What are you doing?' she asked.\n    // 'I'm having breakfast, ' I repeated.\n    // 'Dear me,$3.000' she said. 'Do you always get up so late? It's one o'clock!'`\n    //     text = `While it is yet to be seen what direction the second Trump administration will take globally in its China policy, VOA traveled to the main island of Mahe in Seychelles to look at how China and the U.S. have impacted the country, and how each is fairing in that competition for influence there.`\n    // text = \"It was Sunday. I never get up early on Sundays. I sometimes stay in bed until lunchtime. Last Sunday I got up very late. I looked out of the window. It was dark outside. 'What a day!' I thought. 'It's raining again.' Just then, the telephone rang. It was my aunt Lucy. 'I've just arrived by train,' she said. 'I'm coming to see you.'\\n\\n     'But I'm still having breakfast,' I said.\\n\\n     'What are you doing?' she asked.\\n\\n     'I'm having breakfast,' I repeated.\\n\\n     'Dear me,' she said. 'Do you always get up so late? It's one o'clock!'\"\n  }\n\n  if (!text) return \"\"\n\n  const abbreviations = [\"Mr\", \"Mrs\", \"Ms\", \"Dr\", \"Prof\", \"Sr\", \"Jr\", \"St\", \"Co\", \"Ltd\", \"Inc\", \"e.g\", \"i.e\", \"U.S.A\", \"U.S\", \"U.K\", \"etc\"]\n\n  function isSentenceEnd(text, idx) {\n    const before = text.slice(0, idx + 1)\n    const after = text.slice(idx + 1)\n\n    const abbrevPattern = new RegExp(\"\\\\b(\" + abbreviations.join(\"|\") + \")\\\\.$\", \"i\")\n    if (abbrevPattern.test(before)) return false\n    if (/\\d+\\.$/.test(before)) return false\n    if (/\\d+\\.\\d/.test(text.slice(idx - 1, idx + 2))) return false\n    if (/%/.test(after)) return false\n    if (/[\\$¥€]\\d/.test(before + after)) return false\n\n    return true\n  }\n\n  function normalizeQuotes(text) {\n    const isWord = (ch) => /\\w/.test(ch)\n    let res = []\n    let singleOpen = false\n    let doubleOpen = false\n    for (let i = 0; i < text.length; i++) {\n      const ch = text[i]\n      if (ch === \"'\") {\n        const prev = i > 0 ? text[i - 1] : \"\"\n        const nxt = i + 1 < text.length ? text[i + 1] : \"\"\n        if (isWord(prev) && isWord(nxt)) {\n          res.push(\"'\")\n          continue\n        }\n        if (singleOpen) {\n          if (res.length && res[res.length - 1] === \" \") res.pop()\n          res.push(\"'\")\n          singleOpen = false\n        } else {\n          res.push(\"'\")\n          singleOpen = true\n        }\n      } else if (ch === '\"') {\n        if (doubleOpen) {\n          if (res.length && res[res.length - 1] === \" \") res.pop()\n          res.push('\"')\n          doubleOpen = false\n        } else {\n          res.push('\"')\n          doubleOpen = true\n        }\n      } else {\n        res.push(ch)\n      }\n    }\n    return res.join(\"\")\n  }\n\n  let rawParagraphs = text.replaceAll(\"\\n\\n\", \"`^`\").replaceAll(\"\\n\", \"\").split(\"`^`\")\n\n  const formattedParagraphs = rawParagraphs.map((p) => {\n    p = p.trim()\n    if (!p) return \"\"\n\n    p = p.replace(/\\n/g, \" \")\n    p = normalizeQuotes(p)\n\n    const tentative: string[] = p.match(/[^.!?。！？]+[.!?。！？'\"”’)]*/g) || []\n\n    const sentences = []\n    tentative.forEach((segment) => {\n      segment = segment.trim()\n      if (!segment) return\n\n      const lastCharIdx = segment.length - 1\n      if (/[.!?。！？]/.test(segment[lastCharIdx])) {\n        const globalIdx = p.indexOf(segment)\n        if (!isSentenceEnd(p, globalIdx + segment.length - 1)) {\n          if (sentences.length > 0) {\n            sentences[sentences.length - 1] += \" \" + segment\n          } else {\n            sentences.push(segment)\n          }\n          return\n        }\n      }\n      sentences.push(segment)\n    })\n\n    const finalSentences = []\n    let i = 0\n    while (i < sentences.length) {\n      let cur = sentences[i]\n      if (i + 1 < sentences.length) {\n        const nxt = sentences[i + 1]\n        if (/['\"”’)\\]]$/.test(cur) && /^[a-z]|^(I|You|She|He|They|We)\\b/i.test(nxt)) {\n          finalSentences.push(cur + \" \" + nxt)\n          i += 2\n          continue\n        }\n      }\n      finalSentences.push(cur)\n      i += 1\n    }\n\n    return finalSentences.join(\"\\n\")\n  })\n\n  return formattedParagraphs.filter((p) => p).join(\"\\n\\n\")\n}\n\nexport function splitCNArticle2(text: string): string {\n  if (!text && false) {\n    // text = \"飞机误点了，侦探们在机场等了整整一上午。他们正期待从南非来的一个装着钻石的贵重包裹。数小时以前，有人向警方报告，说有人企图偷走这些钻石。当飞机到达时，一些侦探等候在主楼内，另一些侦探则守候在停机坪上。有两个人把包裹拿下飞机，进了海关。这时两个侦探把住门口，另外两个侦探打开了包裹。令他们吃惊的是，那珍贵的包裹里面装的全是石头和沙子！\"\n    //     text = `那是个星期天，而在星期天我是从来不早起的，有时我要一直躺到吃午饭的时候。上个星期天，我起得很晚。我望望窗外，外面一片昏暗。“鬼天气！”我想，“又下雨了。”正在这时，电话铃响了。是我姑母露西打来的。“我刚下火车，”她说，“我这就来看你。”\n    // “但我还在吃早饭，”我说。\n    // “你在干什么？”她问道。\n    // “我正在吃早饭，”我又说了一遍。\n    // “天啊，”她说，“你总是起得这么晚吗？现在已经1点钟了！”`\n    //     text = `上星期我去看戏。我的座位很好，戏很有意思，但我却无法欣赏。一青年男子与一青年女子坐在我的身后，大声地说着话。我非常生气，因为我听不见演员在说什么。我回过头去怒视着那一男一女，他们却毫不理会。最后，我忍不住了，又一次回过头去，生气地说：“我一个字也听不见了！”\n    // “不关你的事，”那男的毫不客气地说，“这是私人间的谈话！”`\n  }\n  const segmenterJa = new Intl.Segmenter(\"zh-CN\", {granularity: \"sentence\"})\n\n  let sectionTextList = text.replaceAll(\"\\n\\n\", \"`^`\").replaceAll(\"\\n\", \"\").split(\"`^`\")\n\n  let s = sectionTextList\n    .filter((v) => v)\n    .map((rowSection, i) => {\n      const segments = segmenterJa.segment(rowSection)\n      let ss = \"\"\n      Array.from(segments).map((sentenceRow) => {\n        let row = sentenceRow.segment\n        if (row) {\n          //这个库总是会把反引号给断句到上一行末尾\n          //而 sentence-splitter 这个库总是会把反引号给断句到下一行开头\n          if (row[row.length - 1] === \"“\") {\n            row = row.substring(0, row.length - 1)\n            ss += row + \"\\n\" + \"“\"\n          } else {\n            ss += row + \"\\n\"\n          }\n        }\n      })\n      return ss\n    })\n    .join(\"\\n\")\n    .trim()\n  return s\n}\n\nexport function usePlaySentenceAudio() {\n  const playWordAudio = usePlayWordAudio()\n  const settingStore = useSettingStore()\n  let timer = $ref(0)\n\n  function playSentenceAudio(sentence: Sentence, ref?: HTMLAudioElement) {\n    if (sentence.audioPosition?.length && ref && ref.src) {\n      clearTimeout(timer)\n      if (ref.played) {\n        ref.pause()\n      }\n      let start = sentence.audioPosition[0]\n      // ref.volume = settingStore.wordSoundVolume / 100\n      ref.currentTime = start\n      ref.play()\n      let end = sentence.audioPosition?.[1]\n      // console.log(sentence.audioPosition,(end - start) * 1000)\n\n      if (end && end !== -1) {\n        timer = setTimeout(() => {\n          console.log(\"停\")\n          ref.pause()\n        }, ((end - start) / ref.playbackRate) * 1000)\n      }\n    } else {\n      playWordAudio(sentence.text)\n    }\n  }\n\n  return {\n    playSentenceAudio\n  }\n}\n\n//todo 考虑与syncDictInMyStudyList、changeDict方法合并\nexport function syncBookInMyStudyList(study = false) {\n  _nextTick(() => {\n    const base = useBaseStore()\n    const runtimeStore = useRuntimeStore()\n    let temp = runtimeStore.editDict\n    let rIndex = base.article.bookList.findIndex((v) => v.id === temp.id)\n    if (!temp.custom && temp.id !== DictId.articleCollect) {\n      temp.custom = true\n      if (!temp.id.includes('_custom')) {\n        temp.id += '_custom_' + nanoid(6)\n      }\n    }\n    temp.length = temp.articles.length\n    if (rIndex > -1) {\n      base.article.bookList[rIndex] = getDefaultDict(temp)\n      if (study) base.article.studyIndex = rIndex\n    } else {\n      base.article.bookList.push(getDefaultDict(temp))\n      if (study) base.article.studyIndex = base.article.bookList.length - 1\n    }\n  }, 100)\n}\n","<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\nimport type { Article, Sentence } from '~/types/types.ts'\nimport BaseButton from '~/components/BaseButton.vue'\nimport EditAbleText from '~/components/EditAbleText.vue'\nimport { getNetworkTranslate, getSentenceAllText, getSentenceAllTranslateText } from '~/hooks/translate.ts'\nimport { genArticleSectionData, splitCNArticle2, splitEnArticle2, usePlaySentenceAudio } from '~/hooks/article.ts'\nimport { _nextTick, _parseLRC, cloneDeep, last } from '~/utils'\nimport { defineAsyncComponent, watch } from 'vue'\nimport Empty from '~/components/Empty.vue'\nimport Toast from '~/components/base/toast/Toast.ts'\nimport * as Comparison from 'string-comparison'\nimport BaseIcon from '~/components/BaseIcon.vue'\nimport { getDefaultArticle } from '~/types/func.ts'\nimport copy from 'copy-to-clipboard'\nimport Select from '~/components/base/select/Select.vue'\nimport Option from '~/components/base/select/Option.vue'\nimport Tooltip from '~/components/base/Tooltip.vue'\nimport InputNumber from '~/components/base/InputNumber.vue'\nimport { nanoid } from 'nanoid'\nimport { update } from 'idb-keyval'\nimport ArticleAudio from '~/components/article/ArticleAudio.vue'\nimport BaseInput from '~/components/base/BaseInput.vue'\nimport Textarea from '~/components/base/Textarea.vue'\nimport { LOCAL_FILE_KEY } from '~/config/env.ts'\nimport { TranslateEngine } from '~/types/enum.ts'\nimport { useI18n } from 'vue-i18n'\n\nconst Dialog = defineAsyncComponent(() => import('~/components/dialog/Dialog.vue'))\nconst { t: $t } = useI18n()\n\ninterface IProps {\n  article?: Article\n  type?: 'single' | 'batch'\n}\n\nconst props = defineProps({\n  article: { default: () => getDefaultArticle() },\n  type: { default: 'single' }\n})\n\nconst emit = defineEmits([\"save\", \"saveAndNext\"])\n\nlet networkTranslateEngine = _ref('baidu')\nlet progress = _ref(0)\nlet failCount = _ref(0)\nlet resultRef = _ref<HTMLDivElement>()\nconst TranslateEngineOptions = [\n  // {value: 'youdao', label: '有道'},\n  { value: 'baidu', label: '百度' },\n]\n\nlet editArticle = _ref<Article>(getDefaultArticle())\n\nwatch(\n  () => props.article,\n  val => {\n    editArticle.value = getDefaultArticle(val)\n    progress.value = 0\n    failCount.value = 0\n    apply(false)\n    _nextTick(() => {\n      resultRef.value?.scrollTo(0, 0)\n    })\n  },\n  { immediate: true }\n)\n\nwatch(\n  () => editArticle.value.text,\n  s => {\n    if (!s.trim()) {\n      editArticle.value.sections = []\n    }\n  }\n)\n\nfunction apply(isHandle: boolean = true) {\n  let text = editArticle.value.text.trim()\n  if (!text && isHandle) {\n    // text = \"Last week I went to the theatre. I had a very good seat. The play was very interesting. I did not enjoy it. A young man and a young woman were sitting behind me. They were talking loudly. I got very angry. I could not hear the actors. I turned round. I looked at the man and the woman angrily. They did not pay any attention. In the end, I could not bear it. I turned round again. 'I can't hear a word!' I said angrily.\\n\\n    'It's none of your business,' the young man said rudely. 'This is a private conversation!'\"\n    // text = `While it is yet to be seen what direction the second Trump administration will take globally in its China policy, VOA traveled to the main island of Mahe in Seychelles to look at how China and the U.S. have impacted the country, and how each is fairing in that competition for influence there.`\n    // text = \"It was Sunday. I never get up early on Sundays. I sometimes stay in bed until lunchtime. Last Sunday I got up very late. I looked out of the window. It was dark outside. 'What a day!' I thought. 'It's raining again.' Just then, the telephone rang. It was my aunt Lucy. 'I've just arrived by train,' she said. 'I'm coming to see you.'\\n\\n     'But I'm still having breakfast,' I said.\\n\\n     'What are you doing?' she asked.\\n\\n     'I'm having breakfast,' I repeated.\\n\\n     'Dear me,' she said. 'Do you always get up so late? It's one o'clock!'\"\n    editArticle.value.sections = []\n    Toast.error($t('please_fill_original'))\n    return\n  }\n  failCount.value = genArticleSectionData(editArticle.value)\n}\n\n//分句原文\nfunction splitText() {\n  editArticle.value.text = splitEnArticle2(editArticle.value.text)\n}\n\n//分句翻译\nfunction splitTranslateText() {\n  editArticle.value.textTranslate = splitCNArticle2(editArticle.value.textTranslate.trim())\n}\n\n//TODO\nasync function startNetworkTranslate() {\n  if (!editArticle.value.title.trim()) {\n    return Toast.error($t('please_fill_title'))\n  }\n  if (!editArticle.value.text.trim()) {\n    return Toast.error($t('please_fill_content'))\n  }\n  editArticle.value.titleTranslate = ''\n  editArticle.value.textTranslate = ''\n  apply()\n  //注意！！！\n  //这里需要用异步，因为watch了article.networkTranslate，改变networkTranslate了之后，会重新设置article.sections\n  //导致getNetworkTranslate里面拿到的article.sections是废弃的值\n  setTimeout(async () => {\n    await getNetworkTranslate(editArticle.value, TranslateEngine.Baidu, false, (v: number) => {\n      progress.value = v\n    })\n    failCount.value = 0\n  })\n}\n\nfunction saveSentenceTranslate(sentence: Sentence, val: string) {\n  sentence.translate = val\n  editArticle.value.textTranslate = getSentenceAllTranslateText(editArticle.value)\n  apply()\n}\n\nfunction saveSentenceText(sentence: Sentence, val: string) {\n  sentence.text = val\n  editArticle.value.text = getSentenceAllText(editArticle.value)\n  apply()\n}\n\nfunction save(option: 'save' | 'saveAndNext') {\n  return new Promise((resolve: Function) => {\n    // console.log('article', article)\n    // copy(JSON.stringify(article))\n\n    editArticle.value.title = editArticle.value.title.trim()\n    editArticle.value.titleTranslate = editArticle.value.titleTranslate.trim()\n    editArticle.value.text = editArticle.value.text.trim()\n    editArticle.value.textTranslate = editArticle.value.textTranslate.trim()\n\n    if (!editArticle.value.title) {\n      Toast.error($t('please_fill_title'))\n      return resolve(false)\n    }\n    if (!editArticle.value.text) {\n      Toast.error($t('please_fill_content'))\n      return resolve(false)\n    }\n\n    editArticle.value.lrcPosition = editArticle.value.sections\n      .map(v => {\n        return v.map((w, j) => {\n          return w.audioPosition ?? []\n        })\n      })\n      .flat()\n\n    console.log(editArticle.value)\n\n    let d = cloneDeep(editArticle.value)\n    if (!d.id) d.id = nanoid(6)\n    delete d.sections\n    //这个console.json方法特意将array压缩了，而不压缩其他，方便可视化复制到文章的json里面去\n    copy(console.json(d, 2))\n    // copy(JSON.stringify(d, null, 2))\n    emit(option as any, editArticle.value)\n    resolve(true)\n  })\n}\n\n//不知道为什么直接用editArticle，取到是空的默认值\ndefineExpose({ save, getEditArticle: () => cloneDeep(editArticle.value) })\n\n// 处理音频文件上传\nasync function handleAudioChange(e: any) {\n  let uploadFile = e.target?.files?.[0]\n  if (!uploadFile) return\n  let data = {\n    id: nanoid(),\n    file: uploadFile,\n  }\n  //把文件存到indexDB\n  await update(LOCAL_FILE_KEY, val => {\n    if (val) val.push(data)\n    else val = [data]\n    return val\n  })\n  //保存id，后续从indexDb里读文件来使用\n  editArticle.value.audioFileId = data.id\n  editArticle.value.audioSrc = ''\n  // 重置input，确保即使选择同一个文件也能触发change事件\n  e.target.value = ''\n  Toast.success($t('audio_added_success'))\n}\n\n// 处理LRC文件上传\nfunction handleChange(e: any) {\n  // 获取上传的文件\n  let uploadFile = e.target?.files?.[0]\n  if (!uploadFile) return\n\n  // 读取文件内容\n  let reader = new FileReader()\n  reader.readAsText(uploadFile, 'UTF-8')\n  reader.onload = function (e) {\n    let lrc: string = e.target.result as string\n    console.log(lrc)\n    if (lrc.trim()) {\n      let lrcList = _parseLRC(lrc)\n      console.log('lrcList', lrcList)\n      if (lrcList.length) {\n        editArticle.value.lrcPosition = editArticle.value.sections\n          .map((v, i) => {\n            return v.map((w, j) => {\n              for (let k = 0; k < lrcList.length; k++) {\n                let s = lrcList[k]\n                // let d = Comparison.default.cosine.similarity(w.text, s.text)\n                // d = Comparison.default.levenshtein.similarity(w.text, s.text)\n                let d = Comparison.default.longestCommonSubsequence.similarity(w.text, s.text)\n                // d = Comparison.default.metricLcs.similarity(w.text, s.text)\n                // console.log(w.text, s.text, d)\n                if (d >= 0.8) {\n                  w.audioPosition = [s.start, s.end ?? -1]\n                  break\n                }\n              }\n              return w.audioPosition ?? []\n            })\n          })\n          .flat()\n\n        Toast.success($t('lrc_parse_success'))\n      }\n    }\n  }\n\n  // 重置input，确保即使选择同一个文件也能触发change事件\n  e.target.value = ''\n}\n\nlet currentSentence = _ref<Sentence>({} as any)\nlet editSentence = _ref<Sentence>({} as any)\nlet preSentence = _ref<Sentence>({} as any)\nlet showEditAudioDialog = _ref(false)\nlet showAudioDialog = _ref(false)\nlet showNameDialog = _ref(false)\nlet sentenceAudioRef = _ref<HTMLAudioElement>()\nlet audioRef = _ref<HTMLAudioElement>()\n\nlet nameListRef = _ref<string[]>([])\nwatch(\n  () => showNameDialog.value,\n  v => {\n    if (v) {\n      nameListRef.value = cloneDeep(Array.isArray(editArticle.value.nameList) ? editArticle.value.nameList : [])\n      nameListRef.value.push('')\n    }\n  }\n)\n\nfunction addName() {\n  nameListRef.value.push('')\n}\n\nfunction removeName(i: number) {\n  nameListRef.value.splice(i, 1)\n}\n\nfunction saveNameList() {\n  const cleaned = Array.from(new Set(nameListRef.value.map(s => (s ?? '').trim()).filter(Boolean)))\n  editArticle.value.nameList = cleaned as any\n}\n\nfunction handleShowEditAudioDialog(val: Sentence, i: number, j: number) {\n  showEditAudioDialog.value = true\n  currentSentence.value = val\n  editSentence.value = cloneDeep(val)\n  preSentence.value = null\n  audioRef.value.pause()\n  if (j == 0) {\n    if (i != 0) {\n      preSentence.value = last(editArticle.value.sections[i - 1])\n    }\n  } else {\n    preSentence.value = editArticle.value.sections[i][j - 1]\n  }\n  if (!editSentence.value.audioPosition?.length) {\n    editSentence.value.audioPosition = [0, 0]\n    if (preSentence.value) {\n      editSentence.value.audioPosition = [preSentence.value.audioPosition[1] ?? 0, 0]\n    }\n  }\n  _nextTick(() => {\n    sentenceAudioRef.value.currentTime = editSentence.value.audioPosition[0]\n  })\n}\n\nfunction recordStart() {\n  if (sentenceAudioRef.value.paused) {\n    sentenceAudioRef.value.play()\n  }\n  editSentence.value.audioPosition[0] = Number(sentenceAudioRef.value.currentTime.toFixed(2))\n  if (editSentence.value.audioPosition[0] > editSentence.value.audioPosition[1] && editSentence.value.audioPosition[1] !== 0) {\n    editSentence.value.audioPosition[1] = editSentence.value.audioPosition[0]\n  }\n}\n\nfunction recordEnd() {\n  if (!sentenceAudioRef.value.paused) {\n    sentenceAudioRef.value.pause()\n  }\n  editSentence.value.audioPosition[1] = Number(sentenceAudioRef.value.currentTime.toFixed(2))\n}\n\nconst { playSentenceAudio } = usePlaySentenceAudio()\n\nfunction saveLrcPosition() {\n  // showEditAudioDialog = false\n  currentSentence.value.audioPosition = cloneDeep(editSentence.value.audioPosition)\n  editArticle.value.lrcPosition = editArticle.value.sections.map((v, i) => v.map((w, j) => w.audioPosition ?? [])).flat()\n}\n\nfunction jumpAudio(time: number) {\n  sentenceAudioRef.value.currentTime = time\n}\n\nfunction setPreEndTimeToCurrentStartTime() {\n  if (preSentence.value) {\n    editSentence.value.audioPosition[0] = preSentence.value.audioPosition[1]\n  }\n}\n\nfunction setStartTime(val: Sentence, i: number, j: number) {\n  let preSentence = null\n  if (j == 0) {\n    if (i != 0) {\n      preSentence = last(editArticle.value.sections[i - 1])\n    }\n  } else {\n    preSentence = editArticle.value.sections[i][j - 1]\n  }\n  if (preSentence) {\n    val.audioPosition[0] = preSentence.audioPosition[1]\n  } else {\n    val.audioPosition[0] = Number(Number(audioRef.value.currentTime).toFixed(2))\n  }\n  if (val.audioPosition[0] > val.audioPosition[1] && val.audioPosition[1] !== 0) {\n    val.audioPosition[1] = 0\n  }\n}\n\nfunction setEndTime(val: Sentence, i: number, j: number) {\n  val.audioPosition[1] = Number(Number(audioRef.value.currentTime).toFixed(2))\n  if (val.audioPosition[0] === 0) {\n    setStartTime(val, i, j)\n  }\n}\n\nfunction minusStartTime(val: Sentence) {\n  if (val.audioPosition[0] <= 0) return\n  val.audioPosition[0] = Number((val.audioPosition[0] - 0.3).toFixed(2))\n}\n</script>\n\n<template>\n  <div class=\"content\">\n    <div class=\"row flex flex-col gap-2\">\n      <div class=\"title\">{{ $t('original_text') }}</div>\n      <div class=\"flex gap-2 items-center\">\n        <div class=\"shrink-0\">{{ $t('title') }}：</div>\n        <BaseInput\n          v-model=\"editArticle.title\"\n          :disabled=\"![100, 0].includes(progress)\"\n          type=\"text\"\n          :placeholder=\"$t('please_fill_original_title')\"\n        />\n      </div>\n      <div class=\"flex justify-between\">\n        <span>{{ $t('content') }}：<span class=\"text-sm color-gray\">{{ $t('one_sentence_per_line') }}</span></span>\n        <Tooltip :title=\"$t('name_config_tip')\">\n          <div @click=\"showNameDialog = true\" class=\"center gap-1 cp\">\n            <span>{{ $t('name_config') }}</span>\n            <IconFluentSettings20Regular />\n          </div>\n        </Tooltip>\n      </div>\n      <Textarea\n        v-model=\"editArticle.text\"\n        class=\"h-full\"\n        :disabled=\"![100, 0].includes(progress)\"\n        :placeholder=\"$t('please_paste_original')\"\n        :autosize=\"false\"\n      />\n      <div class=\"justify-end items-center flex\">\n        <Tooltip>\n          <IconFluentQuestionCircle20Regular class=\"mr-3\" width=\"20\" />\n          <template #reference>\n            <div>\n              <div class=\"mb-2\">{{ $t('usage_guide') }}</div>\n              <ol class=\"py-0 pl-5 my-0 text-base color-main\">\n                <li>{{ $t('copy_and_split') }}</li>\n                <li>\n                  {{ $t('click') }} <span class=\"color-red font-bold\">{{ $t('split_sentence') }}</span> {{ $t('auto_split') }}<span class=\"color-red font-bold\">\n                    {{ $t('or') }}</span\n                  >\n                  {{ $t('manual_split') }}\n                </li>\n                <li>{{ $t('split_rule') }}</li>\n                <li>{{ $t('after_edit_click') }} <span class=\"color-red font-bold\">{{ $t('apply') }}</span> {{ $t('sync_to_result') }}</li>\n              </ol>\n            </div>\n          </template>\n        </Tooltip>\n        <BaseButton @click=\"splitText\">{{ $t('split_sentence') }}</BaseButton>\n        <BaseButton @click=\"apply()\">{{ $t('apply') }}</BaseButton>\n      </div>\n    </div>\n    <div class=\"row flex flex-col gap-2\">\n      <div class=\"title\">{{ $t('translation') }}</div>\n      <div class=\"flex gap-2 items-center\">\n        <div class=\"shrink-0\">{{ $t('title') }}：</div>\n        <BaseInput\n          v-model=\"editArticle.titleTranslate\"\n          :disabled=\"![100, 0].includes(progress)\"\n          type=\"text\"\n          :placeholder=\"$t('please_fill_translation_title')\"\n        />\n      </div>\n      <div class=\"\">{{ $t('content') }}：<span class=\"text-sm color-gray\">{{ $t('one_sentence_per_line') }}</span></div>\n      <Textarea\n        v-model=\"editArticle.textTranslate\"\n        class=\"h-full\"\n        :disabled=\"![100, 0].includes(progress)\"\n        :placeholder=\"$t('please_fill_translation')\"\n        :autosize=\"false\"\n      />\n      <div class=\"justify-between items-center flex\">\n        <div class=\"flex gap-space items-center w-50\">\n          <BaseButton @click=\"startNetworkTranslate\" :loading=\"progress !== 0 && progress !== 100\">{{ $t('translate') }} </BaseButton>\n          <Select v-model=\"networkTranslateEngine\">\n            <Option v-for=\"item in TranslateEngineOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n          </Select>\n          {{ progress }}%\n        </div>\n        <div class=\"flex items-center\">\n          <Tooltip>\n            <IconFluentQuestionCircle20Regular class=\"mr-3\" width=\"20\" />\n            <template #reference>\n              <div>\n                <div class=\"mb-2\">{{ $t('usage_guide') }}</div>\n                <ol class=\"py-0 pl-5 my-0 text-base color-black/60\">\n                  <li>{{ $t('copy_translation_or_click') }} <span class=\"color-red font-bold\">{{ $t('translate') }}</span></li>\n                  <li>\n                    {{ $t('click') }} <span class=\"color-red font-bold\">{{ $t('split_sentence') }}</span> {{ $t('auto_split') }}<span\n                      class=\"color-red font-bold\"\n                    >\n                      {{ $t('or') }}</span\n                    >\n                    {{ $t('manual_split') }}\n                  </li>\n                  <li>{{ $t('split_rule') }}</li>\n                  <li>\n                    {{ $t('after_edit_click') }}\n                    <span class=\"color-red font-bold\">{{ $t('apply') }}</span> {{ $t('sync_to_result') }}\n                  </li>\n                </ol>\n              </div>\n            </template>\n          </Tooltip>\n          <BaseButton @click=\"splitTranslateText\">{{ $t('split_sentence') }}</BaseButton>\n          <BaseButton @click=\"apply(true)\">{{ $t('apply') }}</BaseButton>\n        </div>\n      </div>\n    </div>\n    <div class=\"row flex flex-col gap-2\">\n      <div class=\"flex gap-2\">\n        <div class=\"title\">{{ $t('result') }}</div>\n        <div class=\"flex gap-2 flex-1 justify-end\">\n          <ArticleAudio ref=\"audioRef\" :article=\"editArticle\" :autoplay=\"false\" />\n        </div>\n      </div>\n      <template v-if=\"editArticle?.sections?.length\">\n        <div class=\"flex-1 overflow-auto flex flex-col\">\n          <div class=\"flex justify-between bg-black/10 py-2 rounded-lt-md rounded-rt-md\">\n            <div class=\"center flex-[7]\">\n              {{ $t('content') }}(\n              <span class=\"text-sm color-gray-500\">{{ $t('editable_auto_sync') }}</span>)\n            </div>\n            <div>|</div>\n            <div class=\"center flex-[3] gap-2\">\n              <span>{{ $t('audio') }}</span>\n              <BaseIcon :title=\"$t('audio_management')\" @click=\"showAudioDialog = true\">\n                <IconIconParkOutlineAddMusic />\n              </BaseIcon>\n            </div>\n          </div>\n          <div class=\"article-translate\" ref=\"resultRef\">\n            <div class=\"section rounded-md\" v-for=\"(item, indexI) in editArticle.sections\">\n              <div class=\"section-title text-lg font-bold\">{{ $t('paragraph') }}{{ indexI + 1 }}</div>\n              <div class=\"sentence\" v-for=\"(sentence, indexJ) in item\">\n                <div class=\"flex-[7]\">\n                  <EditAbleText\n                    :disabled=\"![100, 0].includes(progress)\"\n                    :value=\"sentence.text\"\n                    @save=\"(e: string) => saveSentenceText(sentence, e)\"\n                  />\n                  <EditAbleText\n                    class=\"text-lg!\"\n                    v-if=\"sentence.translate\"\n                    :disabled=\"![100, 0].includes(progress)\"\n                    :value=\"sentence.translate\"\n                    @save=\"(e: string) => saveSentenceTranslate(sentence, e)\"\n                  />\n                </div>\n                <div class=\"flex-[2] flex justify-end gap-1 items-center\">\n                  <div class=\"flex justify-end gap-2\">\n                    <div class=\"flex flex-col items-center justify-center\">\n                      <div>{{ sentence.audioPosition?.[0] ?? 0 }}s</div>\n                      <div class=\"flex gap-1\">\n                        <BaseIcon\n                          @click=\"setStartTime(sentence, indexI, indexJ)\"\n                          :title=\"indexI === 0 && indexJ === 0 ? $t('set_start_time') : $t('use_prev_end_time')\"\n                        >\n                          <IconFluentMyLocation20Regular v-if=\"indexI === 0 && indexJ === 0\" />\n                          <IconFluentPaddingLeft20Regular v-else />\n                        </BaseIcon>\n                        <BaseIcon @click=\"minusStartTime(sentence)\" :title=\"$t('minus_03s')\"> -.3s </BaseIcon>\n                      </div>\n                    </div>\n                    <div>-</div>\n                    <div class=\"flex flex-col items-center justify-center\">\n                      <div v-if=\"sentence.audioPosition?.[1] !== -1\">{{ sentence.audioPosition?.[1] ?? 0 }}s</div>\n                      <div v-else>{{ $t('end') }}</div>\n                      <BaseIcon @click=\"setEndTime(sentence, indexI, indexJ)\" :title=\"$t('set_end_time')\">\n                        <IconFluentMyLocation20Regular />\n                      </BaseIcon>\n                    </div>\n                  </div>\n                  <div class=\"flex flex-col\">\n                    <BaseIcon\n                      :icon=\"sentence.audioPosition?.length ? 'basil:edit-outline' : 'basil:add-outline'\"\n                      :title=\"$t('edit_audio_align')\"\n                      @click=\"handleShowEditAudioDialog(sentence, indexI, indexJ)\"\n                    >\n                      <IconFluentSpeakerEdit20Regular\n                        v-if=\"sentence.audioPosition?.length && sentence.audioPosition[1]\"\n                      />\n                      <IconFluentAddSquare20Regular v-else />\n                    </BaseIcon>\n                    <BaseIcon\n                      :title=\"$t('play')\"\n                      v-if=\"sentence.audioPosition?.length\"\n                      @click=\"playSentenceAudio(sentence, audioRef)\"\n                    >\n                      <IconFluentPlay20Regular />\n                    </BaseIcon>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"options\" v-if=\"editArticle.text.trim()\">\n          <div class=\"status\">\n            <span>{{ $t('status') }}：</span>\n            <div class=\"warning\" v-if=\"failCount\">\n              <IconFluentShieldQuestion20Regular />\n              {{ $t('sentences_not_translated', { count: failCount }) }}\n            </div>\n            <div class=\"success\" v-else>\n              <IconFluentCheckmarkCircle16Regular />\n              {{ $t('translation_complete') }}\n            </div>\n          </div>\n          <div>\n            <BaseButton @click=\"save('save')\">{{ $t('save') }}</BaseButton>\n            <BaseButton v-if=\"type === 'batch'\" @click=\"save('saveAndNext')\">{{ $t('save_and_next') }}</BaseButton>\n          </div>\n        </div>\n      </template>\n      <Empty v-else :text=\"$t('no_translation_comparison')\" />\n    </div>\n    <Dialog\n      :title=\"$t('adjust_audio_timeline')\"\n      v-model=\"showEditAudioDialog\"\n      :footer=\"true\"\n      @close=\"showEditAudioDialog = false\"\n      @ok=\"saveLrcPosition\"\n    >\n      <div class=\"p-4 pt-0 color-main w-150 flex flex-col gap-2\">\n        <div class=\"\">\n          {{ $t('audio_timeline_tutorial') }}\n        </div>\n        <ArticleAudio ref=\"sentenceAudioRef\" :article=\"editArticle\" :autoplay=\"false\" class=\"w-full\" />\n        <div class=\"flex items-center gap-2 justify-between mb-2\" v-if=\"editSentence.audioPosition?.length\">\n          <div>{{ editSentence.text }}</div>\n          <div class=\"flex items-center gap-2 shrink-0\">\n            <div>\n              <span>{{ editSentence.audioPosition?.[0] }}s</span>\n              <span v-if=\"editSentence.audioPosition?.[1] !== -1\"> - {{ editSentence.audioPosition?.[1] }}s</span>\n              <span v-else> - {{ $t('end') }}</span>\n            </div>\n            <BaseIcon :title=\"$t('play')\" @click=\"playSentenceAudio(editSentence, sentenceAudioRef)\">\n              <IconFluentPlay20Regular />\n            </BaseIcon>\n          </div>\n        </div>\n        <div class=\"flex flex-col gap-2\">\n          <div class=\"flex gap-2 items-center\">\n            <div>{{ $t('start_time') }}：</div>\n            <div class=\"flex justify-between flex-1\">\n              <div class=\"flex items-center gap-2\">\n                <InputNumber v-model=\"editSentence.audioPosition[0]\" :precision=\"2\" :step=\"0.1\" />\n                <BaseIcon\n                  @click=\"jumpAudio(editSentence.audioPosition[0])\"\n                  :title=\"$t('jump_to_seconds', { seconds: editSentence.audioPosition[0] })\"\n                >\n                  <IconFluentMyLocation20Regular />\n                </BaseIcon>\n                <BaseIcon\n                  v-if=\"preSentence\"\n                  @click=\"setPreEndTimeToCurrentStartTime\"\n                  :title=\"$t('use_prev_end_seconds', { seconds: preSentence?.audioPosition?.[1] || 0 })\"\n                >\n                  <IconFluentPaddingLeft20Regular />\n                </BaseIcon>\n                <BaseIcon\n                  @click=\"editSentence.audioPosition[0] = Number((editSentence.audioPosition[0] - 0.3).toFixed(2))\"\n                  :title=\"$t('decrease_03s')\"\n                >\n                  -.3s\n                </BaseIcon>\n                <BaseIcon\n                  @click=\"editSentence.audioPosition[0] = Number((editSentence.audioPosition[0] + 0.3).toFixed(2))\"\n                  :title=\"$t('increase_03s')\"\n                >\n                  +.3s\n                </BaseIcon>\n              </div>\n              <BaseButton @click=\"recordStart\">{{ $t('record') }}</BaseButton>\n            </div>\n          </div>\n          <div class=\"flex gap-2 items-center\">\n            <div>{{ $t('end_time') }}：</div>\n            <div class=\"flex justify-between flex-1\">\n              <div class=\"flex items-center gap-2\">\n                <InputNumber v-model=\"editSentence.audioPosition[1]\" :precision=\"2\" :step=\"0.1\" />\n                <span>{{ $t('or') }}</span>\n                <BaseButton size=\"small\" @click=\"editSentence.audioPosition[1] = -1\">{{ $t('end') }}</BaseButton>\n              </div>\n              <BaseButton @click=\"recordEnd\">{{ $t('record') }}</BaseButton>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n\n    <Dialog :title=\"$t('audio_management')\" v-model=\"showAudioDialog\" :footer=\"false\" @close=\"showAudioDialog = false\">\n      <div class=\"p-4 pt-0 color-main w-150 flex flex-col gap-2\">\n        <div class=\"\">\n          {{ $t('audio_upload_notice') }}\n        </div>\n        <!--        <ArticleAudio ref=\"sentenceAudioRef\" :article=\"editArticle\" class=\"w-full\"/>-->\n        <div class=\"upload relative\">\n          <BaseButton>{{ $t('upload_audio') }}</BaseButton>\n          <input\n            type=\"file\"\n            accept=\"audio/*\"\n            @change=\"handleAudioChange\"\n            class=\"w-full h-full absolute left-0 top-0 opacity-0\"\n          />\n        </div>\n        <div class=\"upload relative\">\n          <BaseButton>{{ $t('upload_lrc') }}</BaseButton>\n          <input\n            type=\"file\"\n            accept=\".lrc\"\n            @change=\"handleChange\"\n            class=\"w-full h-full absolute left-0 top-0 opacity-0\"\n          />\n        </div>\n      </div>\n    </Dialog>\n\n    <Dialog :title=\"$t('name_management')\" v-model=\"showNameDialog\" :footer=\"true\" @close=\"showNameDialog = false\" @ok=\"saveNameList\">\n      <div class=\"p-4 pt-0 color-main w-150 flex flex-col gap-3\">\n        <div class=\"flex justify-between items-center\">\n          <div class=\"text-base\">{{ $t('name_ignore_config_desc') }}</div>\n          <BaseButton type=\"info\" @click=\"addName\">{{ $t('add_name') }}</BaseButton>\n        </div>\n\n        <div class=\"flex flex-col gap-2\">\n          <div class=\"flex items-center gap-2\" v-for=\"(name, i) in nameListRef\" :key=\"i\">\n            <BaseInput\n              v-model=\"nameListRef[i]\"\n              :placeholder=\"$t('enter_name')\"\n              size=\"large\"\n              :autofocus=\"i === nameListRef.length - 1\"\n            />\n            <BaseButton type=\"info\" @click=\"removeName(i)\">{{ $t('delete') }}</BaseButton>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.content {\n  color: var(--color-article);\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  display: flex;\n  gap: var(--space);\n  padding: 0.6rem;\n  padding-left: 0;\n}\n\n.row {\n  flex: 7;\n  width: 33%;\n  //height: 100%;\n  display: flex;\n  flex-direction: column;\n  //opacity: 0;\n\n  &:nth-child(3) {\n    flex: 10;\n  }\n\n  .title {\n    font-weight: bold;\n    font-size: 1.4rem;\n  }\n\n  .article-translate {\n    flex: 1;\n    overflow-y: overlay;\n\n    .section {\n      background: var(--color-textarea-bg);\n      margin-bottom: 1.2rem;\n\n      .section-title {\n        padding: 0.5rem;\n        border-bottom: 1px solid var(--color-item-border);\n      }\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n\n      .sentence {\n        display: flex;\n        padding: 0.5rem;\n        line-height: 1.2;\n        border-bottom: 1px solid var(--color-item-border);\n\n        &:last-child {\n          border-bottom: none;\n        }\n      }\n    }\n  }\n\n  .options {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .status {\n      display: flex;\n      align-items: center;\n    }\n\n    .warning {\n      display: flex;\n      align-items: center;\n      font-size: 1.2rem;\n      color: red;\n    }\n\n    .success {\n      display: flex;\n      align-items: center;\n      font-size: 1.2rem;\n      color: #67c23a;\n    }\n  }\n}\n\n// 移动端适配\n@media (max-width: 768px) {\n  .content {\n    flex-direction: column;\n    padding: 0.5rem;\n    gap: 1rem;\n\n    .row {\n      width: 100%;\n      flex: none;\n\n      &:nth-child(3) {\n        flex: none;\n      }\n\n      .title {\n        font-size: 1.2rem;\n      }\n\n      // 表单元素优化\n      .base-input,\n      .base-textarea {\n        width: 100%;\n        font-size: 16px; // 防止iOS自动缩放\n      }\n\n      .base-textarea {\n        min-height: 150px;\n        max-height: 30vh;\n      }\n\n      // 按钮组优化\n      .flex.gap-2 {\n        flex-wrap: wrap;\n        gap: 0.5rem;\n\n        .base-button {\n          min-height: 44px;\n          flex: 1;\n          min-width: 120px;\n        }\n      }\n\n      // 文章翻译区域优化\n      .article-translate {\n        .section {\n          margin-bottom: 1rem;\n\n          .section-title {\n            font-size: 1rem;\n            padding: 0.4rem;\n          }\n\n          .sentence {\n            flex-direction: column;\n            gap: 0.5rem;\n            padding: 0.4rem;\n\n            .flex-\\[7\\] {\n              width: 100%;\n            }\n\n            .flex-\\[2\\] {\n              width: 100%;\n              justify-content: flex-start;\n\n              .flex.justify-end.gap-2 {\n                justify-content: flex-start;\n                flex-wrap: wrap;\n                gap: 0.5rem;\n              }\n            }\n          }\n        }\n      }\n\n      // 选项区域优化\n      .options {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 0.5rem;\n\n        .status {\n          font-size: 0.9rem;\n        }\n\n        .warning,\n        .success {\n          font-size: 1rem;\n        }\n      }\n    }\n  }\n}\n\n@media (max-width: 480px) {\n  .content {\n    padding: 0.3rem;\n\n    .row {\n      .base-textarea {\n        min-height: 120px;\n      }\n\n      .flex.gap-2 {\n        .base-button {\n          min-width: 100px;\n          font-size: 0.9rem;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["_ref","_unref","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_push","_parent","Axios","v","results","i","text","ref","e","preSentence","_createVNode","_isRef","_createTextVNode","_toDisplayString","_ssrRenderList","_createBlock","_Fragment","_renderList","_ssrInterpolate","_","_scopeId","_openBlock"],"mappings":"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"}