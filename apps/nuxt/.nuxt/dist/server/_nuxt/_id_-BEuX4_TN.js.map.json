{"file":"_id_-BEuX4_TN.js","mappings":"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","names":["_useModel","_ref","_computed","_push","_parent","_unref","_ssrRenderComponent","_ssrInterpolate","_","_scopeId","_createVNode","_createTextVNode","_toDisplayString","$router","_createBlock","_Fragment","_openBlock","_renderList","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderStyle","stages","$emit","$attrs","right","_ssrGetDirectiveProps","_ssrRenderClass","word"],"sources":["../../../../app/components/word/Statistics.vue","../../../../app/components/word/VolumeSettingMiniDialog.vue","../../../../app/components/StageProgress.vue","../../../../app/components/word/Footer.vue","../../../../app/components/list/WordList.vue","../../../../app/components/word/SentenceHightLightWord.vue","../../../../app/components/word/TypeWord.vue","../../../../app/components/word/GroupList.vue","../../../../app/pages/(words)/practice-words/[id].vue"],"sourcesContent":["<script setup lang=\"ts\">import { ref as _ref, computed as _computed } from 'vue';\n\nimport { useBaseStore } from '~/stores/base.ts'\nimport BaseButton from '~/components/BaseButton.vue'\nimport type { Statistics, TaskWords } from '~/types/types.ts'\nimport { emitter, EventKey, useEvents } from '~/utils/eventBus.ts'\nimport { useSettingStore } from '~/stores/setting.ts'\nimport { usePracticeStore } from '~/stores/practice.ts'\nimport dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport { defineAsyncComponent, inject, watch } from 'vue'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport { msToHourMinute } from '~/utils'\nimport Progress from '~/components/base/Progress.vue'\nimport ChannelIcons from '~/components/channel-icons/ChannelIcons.vue'\nimport { AppEnv } from '~/config/env.ts'\nimport { addStat } from '~/apis'\nimport Toast from '~/components/base/toast/Toast.ts'\nimport { ShortcutKey, WordPracticeMode } from '~/types/enum.ts'\nimport { useI18n } from 'vue-i18n'\n\ndayjs.extend(isoWeek)\nconst { t: $t } = useI18n()\ndayjs.extend(isBetween)\nconst Dialog = defineAsyncComponent(() => import('~/components/dialog/Dialog.vue'))\n\nconst store = useBaseStore()\nconst settingStore = useSettingStore()\nconst statStore = usePracticeStore()\nconst model = defineModel({ default: false })\nlet list = _ref([])\nlet dictIsEnd = _ref(false)\nlet practiceTaskWords = inject<TaskWords>('practiceTaskWords')\n\nfunction calcWeekList() {\n  // \n  const startOfWeek = dayjs().startOf('isoWeek') // \n  const endOfWeek = dayjs().endOf('isoWeek') // \n  //  7  false\n  const weekList = Array(7).fill(false)\n\n  store.sdict.statistics.forEach(item => {\n    const date = dayjs(item.startDate)\n    if (date.isBetween(startOfWeek, endOfWeek, null, '[]')) {\n      let idx = date.day()\n      // dayjs().day() 0=, 1=, ..., 6=\n      //  0=, ..., 6=\n      if (idx === 0) {\n        idx = 6 // \n      } else {\n        idx = idx - 1 // \n      }\n      weekList[idx] = true\n    }\n  })\n  list.value = weekList\n}\n\n//  model \nwatch(model, async newVal => {\n  if (newVal) {\n    dictIsEnd.value = false\n    let data: Statistics = {\n      spend: statStore.spend,\n      //\n      startDate: Date.now() - statStore.spend,\n      total: statStore.total,\n      wrong: statStore.wrong,\n      new: statStore.newWordNumber,\n      review: statStore.reviewWordNumber + statStore.writeWordNumber,\n    }\n    window.umami?.track('endStudyWord', {\n      name: store.sdict.name,\n      spend: Number(statStore.spend / 1000 / 60).toFixed(1),\n      index: store.sdict.lastLearnIndex,\n      perDayStudyNumber: store.sdict.perDayStudyNumber,\n      custom: store.sdict.custom,\n      complete: store.sdict.complete,\n      str: `name:${store.sdict.name},per:${store.sdict.perDayStudyNumber},spend:${Number(statStore.spend / 1000 / 60).toFixed(1)},index:${store.sdict.lastLearnIndex}`,\n    })\n\n    // shuffle  lastLearnIndex\n    if (settingStore.wordPracticeMode !== WordPracticeMode.Shuffle) {\n      store.sdict.lastLearnIndex = store.sdict.lastLearnIndex + statStore.newWordNumber\n      // \n      let ignoreList = [store.allIgnoreWords, store.knownWords][settingStore.ignoreSimpleWord ? 0 : 1]\n      // \n      const ignoreCount = ignoreList.filter(word =>\n        store.sdict.words.slice(store.sdict.lastLearnIndex).some(w => w.word.toLowerCase() === word)\n      ).length\n      // lastLearnIndex\n      if (store.sdict.lastLearnIndex + ignoreCount >= store.sdict.length) {\n        dictIsEnd.value = true\n        store.sdict.complete = true\n        store.sdict.lastLearnIndex = store.sdict.length\n      }\n    }\n\n    if (AppEnv.CAN_REQUEST) {\n      let res = await addStat({\n        ...data,\n        type: 'word',\n        perDayStudyNumber: store.sdict.perDayStudyNumber,\n        lastLearnIndex: store.sdict.lastLearnIndex,\n        complete: store.sdict.complete,\n      })\n      if (!res.success) {\n        Toast.error(res.msg)\n      }\n    }\n\n    store.sdict.statistics.push(data as any)\n    calcWeekList() // \n  }\n})\n\nconst close = () => (model.value = false)\n\nuseEvents([\n  //\n  // [ShortcutKey.NextChapter, close],\n  [ShortcutKey.RepeatChapter, close],\n  [ShortcutKey.DictationChapter, close],\n])\n\nfunction options(emitType: string) {\n  emitter.emit(EventKey[emitType])\n  close()\n}\n\n// \nconst studyProgress = _computed(() => {\n  if (!store.sdict.length) return 0\n  return Math.round((store.sdict.lastLearnIndex / store.sdict.length) * 100)\n})\n\n// \nconst accuracyRate = _computed(() => {\n  if (statStore.total === 0) return 100\n  return Math.round(((statStore.total - statStore.wrong) / statStore.total) * 100)\n})\n\n// \nconst encouragementText = _computed(() => {\n  const rate = accuracyRate.value\n  if (rate >= 95) return ' ' + $t('encouragement_95')\n  if (rate >= 85) return ' ' + $t('encouragement_85')\n  if (rate >= 70) return ' ' + $t('encouragement_70')\n  return ' ' + $t('encouragement_default')\n})\n\n// \nconst formattedStudyTime = _computed(() => {\n  const time = msToHourMinute(statStore.spend)\n  return time.replace('', 'h ').replace('', 'm')\n})\n\ncalcWeekList() // \n</script>\n\n<template>\n  <Dialog v-model=\"model\" :close-on-click-bg=\"false\" :header=\"false\" :keyboard=\"false\" :show-close=\"false\">\n    <div class=\"p-8 pr-3 bg-[var(--bg-card-primary)] rounded-2xl space-y-6\">\n      <!-- Header Section -->\n      <div class=\"text-center relative\">\n        <div\n          class=\"text-3xl font-bold mb-2 bg-gradient-to-r from-purple-500 to-purple-700 bg-clip-text text-transparent\"\n        >\n          <template v-if=\"practiceTaskWords.shuffle.length\">  {{ $t('review_complete') }} </template>\n          <template v-else>  {{ $t('daily_task_complete') }} </template>\n        </div>\n        <p class=\"font-medium text-lg\">{{ encouragementText }}</p>\n      </div>\n\n      <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div class=\"item\">\n          <IconFluentClock20Regular class=\"text-purple-500\" />\n          <div class=\"text-sm mb-1 font-medium\">{{ $t('study_duration') }}</div>\n          <div class=\"text-xl font-bold\">{{ formattedStudyTime }}</div>\n        </div>\n\n        <div class=\"item\">\n          <IconFluentTarget20Regular class=\"text-purple-500\" />\n          <div class=\"text-sm mb-1 font-medium\">{{ $t('accuracy_rate') }}</div>\n          <div class=\"text-xl font-bold\">{{ accuracyRate }}%</div>\n        </div>\n\n        <div class=\"item\">\n          <IconFluentSparkle20Regular class=\"text-purple-500\" />\n          <div class=\"text-sm mb-1 font-medium\">{{ $t('new_words') }}</div>\n          <div class=\"text-xl font-bold\">{{ statStore.newWordNumber }}</div>\n        </div>\n\n        <div class=\"item\">\n          <IconFluentBook20Regular class=\"text-purple-500\" />\n          <div class=\"text-sm mb-1 font-medium\">{{ $t('review') }}</div>\n          <div class=\"text-xl font-bold\">\n            {{ statStore.reviewWordNumber + statStore.writeWordNumber }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"w-full gap-3 flex\">\n        <div class=\"space-y-6 flex-1\">\n          <!-- Weekly Progress -->\n          <div class=\"bg-[--bg-card-secend] rounded-xl p-2\">\n            <div class=\"text-center mb-4\">\n              <div class=\"text-xl font-semibold mb-1\">{{ $t('weekly_record') }}</div>\n            </div>\n            <div class=\"flex justify-between gap-4\">\n              <div\n                v-for=\"(item, i) in list\"\n                :key=\"i\"\n                class=\"flex-1 text-center px-2 py-3 rounded-lg\"\n                :class=\"item ? 'bg-green-500 text-white shadow-lg' : 'bg-white text-gray-700'\"\n              >\n                <div class=\"font-semibold mb-1\">{{ i + 1 }}</div>\n                <div\n                  class=\"w-2 h-2 rounded-full mx-auto mb-1\"\n                  :class=\"item ? 'bg-white bg-opacity-30' : 'bg-gray-300'\"\n                ></div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Progress Overview -->\n          <div class=\"bg-[var(--bg-card-secend)] rounded-xl py-2 px-6\">\n            <div class=\"flex justify-between items-center mb-3\">\n              <div class=\"text-xl font-semibold\">{{ $t('study_progress') }}</div>\n              <div class=\"text-2xl font-bold text-purple-600\">{{ studyProgress }}%</div>\n            </div>\n            <Progress :percentage=\"studyProgress\" size=\"large\" :show-text=\"false\" />\n            <div class=\"flex justify-between text-sm font-medium mt-4\">\n              <span>{{ $t('learned') }}: {{ store.sdict.lastLearnIndex }}</span>\n              <span>{{ $t('total_words') }}: {{ store.sdict.length }}</span>\n            </div>\n          </div>\n        </div>\n        <ChannelIcons />\n      </div>\n      <!-- Action Buttons -->\n      <div class=\"flex min-w-130 justify-center\">\n        <BaseButton\n          :keyboard=\"settingStore.shortcutKeyMap[ShortcutKey.RepeatChapter]\"\n          @click=\"options(EventKey.repeatStudy)\"\n        >\n          <div class=\"center gap-2\">\n            <IconFluentArrowClockwise20Regular />\n            {{ $t('relearn') }}\n          </div>\n        </BaseButton>\n        <BaseButton\n          v-if=\"settingStore.wordPracticeMode !== WordPracticeMode.Review\"\n          :keyboard=\"settingStore.shortcutKeyMap[ShortcutKey.NextChapter]\"\n          @click=\"options(EventKey.continueStudy)\"\n        >\n          <div class=\"center gap-2\">\n            <IconFluentPlay20Regular />\n            {{ dictIsEnd ? $t('start_from_beginning') : $t('another_group') }}\n          </div>\n        </BaseButton>\n        <BaseButton @click=\"$router.back\">\n          <div class=\"center gap-2\">\n            <IconFluentHome20Regular />\n            {{ $t('back_to_home') }}\n          </div>\n        </BaseButton>\n      </div>\n    </div>\n  </Dialog>\n</template>\n<style scoped lang=\"scss\">\n// \n@media (max-width: 768px) {\n  // \n  .w-140 {\n    width: 90vw !important;\n    max-width: 500px;\n    padding: 1.5rem !important;\n  }\n\n  // \n  .center.text-2xl {\n    font-size: 1.3rem;\n    margin-bottom: 1rem;\n  }\n\n  // \n  .flex .flex-1 {\n    .text-sm {\n      font-size: 0.8rem;\n    }\n\n    .text-4xl {\n      font-size: 2rem;\n    }\n  }\n\n  // \n  .text-xl {\n    font-size: 1rem;\n\n    .text-2xl {\n      font-size: 1.5rem;\n    }\n  }\n\n  // /\n  .flex.justify-center.gap-10 {\n    gap: 1rem;\n    flex-wrap: wrap;\n\n    > div {\n      padding: 0.8rem 2rem;\n\n      .text-3xl {\n        font-size: 1.8rem;\n      }\n    }\n  }\n\n  // \n  .flex.gap-4 {\n    gap: 0.5rem;\n\n    .w-8.h-8 {\n      width: 2rem;\n      height: 2rem;\n      font-size: 0.9rem;\n    }\n  }\n\n  // \n  .flex.justify-center.gap-4 {\n    flex-direction: column;\n    gap: 0.5rem;\n\n    .base-button {\n      width: 100%;\n      min-height: 48px;\n    }\n  }\n}\n\n@media (max-width: 480px) {\n  .w-140 {\n    width: 95vw !important;\n    padding: 1rem !important;\n  }\n\n  .flex .flex-1 {\n    .text-4xl {\n      font-size: 1.5rem;\n    }\n  }\n}\n</style>\n\n<style scoped>\n.item {\n  @apply bg-[var(--bg-card-secend)] rounded-xl p-2 text-center border border-gray-100;\n}\n</style>\n","<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\nimport BaseIcon from '~/components/BaseIcon.vue'\nimport Switch from '~/components/base/Switch.vue'\nimport Select from '~/components/base/select/Select.vue'\nimport Option from '~/components/base/select/Option.vue'\nimport MiniDialog from '~/components/dialog/MiniDialog.vue'\nimport VolumeIcon from '~/components/icon/VolumeIcon.vue'\nimport { SoundFileOptions } from '~/config/env.ts'\nimport { useWindowClick } from '~/hooks/event.ts'\nimport { getAudioFileUrl, usePlayAudio } from '~/hooks/sound.ts'\nimport { useSettingStore } from '~/stores/setting.ts'\nimport { emitter, EventKey } from '~/utils/eventBus.ts'\n\nconst settingStore = useSettingStore()\nlet timer = 0\n//hoverselectmini-dialog\nlet selectIsOpen = false\nlet show = _ref(false)\n\nuseWindowClick(() => {\n  if (selectIsOpen) {\n    selectIsOpen = false\n  } else {\n    show.value = false\n  }\n})\n\nfunction toggle(val: boolean) {\n  if (selectIsOpen) return\n  clearTimeout(timer)\n  if (val) {\n    emitter.emit(EventKey.closeOther)\n    show.value = val\n  } else {\n    timer = setTimeout(() => {\n      show.value = val\n    }, 100)\n  }\n}\n\nfunction selectToggle(e: boolean) {\n  //falseuseWindowClick\n  setTimeout(() => (selectIsOpen = e))\n}\n\nfunction eventCheck(e) {\n  const isSelfOrChild = e.currentTarget.contains(e.target)\n  if (isSelfOrChild) {\n    //\n    if (selectIsOpen) return\n    e.stopPropagation()\n  }\n}\n</script>\n\n<template>\n  <div class=\"setting\" @click=\"eventCheck\">\n    <BaseIcon @mouseenter=\"toggle(true)\" @mouseleave=\"toggle(false)\">\n      <IconClarityVolumeUpLine />\n    </BaseIcon>\n    <MiniDialog width=\"18rem\" @mouseenter=\"toggle(true)\" @mouseleave=\"toggle(false)\" v-model=\"show\">\n      <div class=\"mini-row-title\"></div>\n      <div class=\"mini-row\">\n        <label class=\"item-title\"></label>\n        <div class=\"wrapper\">\n          <Switch v-model=\"settingStore.wordSound\" inline-prompt active-text=\"\" inactive-text=\"\" />\n        </div>\n      </div>\n      <div class=\"mini-row\">\n        <label class=\"item-title\"></label>\n        <div class=\"wrapper\">\n          <Select v-model=\"settingStore.soundType\" @toggle=\"selectToggle\" placeholder=\"\" size=\"small\">\n            <Option label=\"\" value=\"us\" />\n            <Option label=\"\" value=\"uk\" />\n          </Select>\n        </div>\n      </div>\n      <div class=\"mini-row\">\n        <label class=\"item-title\"></label>\n        <div class=\"wrapper\">\n          <Switch v-model=\"settingStore.keyboardSound\" inline-prompt active-text=\"\" inactive-text=\"\" />\n        </div>\n      </div>\n      <div class=\"mini-row\">\n        <label class=\"item-title\"></label>\n        <div class=\"wrapper\">\n          <Select v-model=\"settingStore.keyboardSoundFile\" @toggle=\"selectToggle\" placeholder=\"\" size=\"small\">\n            <Option v-for=\"item in SoundFileOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              <div class=\"el-option-row\">\n                <span>{{ item.label }}</span>\n                <VolumeIcon :time=\"100\" @click=\"usePlayAudio(getAudioFileUrl(item.value)[0])\" />\n              </div>\n            </Option>\n          </Select>\n        </div>\n      </div>\n      <div class=\"mini-row\">\n        <label class=\"item-title\"></label>\n        <div class=\"wrapper\">\n          <Switch v-model=\"settingStore.effectSound\" inline-prompt active-text=\"\" inactive-text=\"\" />\n        </div>\n      </div>\n    </MiniDialog>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n.wrapper {\n  width: 50%;\n  position: relative;\n  text-align: right;\n}\n\n.setting {\n  position: relative;\n}\n\n.el-option-row {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .icon-wrapper {\n    transform: translateX(10rem);\n  }\n}\n</style>\n","<template>\n  <div class=\"flex gap-5 w-full h-3\">\n    <template v-for=\"i of props.stages\">\n      <template v-if=\"i?.children?.length && i.active\">\n        <div class=\"flex gap-1\" :style=\"{ width: i.ratio + '%' }\">\n          <template v-for=\"j of i.children\">\n            <Tooltip :title=\"j.name\">\n              <Progress\n                :style=\"{ width: j.ratio + '%' }\"\n                :percentage=\"j.percentage\"\n                :stroke-width=\"8\"\n                :color=\"j.active ? '#72c240' : '#69b1ff'\"\n                :active=\"j.active\"\n                :show-text=\"false\"\n              />\n            </Tooltip>\n          </template>\n        </div>\n      </template>\n      <template v-else>\n        <Tooltip :title=\"i.name\">\n          <Progress\n            :style=\"{ width: i.ratio + '%' }\"\n            :percentage=\"i.percentage\"\n            :stroke-width=\"8\"\n            :color=\"i.active && props.stages.length > 1 ? '#72c240' : '#69b1ff'\"\n            :active=\"i.active\"\n            :show-text=\"false\"\n          />\n        </Tooltip>\n      </template>\n    </template>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport Tooltip from '@/components/base/Tooltip.vue'\nimport Progress from '@/components/base/Progress.vue'\n\nconst props = defineProps({\n  stages: null\n})\n</script>\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">import { computed as _computed } from 'vue';\n\nimport { usePracticeStore } from '~/stores/practice'\nimport { useSettingStore } from '~/stores/setting'\nimport type { PracticeData, TaskWords } from '~/types/types'\nimport BaseIcon from '~/components/BaseIcon.vue'\nimport Tooltip from '~/components/base/Tooltip.vue'\nimport SettingDialog from '~/components/setting/SettingDialog.vue'\nimport BaseButton from '~/components/BaseButton.vue'\nimport { useBaseStore } from '~/stores/base'\nimport VolumeSettingMiniDialog from '~/components/word/VolumeSettingMiniDialog.vue'\nimport StageProgress from '~/components/StageProgress.vue'\nimport { ShortcutKey, WordPracticeMode, WordPracticeStage } from '~/types/enum'\nimport { WordPracticeModeNameMap, WordPracticeModeStageMap, WordPracticeStageNameMap } from '~/config/env'\nimport { useI18n } from 'vue-i18n'\n\nconst statStore = usePracticeStore()\nconst { t: $t } = useI18n()\nconst store = useBaseStore()\nconst settingStore = useSettingStore()\n\ndefineProps({\n  showEdit: { type: Boolean },\n  isCollect: { type: Boolean },\n  isSimple: { type: Boolean }\n})\n\nconst emit = defineEmits([\"toggleCollect\", \"toggleSimple\", \"edit\", \"skip\", \"skipStep\"])\n\nlet practiceData = inject<PracticeData>('practiceData')\n\nfunction format(val: number, suffix: string = '', check: number = -1) {\n  return val === check ? '-' : val + suffix\n}\n\nconst status = _computed(() => {\n  if (settingStore.wordPracticeMode === WordPracticeMode.Free) return $t('free_practice')\n  if (practiceData.isTypingWrongWord) return $t('review_wrong_words')\n  return statStore.getStageName\n})\n\nconst progress = _computed(() => {\n  if (!practiceData.words.length) return 0\n  return (practiceData.index / practiceData.words.length) * 100\n})\n\nconst stages = _computed(() => {\n  let DEFAULT_BAR = {\n    name: '',\n    ratio: 100,\n    percentage: (practiceData.index / practiceData.words.length) * 100,\n    active: true,\n  }\n  if ([WordPracticeMode.Shuffle, WordPracticeMode.Free].includes(settingStore.wordPracticeMode)) {\n    return [DEFAULT_BAR]\n  } else {\n    //  WordPracticeStage  stageIndex  childIndex\n    const stageMap: Partial<Record<WordPracticeStage, { stageIndex: number; childIndex: number }>> = {\n      [WordPracticeStage.FollowWriteNewWord]: { stageIndex: 0, childIndex: 0 },\n      [WordPracticeStage.IdentifyNewWord]: { stageIndex: 0, childIndex: 0 },\n      [WordPracticeStage.ListenNewWord]: { stageIndex: 0, childIndex: 1 },\n      [WordPracticeStage.DictationNewWord]: { stageIndex: 0, childIndex: 2 },\n      [WordPracticeStage.IdentifyReview]: { stageIndex: 1, childIndex: 0 },\n      [WordPracticeStage.ListenReview]: { stageIndex: 1, childIndex: 1 },\n      [WordPracticeStage.DictationReview]: { stageIndex: 1, childIndex: 2 },\n      [WordPracticeStage.IdentifyReviewAll]: { stageIndex: 2, childIndex: 0 },\n      [WordPracticeStage.ListenReviewAll]: { stageIndex: 2, childIndex: 1 },\n      [WordPracticeStage.DictationReviewAll]: { stageIndex: 2, childIndex: 2 },\n    }\n\n    // \n    const currentStageConfig = stageMap[statStore.stage]\n    if (!currentStageConfig) {\n      return stages.value\n    }\n\n    const { stageIndex, childIndex } = currentStageConfig\n    const currentProgress = (practiceData.index / practiceData.words.length) * 100\n\n    if (\n      [WordPracticeMode.IdentifyOnly, WordPracticeMode.DictationOnly, WordPracticeMode.ListenOnly].includes(\n        settingStore.wordPracticeMode\n      )\n    ) {\n      const stages = [\n        {\n          name: `${WordPracticeModeNameMap[settingStore.wordPracticeMode]}`,\n          ratio: 33,\n          percentage: 0,\n          active: false,\n        },\n        {\n          name: `${WordPracticeModeNameMap[settingStore.wordPracticeMode]}`,\n          ratio: 33,\n          percentage: 0,\n          active: false,\n        },\n        {\n          name: `${WordPracticeModeNameMap[settingStore.wordPracticeMode]}`,\n          ratio: 33,\n          percentage: 0,\n          active: false,\n        },\n      ]\n\n      // \n      for (let i = 0; i < stageIndex; i++) {\n        stages[i].percentage = 100\n        stages[i].ratio = 33\n      }\n\n      // \n      stages[stageIndex].active = true\n      stages[stageIndex].percentage = (practiceData.index / practiceData.words.length) * 100\n\n      return stages\n    } else {\n      // \n      const stageConfigs = [\n        {\n          name: '',\n          ratio: 70,\n          children: [{ name: '' }, { name: '' }, { name: '' }],\n        },\n        {\n          name: '',\n          ratio: 15,\n          children: [{ name: '' }, { name: '' }, { name: '' }],\n        },\n        {\n          name: '',\n          ratio: 15,\n          children: [{ name: '' }, { name: '' }, { name: '' }],\n        },\n      ]\n\n      //  stages\n      const stages = stageConfigs.map(config => ({\n        name: config.name,\n        percentage: 0,\n        ratio: config.ratio,\n        active: false,\n        children: config.children.map(child => ({\n          name: child.name,\n          percentage: 0,\n          ratio: 33,\n          active: false,\n        })),\n      }))\n\n      // \n      for (let i = 0; i < stageIndex; i++) {\n        stages[i].percentage = 100\n        stages[i].ratio = 15\n      }\n\n      // \n      stages[stageIndex].ratio = 70\n      stages[stageIndex].active = true\n\n      // \n      const currentStageChildren = stages[stageIndex].children\n\n      if (childIndex === 0) {\n        // /\n        currentStageChildren[0].active = true\n        currentStageChildren[0].percentage = currentProgress\n      } else if (childIndex === 1) {\n        // \n        currentStageChildren[0].active = false\n        currentStageChildren[1].active = true\n        currentStageChildren[2].active = false\n        currentStageChildren[0].percentage = 100\n        currentStageChildren[1].percentage = currentProgress\n        currentStageChildren[2].percentage = 0\n      } else if (childIndex === 2) {\n        // \n        currentStageChildren[0].active = false\n        currentStageChildren[1].active = false\n        currentStageChildren[2].active = true\n        currentStageChildren[0].percentage = 100\n        currentStageChildren[1].percentage = 100\n        currentStageChildren[2].percentage = currentProgress\n      }\n\n      if (settingStore.wordPracticeMode === WordPracticeMode.System) {\n        return stages\n      }\n      if (settingStore.wordPracticeMode === WordPracticeMode.Review) {\n        stages.shift()\n        if (stageIndex === 1) stages[1].ratio = 30\n        if (stageIndex === 2) stages[0].ratio = 30\n\n        console.log('stages', stages, childIndex)\n\n        return stages\n      }\n    }\n  }\n  return [DEFAULT_BAR]\n})\n</script>\n\n<template>\n  <div class=\"footer\">\n    <Tooltip :title=\"settingStore.showToolbar ? $t('collapse') : $t('expand')\">\n      <IconFluentChevronLeft20Filled\n        @click=\"settingStore.showToolbar = !settingStore.showToolbar\"\n        class=\"arrow\"\n        :class=\"!settingStore.showToolbar && 'down'\"\n        color=\"#999\"\n      />\n    </Tooltip>\n\n    <div class=\"bottom\">\n      <StageProgress :stages=\"stages\" />\n\n      <div class=\"flex justify-between items-center\">\n        <div class=\"stat\">\n          <div class=\"row\">\n            <div class=\"num\">{{ `${practiceData.index + 1}/${practiceData.words.length}` }}</div>\n            <div class=\"line\"></div>\n            <div class=\"name\">{{ status }}</div>\n          </div>\n          <div class=\"row\">\n            <!--            <div class=\"num\">{{ statStore.spend }}</div>-->\n            <div class=\"num\">{{ Math.floor(statStore.spend / 1000 / 60) }}{{ $t('minutes') }}</div>\n            <div class=\"line\"></div>\n            <div class=\"name\">{{ $t('time') }}</div>\n          </div>\n          <div class=\"row\">\n            <div class=\"num\">{{ statStore.total }}</div>\n            <div class=\"line\"></div>\n            <div class=\"name\">{{ $t('total_words') }}</div>\n          </div>\n          <div class=\"row\">\n            <div class=\"num\">{{ format(statStore.wrong, '', 0) }}</div>\n            <div class=\"line\"></div>\n            <div class=\"name\">{{ $t('errors') }}</div>\n          </div>\n        </div>\n        <div class=\"flex gap-2 justify-center items-center\" id=\"toolbar-icons\">\n          <SettingDialog type=\"word\" />\n\n          <VolumeSettingMiniDialog />\n\n          <BaseIcon\n            v-if=\"settingStore.wordPracticeMode !== WordPracticeMode.Free\"\n            @click=\"emit('skipStep')\"\n            :title=\"`${$t('skip_to_next_stage')}:${WordPracticeStageNameMap[statStore.nextStage]}`\"\n          >\n            <IconFluentArrowRight16Regular />\n          </BaseIcon>\n\n          <div class=\"relative z-999 group\">\n            <div\n              class=\"space-y-2 btn-no-margin pb-2 left-1/2 -transform-translate-x-1/2 absolute z-999 bottom-full scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 pointer-events-none group-hover:pointer-events-auto\"\n            >\n              <BaseButton size=\"normal\" type=\"info\" class=\"w-full\" @click=\"$emit('toggleSimple')\">\n                <div class=\"flex items-center gap-2\">\n                  <IconFluentCheckmarkCircle16Regular v-if=\"!isSimple\" />\n                  <IconFluentCheckmarkCircle16Filled v-else />\n                  <span>\n                    {{\n                      (!isSimple ? $t('mark_mastered') : $t('unmark_mastered')) +\n                      `(${settingStore.shortcutKeyMap[ShortcutKey.ToggleSimple]})`\n                    }}</span\n                  >\n                </div>\n              </BaseButton>\n              <BaseButton size=\"normal\" type=\"info\" class=\"w-full\" @click=\"$emit('toggleCollect')\">\n                <div class=\"flex items-center gap-2\">\n                  <IconFluentStarAdd16Regular v-if=\"!isCollect\" />\n                  <IconFluentStar16Filled v-else />\n                  <span>\n                    {{\n                      (!isCollect ? $t('collect') : $t('uncollect')) + `(${settingStore.shortcutKeyMap[ShortcutKey.ToggleCollect]})`\n                    }}</span\n                  >\n                </div>\n              </BaseButton>\n              <BaseButton size=\"normal\" type=\"info\" class=\"w-full\" @click=\"$emit('skip')\">\n                <div class=\"flex items-center gap-2\">\n                  <IconFluentArrowBounce20Regular class=\"transform-rotate-180\" />\n                  <span> {{ $t('skip_word') }}({{ settingStore.shortcutKeyMap[ShortcutKey.Next] }})</span>\n                </div>\n              </BaseButton>\n            </div>\n\n            <BaseIcon>\n              <IconPhMicrosoftWordLogoLight />\n            </BaseIcon>\n          </div>\n\n          <BaseIcon\n            @click=\"settingStore.dictation = !settingStore.dictation\"\n            :title=\"`${$t('toggle_dictation_mode')}(${settingStore.shortcutKeyMap[ShortcutKey.ToggleDictation]})`\"\n          >\n            <IconFluentEyeOff16Regular v-if=\"settingStore.dictation\" />\n            <IconFluentEye16Regular v-else />\n          </BaseIcon>\n\n          <BaseIcon\n            :title=\"`${$t('toggle_translation')}(${settingStore.shortcutKeyMap[ShortcutKey.ToggleShowTranslate]})`\"\n            @click=\"settingStore.translate = !settingStore.translate\"\n          >\n            <IconPhTranslate v-if=\"settingStore.translate\" />\n            <IconFluentTranslateOff16Regular v-else />\n          </BaseIcon>\n\n          <BaseIcon\n            @click=\"settingStore.showPanel = !settingStore.showPanel\"\n            :title=\"`${$t('word_list')}(${settingStore.shortcutKeyMap[ShortcutKey.TogglePanel]})`\"\n          >\n            <IconFluentTextListAbcUppercaseLtr20Regular />\n          </BaseIcon>\n        </div>\n      </div>\n    </div>\n    <div class=\"progress-wrap flex gap-3 items-center color-gray\">\n      <span class=\"shrink-0\">{{ status }}</span>\n      <StageProgress :stages=\"stages\" />\n      <div class=\"num\">{{ `${practiceData.index + 1}/${practiceData.words.length}` }}</div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.footer {\n  flex-shrink: 0;\n  width: var(--toolbar-width);\n  position: relative;\n  z-index: 20; // z-index\n\n  &.hide {\n    margin-bottom: -6rem;\n    margin-top: 3rem;\n\n    .progress-wrap {\n      bottom: calc(100% + 1.8rem);\n    }\n  }\n\n  .bottom {\n    @apply relative w-full box-border rounded-xl bg-second shadow-lg z-10 mb-3;\n    padding: 0.2rem var(--space) calc(0.4rem + env(safe-area-inset-bottom, 0px)) var(--space);\n\n    .stat {\n      @apply flex justify-around gap-[var(--stat-gap)] mt-2;\n\n      .row {\n        @apply flex flex-col items-center gap-1 text-gray;\n\n        .line {\n          height: 1px;\n          width: 100%;\n          background: var(--color-sub-gray);\n        }\n      }\n    }\n  }\n\n  .progress-wrap {\n    width: var(--toolbar-width);\n    transition: all 0.3s;\n    padding: 0 0.6rem;\n    box-sizing: border-box;\n    position: fixed;\n    bottom: 1rem;\n    z-index: 1; // \n  }\n\n  .arrow {\n    position: absolute;\n    top: -40%;\n    left: 50%;\n    cursor: pointer;\n    transition: all 0.5s;\n    transform: rotate(-90deg);\n    padding: 0.5rem;\n    font-size: 1.2rem;\n\n    &.down {\n      top: -90%;\n      transform: rotate(90deg);\n    }\n  }\n}\n\n// \n@media (max-width: 768px) {\n  .footer {\n    width: 100%;\n\n    .bottom {\n      padding: 0.3rem 0.5rem 0.5rem 0.5rem;\n      border-radius: 0.4rem;\n\n      .stat {\n        margin-top: 0.3rem;\n        gap: 0.2rem;\n        flex-direction: row;\n        overflow-x: auto;\n\n        .row {\n          min-width: 3.5rem;\n          gap: 0.2rem;\n\n          .num {\n            font-size: 0.8rem;\n            font-weight: bold;\n          }\n\n          .name {\n            font-size: 0.7rem;\n          }\n        }\n      }\n\n      //  - \n      .flex.gap-2 {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 0.4rem;\n        justify-content: center;\n\n        .base-icon {\n          padding: 0.3rem;\n          font-size: 1rem;\n          min-height: 44px;\n          min-width: 44px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      }\n    }\n\n    .progress-wrap {\n      width: 100%;\n      padding: 0 0.5rem;\n      bottom: 0.5rem;\n    }\n\n    .arrow {\n      font-size: 1rem;\n      padding: 0.3rem;\n    }\n  }\n}\n\n// \n@media (max-width: 480px) {\n  .footer {\n    .bottom {\n      padding: 0.2rem 0.3rem 0.3rem 0.3rem;\n\n      .stat {\n        margin-top: 0.2rem;\n        gap: 0.1rem;\n\n        .row {\n          min-width: 3rem;\n          gap: 0.1rem;\n\n          .num {\n            font-size: 0.7rem;\n          }\n\n          .name {\n            font-size: 0.6rem;\n          }\n\n          // \n          &:nth-child(n + 3) {\n            display: none;\n          }\n        }\n      }\n\n      .flex.gap-2 {\n        gap: 0.2rem;\n\n        .base-icon {\n          padding: 0.2rem;\n          font-size: 0.9rem;\n        }\n      }\n    }\n\n    .progress-wrap {\n      padding: 0 0.3rem;\n      bottom: 0.3rem;\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\n\nimport BaseList from \"@/components/list/BaseList.vue\";\nimport type { Word } from \"@/types/types.ts\";\nimport WordItem from \"../WordItem.vue\";\n\ndefineProps({\n  list: { default: [] },\n  showTranslate: { type: Boolean, default: true },\n  showWord: { type: Boolean, default: true }\n})\n\nconst emit = defineEmits([\"click\"])\n\nconst listRef: any = _ref(null as any)\n\nfunction scrollToBottom() {\n  listRef.value?.scrollToBottom()\n}\n\nfunction scrollToItem(index: number) {\n  listRef.value?.scrollToItem(index)\n}\n\ndefineExpose({scrollToBottom, scrollToItem})\n\n</script>\n\n<template>\n  <BaseList\n      ref=\"listRef\"\n      @click=\"(e:any) => emit('click',e)\"\n      :list=\"list\"\n      v-bind=\"$attrs\">\n      <template v-slot=\"{ item, index, active }\">\n        <WordItem\n          :show-translate=\"showTranslate\"\n          :show-word=\"showWord\"\n          :item=\"item\" :index=\"index\" :active=\"active\" />\n      </template>\n  </BaseList>\n</template>\n","<script setup lang=\"ts\">\nimport {computed} from 'vue'\n\ninterface IProps {\n  text: string\n  dictation: boolean\n  highLight?: boolean\n  word: string\n}\n\nconst props = defineProps({\n  text: { default: '' },\n  dictation: { type: Boolean, default: false },\n  highLight: { type: Boolean, default: true },\n  word: { default: '' }\n})\n\n// \nconst highlightedText = computed(() => {\n  if (!props.text || !props.word) {\n    return props.text\n  }\n\n  // \n  const regex = new RegExp(`\\\\b${escapeRegExp(props.word)}\\\\b`, 'gi')\n\n  // span\n  return props.text.replace(regex, (match) => {\n    return `<span class=\"${props.highLight && 'highlight-word'} ${props.dictation && 'word-shadow'}\">${match}</span>`\n  })\n})\n\n// \nfunction escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n</script>\n\n<template>\n  <div v-html=\"highlightedText\"></div>\n</template>\n\n<style scoped lang=\"scss\">\n:deep(.highlight-word) {\n    color: var(--color-select-bg);\n}\n</style>\n","<script setup lang=\"ts\">import { ref as _ref, computed as _computed } from 'vue';\n\nimport type { Word } from '~/types/types'\nimport VolumeIcon from '~/components/icon/VolumeIcon.vue'\nimport { useSettingStore } from '~/stores/setting'\nimport { usePlayBeep, usePlayCorrect, usePlayKeyboardAudio, usePlayWordAudio, useTTsPlayAudio } from '~/hooks/sound'\nimport { emitter, EventKey, useEvents } from '~/utils/eventBus'\nimport { onMounted, onUnmounted, watch } from 'vue'\nimport SentenceHightLightWord from '~/components/word/SentenceHightLightWord.vue'\nimport { usePracticeStore } from '~/stores/practice'\nimport { getDefaultWord } from '~/types/func'\nimport { _nextTick, last } from '~/utils'\nimport BaseButton from '~/components/BaseButton.vue'\nimport Space from '~/components/article/Space.vue'\nimport Toast from '~/components/base/toast/Toast'\nimport Tooltip from '~/components/base/Tooltip.vue'\nimport { ShortcutKey, WordPracticeStage, WordPracticeType } from '~/types/enum'\nimport { useI18n } from 'vue-i18n'\nconst { t: $t } = useI18n()\n\ninterface IProps {\n  word: Word\n}\n\nconst props = defineProps({\n  word: { default: () => getDefaultWord() }\n})\n\nconst emit = defineEmits([\"complete\", \"wrong\", \"know\"])\n\nlet input = _ref('')\nlet wrong = _ref('')\nlet showFullWord = _ref(false)\n//N\nlet inputLock = false\nlet wordRepeatCount = 0\n// \nlet wordCompletedTime = 0\nlet jumpTimer = -1\nlet cursor = _ref({\n  top: 0,\n  left: 0,\n})\nconst settingStore = useSettingStore()\nconst statStore = usePracticeStore()\n\nconst playBeep = usePlayBeep()\nconst playCorrect = usePlayCorrect()\nconst playKeyboardAudio = usePlayKeyboardAudio()\nconst playWordAudio = usePlayWordAudio()\nconst ttsPlayAudio = useTTsPlayAudio()\nconst volumeIconRef: any = _ref()\nconst typingWordRef = _ref<HTMLDivElement>()\n// const volumeTranslateIconRef: any = $ref()\n\nlet displayWord = _computed(() => {\n  return props.word.word.slice(input.value.length + wrong.value.length)\n})\n\n// \nfunction updateCurrentWordInfo() {\n  window.__CURRENT_WORD_INFO__ = {\n    word: props.word.word,\n    input: input.value,\n    inputLock: inputLock,\n    containsSpace: props.word.word.includes(' '),\n  }\n}\n\nwatch(() => props.word, reset, { deep: true })\n\nfunction reset() {\n  wrong.value = input.value = ''\n  wordRepeatCount = 0\n  showWordResult.value = inputLock = false\n  wordCompletedTime = 0 // \n  if (settingStore.wordSound) {\n    if (settingStore.wordPracticeType !== WordPracticeType.Dictation) {\n      volumeIconRef.value?.play(400, true)\n    }\n  }\n  // \n  updateCurrentWordInfo()\n  checkCursorPosition()\n}\n\n// \nwatch(\n  () => input.value,\n  () => {\n    updateCurrentWordInfo()\n  }\n)\n\nonMounted(() => {\n  // \n  updateCurrentWordInfo()\n\n  emitter.on(EventKey.resetWord, reset)\n  emitter.on(EventKey.onTyping, onTyping)\n})\n\nonUnmounted(() => {\n  emitter.off(EventKey.resetWord)\n  emitter.off(EventKey.onTyping, onTyping)\n})\n\nfunction repeat() {\n  setTimeout(() => {\n    wrong.value = input.value = ''\n    wordRepeatCount++\n    inputLock = false\n\n    if (settingStore.wordSound) volumeIconRef.value?.play()\n  }, settingStore.waitTimeForChangeWord)\n}\n\nlet showWordResult = _ref(false)\nlet pressNumber = 0\n\nconst right = _computed(() => {\n  if (settingStore.ignoreCase) {\n    return input.value.toLowerCase() === props.word.word.toLowerCase()\n  } else {\n    return input.value === props.word.word\n  }\n})\n\nlet showNotice = false\n\nfunction know(e) {\n  if (settingStore.wordPracticeType === WordPracticeType.Identify) {\n    if (!showWordResult.value) {\n      inputLock = showWordResult.value = true\n      input.value = props.word.word\n      emit('know')\n      if (!showNotice) {\n        Toast.info($t('know_word_tip'), { duration: 5000 })\n        showNotice = true\n      }\n      return\n    }\n  }\n  onTyping(e)\n}\n\nfunction unknown(e) {\n  if (settingStore.wordPracticeType === WordPracticeType.Identify) {\n    if (!showWordResult.value) {\n      showWordResult.value = true\n      emit('wrong')\n      if (settingStore.wordSound) volumeIconRef.value?.play()\n      return\n    }\n  }\n  onTyping(e)\n}\n\nasync function onTyping(e: KeyboardEvent) {\n  debugger\n  let word = props.word.word\n  // \n  if (inputLock) {\n    //\n    if (e.code === 'Space') {\n      //\n      if (right.value) {\n        clearInterval(jumpTimer)\n        // 300ms\n        if (wordCompletedTime && Date.now() - wordCompletedTime < 300) {\n          return\n        }\n        showWordResult.value = inputLock = false\n        if (shouldRepeat()) {\n          repeat()\n        } else {\n          emit('complete')\n        }\n      } else {\n        if (showWordResult.value) {\n          // \n          pressNumber++\n          if (pressNumber >= 3) {\n            Toast.info($t('press_delete_reinput'), { duration: 2000 })\n            pressNumber = 0\n          }\n        }\n      }\n    } else {\n      //\n      if (right.value) {\n        pressNumber++\n        if (pressNumber >= 3) {\n          Toast.info($t('press_space_continue'), { duration: 2000 })\n          pressNumber = 0\n        }\n      } else {\n        //\n        showWordResult.value = inputLock = false\n        input.value = wrong.value = ''\n        onTyping(e)\n      }\n    }\n    return\n  }\n  inputLock = true\n  let letter = e.key\n  // console.log('letter',letter)\n  //\n  if (settingStore.wordPracticeType === WordPracticeType.Dictation) {\n    if (e.code === 'Space') {\n      ///\n      // inputLock  false inputLock\n      if (input.value.length && (input.value.length >= word.length || !word.includes(' '))) {\n        //\n        if (input.value.toLowerCase() === word.toLowerCase()) {\n          // return\n          if (showWordResult.value) {\n            return emit('complete')\n          } else {\n            // showWordResult  true \n            playCorrect()\n            if (settingStore.wordSound) volumeIconRef.value?.play()\n          }\n        } else {\n          //\n          playBeep()\n          if (settingStore.wordSound) volumeIconRef.value?.play()\n          emit('wrong')\n        }\n        showWordResult.value = true\n        return\n      }\n    }\n    //\n    input.value += letter\n    wrong.value = ''\n    playKeyboardAudio()\n    updateCurrentWordInfo()\n    inputLock = false\n  } else if (settingStore.wordPracticeType === WordPracticeType.Identify && !showWordResult.value) {\n    //12\n    showWordResult.value = true\n    emit('wrong')\n    if (settingStore.wordSound) volumeIconRef.value?.play()\n    inputLock = false\n    onTyping(e)\n  } else {\n    let right = false\n    if (settingStore.ignoreCase) {\n      right = letter.toLowerCase() === word[input.value.length].toLowerCase()\n    } else {\n      right = letter === word[input.value.length]\n    }\n    //\n    if (\n      e.shiftKey &&\n      (('' === word[input.value.length] && e.code === 'Digit1') ||\n        ('' === word[input.value.length] && e.code === 'Digit4') ||\n        ('' === word[input.value.length] && e.code === 'Digit6') ||\n        ('' === word[input.value.length] && e.code === 'Digit9') ||\n        ('' === word[input.value.length] && e.code === 'Minus') ||\n        ('' === word[input.value.length] && e.code === 'Slash') ||\n        ('' === word[input.value.length] && e.code === 'Period') ||\n        ('' === word[input.value.length] && e.code === 'Comma') ||\n        ('' === word[input.value.length] && e.code === 'Quote') ||\n        ('' === word[input.value.length] && e.code === 'Semicolon') ||\n        ('' === word[input.value.length] && e.code === 'Digit0'))\n    ) {\n      right = true\n      letter = word[input.value.length]\n    }\n    if (\n      !e.shiftKey &&\n      (('' === word[input.value.length] && e.code === 'BracketLeft') ||\n        ('' === word[input.value.length] && e.code === 'Slash') ||\n        ('' === word[input.value.length] && e.code === 'Period') ||\n        ('' === word[input.value.length] && e.code === 'Comma') ||\n        ('' === word[input.value.length] && e.code === 'Quote') ||\n        ('' === word[input.value.length] && e.code === 'Semicolon') ||\n        ('' === word[input.value.length] && e.code === 'BracketLeft') ||\n        ('' === word[input.value.length] && e.code === 'BracketRight'))\n    ) {\n      right = true\n      letter = word[input.value.length]\n    }\n    // console.log('e', e, e.code, e.shiftKey, word[input.length])\n\n    if (right) {\n      input.value += letter\n      wrong.value = ''\n      playKeyboardAudio()\n    } else {\n      emit('wrong')\n      wrong.value = letter\n      playBeep()\n      if (settingStore.wordSound) volumeIconRef.value?.play()\n      setTimeout(() => {\n        if (settingStore.inputWrongClear) input.value = ''\n        wrong.value = ''\n      }, 500)\n    }\n    // \n    updateCurrentWordInfo()\n    //inputLockfalse\n    if (input.value.toLowerCase() === word.toLowerCase()) {\n      wordCompletedTime = Date.now() // \n      playCorrect()\n      if (\n        [WordPracticeType.Listen, WordPracticeType.Identify].includes(settingStore.wordPracticeType) &&\n        !showWordResult.value\n      ) {\n        showWordResult.value = true\n      }\n      if ([WordPracticeType.FollowWrite, WordPracticeType.Spell].includes(settingStore.wordPracticeType)) {\n        if (settingStore.autoNextWord) {\n          if (shouldRepeat()) {\n            repeat()\n          } else {\n            jumpTimer = setTimeout(() => emit('complete'), settingStore.waitTimeForChangeWord)\n          }\n        }\n      }\n    } else {\n      inputLock = false\n    }\n  }\n}\n\nfunction shouldRepeat() {\n  if (settingStore.wordPracticeType === WordPracticeType.FollowWrite) {\n    if (settingStore.repeatCount == 100) {\n      return settingStore.repeatCustomCount > wordRepeatCount + 1\n    } else {\n      return settingStore.repeatCount > wordRepeatCount + 1\n    }\n  } else {\n    return false\n  }\n}\n\nfunction del() {\n  playKeyboardAudio()\n  inputLock = false\n  if (showWordResult.value) {\n    input.value = ''\n    showWordResult.value = false\n  } else {\n    if (wrong.value) {\n      wrong.value = ''\n    } else {\n      input.value = input.value.slice(0, -1)\n    }\n  }\n  // \n  updateCurrentWordInfo()\n}\n\nfunction showWord() {\n  if (settingStore.allowWordTip) {\n    if (settingStore.wordPracticeType === WordPracticeType.Dictation || settingStore.dictation) {\n      emit('wrong')\n    }\n    showFullWord.value = true\n    //\n    if (statStore.stage !== WordPracticeStage.FollowWriteNewWord) {\n      emit('wrong')\n    }\n  }\n}\n\nfunction hideWord() {\n  showFullWord.value = false\n}\n\nfunction play() {\n  if (settingStore.wordPracticeType === WordPracticeType.Dictation || settingStore.dictation) {\n    emit('wrong')\n  }\n  volumeIconRef.value?.play()\n}\n\ndefineExpose({ del, showWord, hideWord, play })\n\nfunction mouseleave() {\n  setTimeout(() => {\n    showFullWord.value = false\n  }, 50)\n}\n\n// \nfunction hideWordInTranslation(text: string, word: string): string {\n  if (!text || !word) {\n    return text\n  }\n\n  // \n  const wordBase = word.toLowerCase()\n  const patterns = [\n    `\\\\b${escapeRegExp(wordBase)}\\\\b`, // \n    `\\\\b${escapeRegExp(wordBase)}s\\\\b`, // \n    `\\\\b${escapeRegExp(wordBase)}es\\\\b`, // \n    `\\\\b${escapeRegExp(wordBase)}ed\\\\b`, // \n    `\\\\b${escapeRegExp(wordBase)}ing\\\\b`, // \n  ]\n\n  let result = text\n  patterns.forEach(pattern => {\n    const regex = new RegExp(pattern, 'gi')\n    result = result.replace(regex, match => `<span class=\"word-shadow\">${match}</span>`)\n  })\n\n  return result\n}\n\n// \nfunction escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n\nwatch([() => input.value, () => showFullWord.value, () => settingStore.dictation], checkCursorPosition)\n\n//\nfunction checkCursorPosition() {\n  _nextTick(() => {\n    // \n    const cursorEl = document.querySelector(`.cursor`)\n    const inputList = document.querySelectorAll(`.l`)\n    if (!typingWordRef.value) return\n    const typingWordRect = typingWordRef.value.getBoundingClientRect()\n\n    if (inputList.length) {\n      let inputRect = last(Array.from(inputList)).getBoundingClientRect()\n      cursor.value = {\n        top: inputRect.top + inputRect.height - cursorEl.clientHeight - typingWordRect.top,\n        left: inputRect.right - typingWordRect.left - 3,\n      }\n    } else {\n      const dictation = document.querySelector(`.dictation`)\n      let elRect\n      if (dictation) {\n        elRect = dictation.getBoundingClientRect()\n      } else {\n        const letter = document.querySelector(`.letter`)\n        elRect = letter.getBoundingClientRect()\n      }\n      cursor.value = {\n        top: elRect.top + elRect.height - cursorEl.clientHeight - typingWordRect.top,\n        left: elRect.left - typingWordRect.left - 3,\n      }\n    }\n  })\n}\n\nuseEvents([\n  [ShortcutKey.KnowWord, know],\n  [ShortcutKey.UnknownWord, unknown],\n])\n</script>\n\n<template>\n  <div class=\"typing-word\" ref=\"typingWordRef\" v-if=\"word.word.length\">\n    <div class=\"flex flex-col items-center\">\n      <div class=\"flex gap-1 mt-30\">\n        <div\n          class=\"phonetic\"\n          :class=\"\n            (settingStore.dictation ||\n              [WordPracticeType.Spell, WordPracticeType.Listen, WordPracticeType.Dictation].includes(\n                settingStore.wordPracticeType\n              )) &&\n            !showFullWord &&\n            !showWordResult &&\n            'word-shadow'\n          \"\n          v-if=\"settingStore.soundType === 'uk' && word.phonetic0\"\n        >\n          [{{ word.phonetic0 }}]\n        </div>\n        <div\n          class=\"phonetic\"\n          :class=\"\n            (settingStore.dictation ||\n              [WordPracticeType.Spell, WordPracticeType.Listen, WordPracticeType.Dictation].includes(\n                settingStore.wordPracticeType\n              )) &&\n            !showFullWord &&\n            !showWordResult &&\n            'word-shadow'\n          \"\n          v-if=\"settingStore.soundType === 'us' && word.phonetic1\"\n        >\n          [{{ word.phonetic1 }}]\n        </div>\n        <VolumeIcon\n          :title=\"`(${settingStore.shortcutKeyMap[ShortcutKey.PlayWordPronunciation]})`\"\n          ref=\"volumeIconRef\"\n          :simple=\"true\"\n          :cb=\"() => playWordAudio(word.word)\"\n        />\n      </div>\n\n      <Tooltip\n        :title=\"\n          settingStore.dictation ? ` ${settingStore.shortcutKeyMap[ShortcutKey.ShowWord]} ` : ''\n        \"\n      >\n        <div\n          id=\"word\"\n          class=\"word my-1\"\n          :class=\"wrong && 'is-wrong'\"\n          :style=\"{ fontSize: settingStore.fontSize.wordForeignFontSize + 'px' }\"\n          @mouseenter=\"showWord\"\n          @mouseleave=\"mouseleave\"\n        >\n          <div v-if=\"settingStore.wordPracticeType === WordPracticeType.Dictation\">\n            <div\n              class=\"letter text-align-center w-full inline-block\"\n              v-opacity=\"!settingStore.dictation || showWordResult || showFullWord\"\n            >\n              {{ word.word }}\n            </div>\n            <div\n              class=\"mt-2 w-120 dictation\"\n              :style=\"{ minHeight: settingStore.fontSize.wordForeignFontSize + 'px' }\"\n              :class=\"showWordResult ? (right ? 'right' : 'wrong') : ''\"\n            >\n              <template v-for=\"i in input\">\n                <span class=\"l\" v-if=\"i !== ' '\">{{ i }}</span>\n                <Space class=\"l\" v-else :is-wrong=\"showWordResult ? !right : false\" :is-wait=\"!showWordResult\" />\n              </template>\n            </div>\n          </div>\n          <template v-else>\n            <span class=\"input\" v-if=\"input\">{{ input }}</span>\n            <span class=\"wrong\" v-if=\"wrong\">{{ wrong }}</span>\n            <span class=\"letter\" v-if=\"settingStore.dictation && !showFullWord\">\n              {{\n                displayWord\n                  .split('')\n                  .map(v => (v === ' ' ? '&nbsp;' : '_'))\n                  .join('')\n              }}\n            </span>\n            <span class=\"letter\" v-else>{{ displayWord }}</span>\n          </template>\n        </div>\n      </Tooltip>\n\n      <div\n        class=\"mt-4 flex gap-4\"\n        v-if=\"settingStore.wordPracticeType === WordPracticeType.Identify && !showWordResult\"\n      >\n        <BaseButton\n          :keyboard=\"`${$t('shortcut')}(${settingStore.shortcutKeyMap[ShortcutKey.KnowWord]})`\"\n          size=\"large\"\n          @click=\"know\"\n          >{{ $t('i_know') }}\n        </BaseButton>\n        <BaseButton\n          :keyboard=\"`${$t('shortcut')}(${settingStore.shortcutKeyMap[ShortcutKey.UnknownWord]})`\"\n          size=\"large\"\n          @click=\"unknown\"\n          >{{ $t('i_dont_know') }}\n        </BaseButton>\n      </div>\n\n      <div\n        class=\"translate flex flex-col gap-2 my-3\"\n        v-opacity=\"settingStore.translate || showWordResult || showFullWord\"\n        :style=\"{\n          fontSize: settingStore.fontSize.wordTranslateFontSize + 'px',\n        }\"\n      >\n        <div class=\"flex\" v-for=\"v in word.trans\">\n          <div class=\"shrink-0\" :class=\"v.pos ? 'w-12 en-article-family' : '-ml-3'\">\n            {{ v.pos }}\n          </div>\n          <span v-if=\"!settingStore.dictation || showWordResult || showFullWord\">{{ v.cn }}</span>\n          <span v-else v-html=\"hideWordInTranslation(v.cn, word.word)\"></span>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"other anim\"\n      v-opacity=\"\n        ![WordPracticeType.Listen, WordPracticeType.Dictation, WordPracticeType.Identify].includes(\n          settingStore.wordPracticeType\n        ) ||\n        showFullWord ||\n        showWordResult\n      \"\n    >\n      <div class=\"line-white my-3\"></div>\n      <template v-if=\"word?.sentences?.length\">\n        <div class=\"flex flex-col gap-3\">\n          <div class=\"sentence\" v-for=\"item in word.sentences\">\n            <div class=\"flex gap-space\">\n              <SentenceHightLightWord\n                class=\"text-xl\"\n                :text=\"item.c\"\n                :word=\"word.word\"\n                :dictation=\"!(!settingStore.dictation || showFullWord || showWordResult)\"\n              />\n              <VolumeIcon :title=\"``\" :simple=\"false\" @click=\"ttsPlayAudio(item.c)\" />\n            </div>\n            <div class=\"text-base anim\" v-opacity=\"settingStore.translate || showFullWord || showWordResult\">\n              {{ item.cn }}\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <template v-if=\"word?.phrases?.length\">\n        <div class=\"line-white my-3\"></div>\n        <div class=\"flex\">\n          <div class=\"label\">{{ $t('phrases') }}</div>\n          <div class=\"flex flex-col\">\n            <div class=\"flex items-center gap-4\" v-for=\"item in word.phrases\">\n              <SentenceHightLightWord\n                class=\"en\"\n                :text=\"item.c\"\n                :word=\"word.word\"\n                :dictation=\"!(!settingStore.dictation || showFullWord || showWordResult)\"\n              />\n              <div class=\"cn anim\" v-opacity=\"settingStore.translate || showFullWord || showWordResult\">\n                {{ item.cn }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <template v-if=\"settingStore.translate || !settingStore.dictation\">\n        <template v-if=\"word?.synos?.length\">\n          <div class=\"line-white my-3\"></div>\n          <div class=\"flex\">\n            <div class=\"label\">{{ $t('synonyms') }}</div>\n            <div class=\"flex flex-col gap-3\">\n              <div class=\"flex\" v-for=\"item in word.synos\">\n                <div class=\"pos line-height-1.4rem!\">{{ item.pos }}</div>\n                <div>\n                  <div class=\"cn anim\" v-opacity=\"settingStore.translate || showFullWord || showWordResult\">\n                    {{ item.cn }}\n                  </div>\n                  <div class=\"anim\" v-opacity=\"!settingStore.dictation || showFullWord || showWordResult\">\n                    <span class=\"en\" v-for=\"(i, j) in item.ws\">\n                      {{ i }} {{ j !== item.ws.length - 1 ? ' / ' : '' }}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </template>\n\n      <div\n        class=\"anim\"\n        v-opacity=\"(settingStore.translate && !settingStore.dictation) || showFullWord || showWordResult\"\n      >\n        <template v-if=\"word?.etymology?.length\">\n          <div class=\"line-white my-3\"></div>\n\n          <div class=\"flex\">\n            <div class=\"label\">{{ $t('etymology') }}</div>\n            <div class=\"text-base\">\n              <div class=\"mb-2\" v-for=\"item in word.etymology\">\n                <div class=\"\">{{ item.t }}</div>\n                <div class=\"\">{{ item.d }}</div>\n              </div>\n            </div>\n          </div>\n          <!--        <div class=\"line-white my-2\"></div>-->\n        </template>\n\n        <template v-if=\"word?.relWords?.root && false\">\n          <div class=\"flex\">\n            <div class=\"label\">{{ $t('related_words') }}</div>\n            <div class=\"flex flex-col gap-3\">\n              <div v-if=\"word.relWords.root\" class=\" \">\n                {{ $t('word_root') }}<span class=\"en\">{{ word.relWords.root }}</span>\n              </div>\n              <div class=\"flex\" v-for=\"item in word.relWords.rels\">\n                <div class=\"pos\">{{ item.pos }}</div>\n                <div>\n                  <div class=\"flex items-center gap-4\" v-for=\"itemj in item.words\">\n                    <div class=\"en\">{{ itemj.c }}</div>\n                    <div class=\"cn\">{{ itemj.cn }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n    <div\n      class=\"cursor\"\n      :style=\"{\n        top: cursor.top + 'px',\n        left: cursor.left + 'px',\n        height: settingStore.fontSize.wordForeignFontSize + 'px',\n      }\"\n    ></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.dictation {\n  border-bottom: 2px solid gray;\n}\n\n.typing-word {\n  width: 100%;\n  flex: 1;\n  //overflow: auto;\n  word-break: break-word;\n  position: relative;\n  color: var(--color-font-2);\n\n  .phonetic,\n  .translate {\n    font-size: 1.2rem;\n  }\n\n  .phonetic {\n    color: var(--color-font-1);\n    font-family: var(--word-font-family);\n  }\n\n  .word {\n    font-size: 3rem;\n    line-height: 1;\n    font-family: var(--en-article-family);\n    letter-spacing: 0.3rem;\n\n    .input,\n    .right {\n      color: rgb(22, 163, 74);\n    }\n\n    .wrong {\n      color: rgba(red, 0.6);\n    }\n\n    &.is-wrong {\n      animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n    }\n  }\n\n  .tabs {\n    @apply: text-lg font-medium;\n    display: flex;\n    gap: 2rem;\n\n    .tab {\n      cursor: pointer;\n\n      &.active {\n        border-bottom: 2px solid var(--color-font-2);\n      }\n    }\n  }\n\n  .label {\n    width: 6rem;\n    padding-top: 0.2rem;\n    flex-shrink: 0;\n  }\n\n  .cn {\n    @apply text-base;\n  }\n\n  .en {\n    @apply text-lg;\n  }\n\n  .pos {\n    font-family: var(--en-article-family);\n    @apply text-lg w-12;\n  }\n}\n\n// \n@media (max-width: 768px) {\n  .typing-word {\n    padding: 0 0.5rem 12rem;\n\n    .word {\n      font-size: 2rem !important;\n      letter-spacing: 0.1rem;\n      margin: 0.5rem 0;\n    }\n\n    .phonetic,\n    .translate {\n      font-size: 1rem;\n    }\n\n    .label {\n      width: 4rem;\n      font-size: 0.9rem;\n    }\n\n    .cn {\n      font-size: 0.9rem;\n    }\n\n    .en {\n      font-size: 1rem;\n    }\n\n    .pos {\n      font-size: 0.9rem;\n      width: 3rem;\n    }\n\n    // \n    .flex.gap-4 {\n      flex-direction: column;\n      width: 100%;\n      gap: 0.5rem;\n      position: relative;\n      z-index: 10; // \n\n      .base-button {\n        width: 100%;\n        min-height: 48px;\n        padding: 0.8rem;\n        font-size: 1.1rem;\n        font-weight: 500;\n        cursor: pointer;\n      }\n    }\n\n    // \n    .phrase-section,\n    .sentence {\n      position: relative;\n      z-index: auto;\n    }\n\n    // \n    .sentence,\n    .phrase {\n      font-size: 0.9rem;\n      line-height: 1.4;\n      margin-bottom: 0.5rem;\n      pointer-events: auto; // \n    }\n\n    // \n    .flex.items-center.gap-4 {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 0.2rem;\n    }\n  }\n}\n\n// \n@media (max-width: 480px) {\n  .typing-word {\n    padding: 0 0.3rem 12rem;\n\n    .word {\n      font-size: 1.5rem !important;\n      letter-spacing: 0.05rem;\n      margin: 0.3rem 0;\n    }\n\n    .phonetic,\n    .translate {\n      font-size: 0.9rem;\n    }\n\n    .label {\n      width: 3rem;\n      font-size: 0.8rem;\n    }\n\n    .cn {\n      font-size: 0.8rem;\n    }\n\n    .en {\n      font-size: 0.9rem;\n    }\n\n    .pos {\n      font-size: 0.8rem;\n      width: 2.5rem;\n    }\n\n    .sentence {\n      font-size: 0.8rem;\n      line-height: 1.3;\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref, computed, watch, nextTick } from 'vue'\nimport RadioGroup from '~/components/base/radio/RadioGroup.vue'\nimport Radio from '~/components/base/radio/Radio.vue'\nimport { useBaseStore } from '~/stores/base.ts'\nconst store = useBaseStore()\n\nconst isVisible = ref(false)\nconst scrollContainer = ref<HTMLElement | null>(null)\nconst itemRefs = ref<(HTMLElement | null)[]>([])\n\n// \nconst getGroupWordCount = (groupIndex: number) => {\n  const totalLength = store.sdict.length\n  const perDay = store.sdict.perDayStudyNumber\n  const totalGroups = store.groupLength\n\n  // \n  if (groupIndex === totalGroups && totalLength % perDay !== 0) {\n    return totalLength % perDay\n  }\n  return perDay\n}\n\nconst handleMouseEnter = () => {\n  isVisible.value = true\n}\n\nconst handleMouseLeave = () => {\n  isVisible.value = false\n}\n\n// item\nwatch(isVisible, async newVal => {\n  if (newVal) {\n    // DOM\n    await nextTick()\n    // \n    const currentIndex = store.currentGroup - 1 // currentGroup1-based0-based\n    const targetItem = itemRefs.value[currentIndex]\n    const container = scrollContainer.value\n\n    if (targetItem && container) {\n      // item\n      const itemTop = targetItem.offsetTop\n      const itemHeight = targetItem.offsetHeight\n      const containerHeight = container.clientHeight\n\n      // item\n      container.scrollTo({\n        top: itemTop - containerHeight / 2 + itemHeight / 2,\n      })\n    }\n  }\n})\n\nconst setItemRef = (el: HTMLElement | null, index: number) => {\n  if (el) {\n    itemRefs.value[index] = el\n  }\n}\n\nconst emit = defineEmits([\"click\"])\n</script>\n\n<template>\n  <div class=\"relative z-999\" @mouseenter=\"handleMouseEnter\" @mouseleave=\"handleMouseLeave\">\n    <div\n      class=\"pt-2 left-1/2 -transform-translate-x-1/2 absolute z-999 top-full transition-all duration-300\"\n      :class=\"{\n        'opacity-0 scale-95 pointer-events-none': !isVisible,\n        'opacity-100 scale-100 pointer-events-auto': isVisible,\n      }\"\n    >\n      <RadioGroup :model-value=\"store.currentGroup\">\n        <div class=\"card-white\">\n          <div ref=\"scrollContainer\" class=\"max-h-70 overflow-y-auto space-y-2\">\n            <div\n              :ref=\"el => setItemRef(el as HTMLElement, value - 1)\"\n              class=\"break-keep flex bg-primary px-3 py-1 rounded-md hover:bg-card-active anim border border-solid border-item\"\n              :class=\"{\n                'bg-card-active!': value === store.currentGroup,\n              }\"\n              @click=\"emit('click', value)\"\n              v-for=\"(value) in store.groupLength\"\n              :key=\"value\"\n            >\n              <Radio :value=\"value\" :label=\"`${value}`\" />\n              <span class=\"text-sm ml-2\">{{ getGroupWordCount(value) }}</span>\n            </div>\n          </div>\n        </div>\n      </RadioGroup>\n    </div>\n    <div class=\"target\">{{ store.currentGroup }}</div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.target {\n  padding: 0.2rem 0.5rem;\n  border-radius: 0.3rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  text-decoration: underline dashed gray;\n  text-decoration-thickness: 2px;\n  text-underline-offset: 0.3rem;\n  &:hover {\n    text-decoration: underline dashed transparent;\n    color: white;\n    background: var(--color-icon-hightlight);\n  }\n}\n</style>\n","<script lang=\"ts\">\nconst groupSize = 7\n</script>\n<script setup lang=\"ts\">import { ref as _ref, computed as _computed } from 'vue';\n\nimport { onMounted, onUnmounted, provide, watch } from 'vue'\nimport Statistics from '~/components/word/Statistics.vue'\nimport { emitter, EventKey, useEvents } from '@/utils/eventBus.ts'\nimport { useSettingStore } from '@/stores/setting.ts'\nimport { useRuntimeStore } from '@/stores/runtime.ts'\nimport type { Dict, PracticeData, TaskWords, Word } from '@/types/types.ts'\nimport { useDisableEventListener, useOnKeyboardEventListener, useStartKeyboardEventListener } from '@/hooks/event.ts'\nimport useTheme from '@/hooks/theme.ts'\nimport { getCurrentStudyWord, useWordOptions } from '@/hooks/dict.ts'\nimport { _getDictDataByUrl, _nextTick, cloneDeep, isMobile, loadJsLib, resourceWrap, shuffle } from '@/utils'\nimport { useRoute, useRouter } from 'vue-router'\nimport Footer from '~/components/word/Footer.vue'\nimport Panel from '@/components/Panel.vue'\nimport BaseIcon from '@/components/BaseIcon.vue'\nimport Tooltip from '@/components/base/Tooltip.vue'\nimport WordList from '@/components/list/WordList.vue'\nimport TypeWord from '~/components/word/TypeWord.vue'\nimport Empty from '@/components/Empty.vue'\nimport { useBaseStore } from '@/stores/base.ts'\nimport { usePracticeStore } from '@/stores/practice.ts'\nimport Toast from '@/components/base/toast/Toast.ts'\nimport { getDefaultDict, getDefaultWord } from '@/types/func.ts'\nimport ConflictNotice from '@/components/ConflictNotice.vue'\nimport PracticeLayout from '@/components/PracticeLayout.vue'\n\nimport { AppEnv, DICT_LIST, IS_DEV, LIB_JS_URL, TourConfig, WordPracticeModeStageMap } from '@/config/env.ts'\nimport type { ToastInstance } from '@/components/base/toast/type.ts'\nimport { watchOnce } from '@vueuse/core'\nimport { setUserDictProp } from '@/apis'\nimport GroupList from '~/components/word/GroupList.vue'\nimport { getPracticeWordCache, setPracticeWordCache } from '@/utils/cache.ts'\nimport { ShortcutKey, WordPracticeMode, WordPracticeStage, WordPracticeType } from '@/types/enum.ts'\n\nconst { isWordCollect, toggleWordCollect, isWordSimple, toggleWordSimple } = useWordOptions()\nconst settingStore = useSettingStore()\nconst runtimeStore = useRuntimeStore()\nconst { toggleTheme } = useTheme()\nconst router = useRouter()\nconst route = useRoute()\nconst store = useBaseStore()\nconst statStore = usePracticeStore()\nconst typingRef: any = _ref()\nlet showConflictNotice = _ref(false)\nlet allWrongWords = new Set()\nlet showStatDialog = _ref(false)\nlet loading = _ref(false)\nlet timer = _ref(0)\nlet isFocus = true\nlet isRestore = false\nlet taskWords = _ref<TaskWords>({\n  new: [],\n  review: [],\n  write: [],\n  shuffle: [],\n})\n\nlet data = _ref<PracticeData>({\n  index: 0,\n  words: [],\n  wrongWords: [],\n  excludeWords: [],\n  isTypingWrongWord: false,\n})\n\nprovide('practiceData', data.value)\nprovide('practiceTaskWords', taskWords.value)\n\nasync function loadDict() {\n  // console.log('load')\n  let dict = getDefaultDict()\n  let dictId = route.params.id\n  if (dictId) {\n    //\n    dict = store.word.bookList.find(v => v.id === dictId)\n    let r = await fetch(resourceWrap(DICT_LIST.WORD.ALL))\n    let dict_list = await r.json()\n    if (!dict) dict = dict_list.flat().find(v => v.id === dictId) as Dict\n    if (dict && dict.id) {\n      //\n      if (!dict.custom) dict = await _getDictDataByUrl(dict)\n      if (!dict.words.length) {\n        router.push('/words')\n        return Toast.warning('')\n      }\n      store.changeDict(dict)\n      initData(getCurrentStudyWord(), true)\n      loading.value = false\n    } else {\n      router.push('/words')\n    }\n  } else {\n    router.push('/words')\n  }\n}\n\nwatch(\n  [() => store.load, () => loading.value],\n  ([a, b]) => {\n    if (a && b) loadDict()\n  },\n  { immediate: true }\n)\n\nonMounted(() => {\n  //\n  if (runtimeStore.routeData) {\n    initData(runtimeStore.routeData.taskWords, true, runtimeStore.routeData.practiceMode)\n  } else {\n    loading.value = true\n  }\n  if (route.query.guide) {\n    showConflictNotice.value = false\n  } else {\n    showConflictNotice.value = true\n  }\n  document.addEventListener('visibilitychange', () => {\n    isFocus = !document.hidden\n  })\n})\n\nonUnmounted(() => {\n  let cache = getPracticeWordCache()\n  if (cache) {\n    savePracticeData()\n  }\n  timer.value && clearInterval(timer.value)\n})\n\nwatchOnce(\n  () => data.value.words.length,\n  (newVal, oldVal) => {\n    //\n    if (!oldVal && newVal) {\n      _nextTick(async () => {\n        const Shepherd = await loadJsLib('Shepherd', LIB_JS_URL.SHEPHERD)\n        const tour = new Shepherd.Tour(TourConfig)\n        tour.on('cancel', () => {\n          localStorage.setItem('tour-guide', '1')\n        })\n        tour.addStep({\n          id: 'step5',\n          text: '',\n          attachTo: { element: '#word', on: 'bottom' },\n          buttons: [\n            {\n              text: `5/${TourConfig.total}`,\n              action: tour.next,\n            },\n          ],\n        })\n\n        tour.addStep({\n          id: 'step6',\n          text: '',\n          attachTo: { element: '#article', on: 'top' },\n          buttons: [\n            {\n              text: `6/${TourConfig.total}`,\n              action() {\n                tour.next()\n                router.push('/articles')\n              },\n            },\n          ],\n        })\n\n        const r = localStorage.getItem('tour-guide')\n        if (settingStore.first && !r && !isMobile()) {\n          tour.start()\n        }\n      }, 500)\n    }\n  }\n)\n\nuseStartKeyboardEventListener()\nuseDisableEventListener(() => loading.value)\n\nfunction initData(initVal: TaskWords, init: boolean = false) {\n  let d = getPracticeWordCache()\n  //\n  if (d && init) {\n    taskWords.value = Object.assign(taskWords.value, d.taskWords)\n    //provideinject\n    data.value = Object.assign(data.value, d.practiceData)\n    statStore.$patch(d.statStoreData)\n  } else {\n    // taskWords = initVal\n    // inject \n    taskWords.value = Object.assign(taskWords.value, initVal)\n\n    if (settingStore.wordPracticeMode === WordPracticeMode.Shuffle) {\n      settingStore.wordPracticeType = WordPracticeType.Dictation\n      data.value.words = taskWords.value.shuffle\n      statStore.stage = WordPracticeStage.Shuffle\n      statStore.total = taskWords.value.shuffle.length\n      statStore.newWordNumber = 0\n      statStore.reviewWordNumber = 0\n      statStore.writeWordNumber = statStore.total\n    } else if (settingStore.wordPracticeMode === WordPracticeMode.Review) {\n      if (taskWords.value.review.length) {\n        data.value.words = taskWords.value.review\n        statStore.stage = WordPracticeStage.IdentifyReview\n      } else if (taskWords.value.write.length) {\n        data.value.words = taskWords.value.write\n        statStore.stage = WordPracticeStage.IdentifyReviewAll\n      }\n      statStore.total = taskWords.value.review.length + taskWords.value.write.length\n      statStore.newWordNumber = 0\n      statStore.reviewWordNumber = taskWords.value.review.length\n      statStore.writeWordNumber = taskWords.value.write.length\n    } else {\n      if (taskWords.value.new.length === 0) {\n        if (taskWords.value.review.length) {\n          data.value.words = taskWords.value.review\n          if (settingStore.wordPracticeMode === WordPracticeMode.System) {\n            statStore.stage = WordPracticeStage.IdentifyReview\n          } else if (settingStore.wordPracticeMode === WordPracticeMode.Free) {\n            statStore.stage = WordPracticeModeStageMap[settingStore.wordPracticeMode][0]\n          } else if (settingStore.wordPracticeMode === WordPracticeMode.IdentifyOnly) {\n            statStore.stage = WordPracticeStage.IdentifyReview\n          } else if (settingStore.wordPracticeMode === WordPracticeMode.DictationOnly) {\n            statStore.stage = WordPracticeStage.DictationReview\n          } else if (settingStore.wordPracticeMode === WordPracticeMode.ListenOnly) {\n            statStore.stage = WordPracticeStage.ListenReview\n          }\n        } else {\n          if (taskWords.value.write.length) {\n            data.value.words = taskWords.value.write\n            if (settingStore.wordPracticeMode === WordPracticeMode.System) {\n              statStore.stage = WordPracticeStage.IdentifyReviewAll\n            } else if (settingStore.wordPracticeMode === WordPracticeMode.Free) {\n              statStore.stage = WordPracticeModeStageMap[settingStore.wordPracticeMode][0]\n            } else if (settingStore.wordPracticeMode === WordPracticeMode.IdentifyOnly) {\n              statStore.stage = WordPracticeStage.IdentifyReviewAll\n            } else if (settingStore.wordPracticeMode === WordPracticeMode.DictationOnly) {\n              statStore.stage = WordPracticeStage.DictationReviewAll\n            } else if (settingStore.wordPracticeMode === WordPracticeMode.ListenOnly) {\n              statStore.stage = WordPracticeStage.ListenReviewAll\n            }\n          } else {\n            Toast.warning('')\n            router.push('/words')\n          }\n        }\n      } else {\n        data.value.words = taskWords.value.new\n        statStore.stage = WordPracticeModeStageMap[settingStore.wordPracticeMode][0]\n      }\n      statStore.total = taskWords.value.review.length + taskWords.value.new.length + taskWords.value.write.length\n      statStore.newWordNumber = taskWords.value.new.length\n      statStore.reviewWordNumber = taskWords.value.review.length\n      statStore.writeWordNumber = taskWords.value.write.length\n    }\n\n    data.value.index = 0\n    data.value.wrongWords = []\n    data.value.excludeWords = []\n    allWrongWords.clear()\n    statStore.startDate = Date.now()\n    statStore.inputWordNumber = 0\n    statStore.wrong = 0\n    statStore.spend = 0\n    data.value.isTypingWrongWord = false\n\n    //\n    watchStage(statStore.stage)\n    watchPracticeType(settingStore.wordPracticeType)\n  }\n  clearInterval(timer.value)\n  timer.value = setInterval(() => {\n    if (isFocus) {\n      statStore.spend += 1000\n    }\n  }, 1000)\n}\n\nconst word = _computed<Word>(() => {\n  return data.value.words[data.value.index] ?? getDefaultWord()\n})\nconst prevWord: Word = _computed(() => {\n  return data.value.words?.[data.value.index - 1] ?? undefined\n})\nconst nextWord: Word = _computed(() => {\n  return data.value.words?.[data.value.index + 1] ?? undefined\n})\n\nfunction watchStage(n: WordPracticeStage) {\n  switch (n) {\n    case WordPracticeStage.DictationNewWord:\n    case WordPracticeStage.DictationReview:\n    case WordPracticeStage.DictationReviewAll:\n    case WordPracticeStage.Shuffle:\n      settingStore.wordPracticeType = WordPracticeType.Dictation\n      break\n    case WordPracticeStage.ListenNewWord:\n    case WordPracticeStage.ListenReview:\n    case WordPracticeStage.ListenReviewAll:\n      settingStore.wordPracticeType = WordPracticeType.Listen\n      break\n    case WordPracticeStage.FollowWriteNewWord:\n    case WordPracticeStage.FollowWriteReview:\n    case WordPracticeStage.FollowWriteReviewAll:\n      settingStore.wordPracticeType = WordPracticeType.FollowWrite\n      break\n    case WordPracticeStage.IdentifyNewWord:\n    case WordPracticeStage.IdentifyReview:\n    case WordPracticeStage.IdentifyReviewAll:\n      settingStore.wordPracticeType = WordPracticeType.Identify\n      break\n  }\n}\n\nfunction watchPracticeType(n: WordPracticeType) {\n  if (settingStore.wordPracticeMode === WordPracticeMode.Free) return\n  switch (n) {\n    case WordPracticeType.Spell:\n    case WordPracticeType.Dictation:\n      settingStore.dictation = true\n      settingStore.translate = true\n      break\n    case WordPracticeType.Listen:\n      settingStore.dictation = true\n      settingStore.translate = false\n      break\n    case WordPracticeType.FollowWrite:\n      settingStore.dictation = false\n      settingStore.translate = true\n      break\n    case WordPracticeType.Identify:\n      settingStore.dictation = false\n      settingStore.translate = false\n      break\n  }\n}\n\n//\nwatch(\n  () => statStore.stage,\n  (n: WordPracticeStage) => {\n    watchStage(n)\n  }\n)\n\nwatch(\n  () => settingStore.wordPracticeType,\n  (n: WordPracticeType) => {\n    watchPracticeType(n)\n  }\n)\n\n\n\nfunction wordLoop() {\n  // \n  if (settingStore.wordPracticeType === WordPracticeType.FollowWrite) {\n    data.value.index++\n    // \n    if (data.value.index % groupSize === 0) {\n      settingStore.wordPracticeType = WordPracticeType.Spell\n      data.value.index -= groupSize // \n    }\n  } else {\n    // \n    data.value.index++\n    // \n    if (data.value.index % groupSize === 0) {\n      settingStore.wordPracticeType = WordPracticeType.FollowWrite\n    }\n  }\n}\n\nlet toastInstance: ToastInstance = null\n\nfunction nextStage(originList: Word[], log: string = '', toast: boolean = false) {\n  //\n  let list = originList.filter(v => !data.value.excludeWords.includes(v.word))\n  console.log(log)\n  statStore.stage = statStore.nextStage\n  if (list.length) {\n    if (toast) {\n      if (toastInstance) toastInstance.close()\n      toastInstance = Toast.info('', { duration: 5000 })\n    }\n    data.value.words = list\n    data.value.index = 0\n  } else {\n    console.log(log + ':')\n    next(false)\n  }\n}\n\nasync function next(isTyping: boolean = true) {\n  debugger\n  const complete = () => {\n    console.log('')\n    showStatDialog.value = true\n    clearInterval(timer.value)\n    setTimeout(() => setPracticeWordCache(null), 300)\n  }\n\n  if (isTyping) statStore.inputWordNumber++\n  if (settingStore.wordPracticeMode === WordPracticeMode.Free) {\n    if (data.value.index === data.value.words.length - 1) {\n      data.value.wrongWords = data.value.wrongWords.filter(v => !data.value.excludeWords.includes(v.word))\n      if (data.value.wrongWords.length) {\n        data.value.isTypingWrongWord = true\n        settingStore.wordPracticeType = WordPracticeType.FollowWrite\n        console.log('')\n        data.value.words = shuffle(cloneDeep(data.value.wrongWords))\n        data.value.index = 0\n        data.value.wrongWords = []\n      } else {\n        data.value.isTypingWrongWord = false\n        complete()\n      }\n    } else {\n      data.value.index++\n    }\n  } else {\n    if (data.value.index === data.value.words.length - 1) {\n      //\n      if (\n        (statStore.stage === WordPracticeStage.FollowWriteNewWord || data.value.isTypingWrongWord) &&\n        !(IS_DEV && !isTyping)\n      ) {\n        if (settingStore.wordPracticeType !== WordPracticeType.Spell) {\n          //\n          data.value.index = Math.floor(data.value.index / groupSize) * groupSize\n          emitter.emit(EventKey.resetWord)\n          settingStore.wordPracticeType = WordPracticeType.Spell\n          //\n          if (isWordSimple(word.value)) next(false)\n          return\n        }\n      }\n      data.value.wrongWords = data.value.wrongWords.filter(v => !data.value.excludeWords.includes(v.word))\n      if (data.value.wrongWords.length) {\n        data.value.isTypingWrongWord = true\n        settingStore.wordPracticeType = WordPracticeType.FollowWrite\n        console.log('')\n        data.value.words = shuffle(cloneDeep(data.value.wrongWords))\n        data.value.index = 0\n        data.value.wrongWords = []\n      } else {\n        data.value.isTypingWrongWord = false\n        console.log('', statStore.total, statStore.stage, data.value.index)\n\n        if (settingStore.wordPracticeMode === WordPracticeMode.System) {\n          if (statStore.stage === WordPracticeStage.FollowWriteNewWord) {\n            nextStage(shuffle(taskWords.value.new), '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenNewWord) {\n            nextStage(shuffle(taskWords.value.new), '')\n          } else if (statStore.stage === WordPracticeStage.DictationNewWord) {\n            nextStage(taskWords.value.review, '')\n          } else if (statStore.stage === WordPracticeStage.IdentifyReview) {\n            nextStage(shuffle(taskWords.value.review), '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenReview) {\n            nextStage(shuffle(taskWords.value.review), '')\n          } else if (statStore.stage === WordPracticeStage.DictationReview) {\n            nextStage(taskWords.value.write, '')\n          } else if (statStore.stage === WordPracticeStage.IdentifyReviewAll) {\n            nextStage(shuffle(taskWords.value.write), '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenReviewAll) {\n            nextStage(shuffle(taskWords.value.write), '')\n          } else if (statStore.stage === WordPracticeStage.DictationReviewAll) {\n            complete()\n          }\n        } else if (settingStore.wordPracticeMode === WordPracticeMode.ListenOnly) {\n          if (statStore.stage === WordPracticeStage.ListenNewWord) {\n            nextStage(taskWords.value.review, '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenReview) {\n            nextStage(taskWords.value.write, '')\n          } else if (statStore.stage === WordPracticeStage.ListenReviewAll) complete()\n        } else if (settingStore.wordPracticeMode === WordPracticeMode.DictationOnly) {\n          if (statStore.stage === WordPracticeStage.DictationNewWord) {\n            nextStage(taskWords.value.review, '', true)\n          } else if (statStore.stage === WordPracticeStage.DictationReview) {\n            nextStage(taskWords.value.write, '')\n          } else if (statStore.stage === WordPracticeStage.DictationReviewAll) complete()\n        } else if (settingStore.wordPracticeMode === WordPracticeMode.IdentifyOnly) {\n          if (statStore.stage === WordPracticeStage.IdentifyNewWord) {\n            nextStage(taskWords.value.review, '')\n          } else if (statStore.stage === WordPracticeStage.IdentifyReview) {\n            nextStage(taskWords.value.write, '')\n          } else if (statStore.stage === WordPracticeStage.IdentifyReviewAll) complete()\n        } else if (settingStore.wordPracticeMode === WordPracticeMode.Shuffle) {\n          if (statStore.stage === WordPracticeStage.Shuffle) complete()\n        } else if (settingStore.wordPracticeMode === WordPracticeMode.Review) {\n          if (statStore.stage === WordPracticeStage.IdentifyReview) {\n            nextStage(shuffle(taskWords.value.review), '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenReview) {\n            nextStage(shuffle(taskWords.value.review), '')\n          } else if (statStore.stage === WordPracticeStage.DictationReview) {\n            nextStage(taskWords.value.write, '')\n          } else if (statStore.stage === WordPracticeStage.IdentifyReviewAll) {\n            nextStage(shuffle(taskWords.value.write), '', true)\n          } else if (statStore.stage === WordPracticeStage.ListenReviewAll) {\n            nextStage(shuffle(taskWords.value.write), '')\n          } else if (statStore.stage === WordPracticeStage.DictationReviewAll) complete()\n        }\n      }\n    } else {\n      if (statStore.stage === WordPracticeStage.FollowWriteNewWord) {\n        wordLoop()\n      } else {\n        if (data.value.isTypingWrongWord) wordLoop()\n        else data.value.index++\n      }\n    }\n  }\n  //\n  if (isWordSimple(word.value)) next(false)\n}\n\nfunction skipStep() {\n  data.value.index = data.value.words.length - 1\n  data.value.wrongWords = []\n  next(false)\n}\n\nfunction onWordKnow() {\n  //\n  let rIndex = data.value.excludeWords.findIndex(v => v === word.value.word)\n  if (rIndex < 0) {\n    data.value.excludeWords.push(word.value.word)\n  }\n}\n\nfunction onTypeWrong() {\n  let temp = word.value.word.toLowerCase()\n  if (!allWrongWords.has(word.value.word.toLowerCase())) {\n    allWrongWords.add(word.value.word.toLowerCase())\n    statStore.wrong++\n  }\n  if (!store.wrong.words.find((v: Word) => v.word.toLowerCase() === temp)) {\n    store.wrong.words.push(word.value)\n    store.wrong.length = store.wrong.words.length\n  }\n  if (!data.value.wrongWords.find((v: Word) => v.word.toLowerCase() === temp)) {\n    data.value.wrongWords.push(word.value)\n  }\n  savePracticeData()\n}\n\nfunction savePracticeData() {\n  setPracticeWordCache({\n    taskWords: taskWords.value,\n    practiceData: data.value,\n    statStoreData: statStore.$state,\n  })\n}\n\nwatch(() => data.value.index, savePracticeData)\n\nfunction onKeyUp(e: KeyboardEvent) {\n  // console.log('onKeyUp', e)\n  typingRef.value.hideWord()\n}\n\nfunction onKeyDown(e: KeyboardEvent) {\n  // console.log('onKeyDown', e)\n  switch (e.key) {\n    case 'Backspace':\n      typingRef.value.del()\n      break\n  }\n}\n\nuseOnKeyboardEventListener(onKeyDown, onKeyUp)\n\nfunction repeat() {\n  console.log('')\n  setPracticeWordCache(null)\n  let temp = cloneDeep(taskWords.value)\n  let ignoreList = [store.allIgnoreWords, store.knownWords][settingStore.ignoreSimpleWord ? 0 : 1]\n  //\n  if (settingStore.wordPracticeMode === WordPracticeMode.Shuffle) {\n    temp.shuffle = shuffle(temp.shuffle.filter(v => !ignoreList.includes(v.word)))\n  } else {\n    //\n    store.sdict.lastLearnIndex = store.sdict.lastLearnIndex - statStore.newWordNumber\n    //\n    temp.new = temp.new.filter(v => !ignoreList.includes(v.word))\n    temp.review = temp.review.filter(v => !ignoreList.includes(v.word))\n    temp.write = temp.write.filter(v => !ignoreList.includes(v.word))\n  }\n  emitter.emit(EventKey.resetWord)\n  initData(temp)\n}\n\nfunction prev() {\n  if (data.value.index === 0) {\n    Toast.warning('~')\n  } else {\n    data.value.index--\n  }\n}\n\nfunction skip(e: KeyboardEvent) {\n  next(false)\n  // e.preventDefault()\n}\n\nfunction show(e: KeyboardEvent) {\n  if (![WordPracticeType.FollowWrite].includes(settingStore.wordPracticeType)) onTypeWrong()\n  typingRef.value.showWord()\n}\n\nfunction collect(e: KeyboardEvent) {\n  toggleWordCollect(word.value)\n}\n\nfunction play() {\n  typingRef.value.play()\n}\n\nfunction toggleWordSimpleWrapper() {\n  if (!isWordSimple(word.value)) {\n    //\n    setTimeout(() => next(false))\n  }\n  let rIndex = data.value.excludeWords.findIndex(v => v === word.value.word)\n  if (rIndex > -1) {\n    data.value.excludeWords.splice(rIndex, 1)\n  } else {\n    data.value.excludeWords.push(word.value.word)\n  }\n  toggleWordSimple(word.value)\n}\n\nfunction toggleTranslate() {\n  settingStore.translate = !settingStore.translate\n}\n\nfunction toggleDictation() {\n  settingStore.dictation = !settingStore.dictation\n}\n\nfunction toggleConciseMode() {\n  settingStore.showToolbar = !settingStore.showToolbar\n  settingStore.showPanel = settingStore.showToolbar\n}\n\nfunction togglePanel() {\n  settingStore.showPanel = !settingStore.showPanel\n}\n\nasync function continueStudy() {\n  setPracticeWordCache(null)\n  let temp = cloneDeep(taskWords.value)\n  let ignoreList = [store.allIgnoreWords, store.knownWords][settingStore.ignoreSimpleWord ? 0 : 1]\n\n  //\n  if (settingStore.wordPracticeMode === WordPracticeMode.Shuffle) {\n    temp.shuffle = shuffle(store.sdict.words.filter(v => !ignoreList.includes(v.word))).slice(\n      0,\n      runtimeStore.routeData.total ?? temp.shuffle.length\n    )\n    if (showStatDialog.value) showStatDialog.value = false\n  } else {\n    //\n    if (!showStatDialog.value) {\n      console.log('')\n      store.sdict.lastLearnIndex = store.sdict.lastLearnIndex + statStore.newWordNumber\n      // \n      const ignoreCount = ignoreList.filter(word => store.sdict.words.some(w => w.word.toLowerCase() === word)).length\n      // lastLearnIndex\n      if (store.sdict.lastLearnIndex + ignoreCount >= store.sdict.length) {\n        store.sdict.complete = true\n        store.sdict.lastLearnIndex = store.sdict.length\n      }\n    } else {\n      console.log('')\n      showStatDialog.value = false\n    }\n\n    temp = getCurrentStudyWord()\n  }\n  emitter.emit(EventKey.resetWord)\n  initData(temp)\n\n  if (AppEnv.CAN_REQUEST) {\n    let res = await setUserDictProp(null, { ...store.sdict, type: 'word' })\n    if (!res.success) {\n      Toast.error(res.msg)\n    }\n  }\n}\n\nasync function jumpToGroup(group: number) {\n  setPracticeWordCache(null)\n  console.log('', group)\n  store.sdict.lastLearnIndex = (group - 1) * store.sdict.perDayStudyNumber\n  emitter.emit(EventKey.resetWord)\n  initData(getCurrentStudyWord())\n\n  if (AppEnv.CAN_REQUEST) {\n    let res = await setUserDictProp(null, { ...store.sdict, type: 'word' })\n    if (!res.success) {\n      Toast.error(res.msg)\n    }\n  }\n}\n\nfunction randomWrite() {\n  console.log('')\n  data.value.words = shuffle(data.value.words)\n  data.value.index = 0\n  settingStore.dictation = true\n}\n\nuseEvents([\n  [EventKey.repeatStudy, repeat],\n  [EventKey.continueStudy, continueStudy],\n  [ShortcutKey.ShowWord, show],\n  [ShortcutKey.Previous, prev],\n  [ShortcutKey.Next, skip],\n  [ShortcutKey.ToggleCollect, collect],\n  [ShortcutKey.ToggleSimple, toggleWordSimpleWrapper],\n  [ShortcutKey.PlayWordPronunciation, play],\n\n  [ShortcutKey.RepeatChapter, repeat],\n  [ShortcutKey.NextChapter, continueStudy],\n  [ShortcutKey.ToggleShowTranslate, toggleTranslate],\n  [ShortcutKey.ToggleDictation, toggleDictation],\n  [ShortcutKey.ToggleTheme, toggleTheme],\n  [ShortcutKey.ToggleConciseMode, toggleConciseMode],\n  [ShortcutKey.TogglePanel, togglePanel],\n  [ShortcutKey.RandomWrite, randomWrite],\n])\n</script>\n\n<template>\n  <PracticeLayout v-loading=\"loading\" panelLeft=\"var(--word-panel-margin-left)\">\n    <template v-slot:practice>\n      <div class=\"practice-word mb-50\">\n        <div\n          class=\"fixed z-1 top-4 w-full\"\n          style=\"left: calc(50vw + var(--aside-width) / 2 - var(--toolbar-width) / 2); width: var(--toolbar-width)\"\n          v-if=\"settingStore.showNearWord\"\n        >\n          <div class=\"center gap-2 cursor-pointer float-left\" @click=\"prev\" v-if=\"prevWord\">\n            <IconFluentArrowLeft16Regular class=\"arrow\" width=\"22\" />\n            <Tooltip :title=\"`(${settingStore.shortcutKeyMap[ShortcutKey.Previous]})`\">\n              <div class=\"word\">{{ prevWord.word }}</div>\n            </Tooltip>\n          </div>\n          <div class=\"center gap-2 cursor-pointer float-right mr-3\" @click=\"next(false)\" v-if=\"nextWord\">\n            <Tooltip :title=\"`(${settingStore.shortcutKeyMap[ShortcutKey.Next]})`\">\n              <div class=\"word\" :class=\"settingStore.dictation && 'word-shadow'\">\n                {{ nextWord.word }}\n              </div>\n            </Tooltip>\n            <IconFluentArrowRight16Regular class=\"arrow\" width=\"22\" />\n          </div>\n        </div>\n        <TypeWord ref=\"typingRef\" :word=\"word\" @wrong=\"onTypeWrong\" @complete=\"next\" @know=\"onWordKnow\" />\n      </div>\n    </template>\n    <template v-slot:panel>\n      <Panel>\n        <template v-slot:title>\n          <div class=\"center gap-1\">\n            <span>{{ store.sdict.name }}</span>\n\n            <GroupList\n              @click=\"jumpToGroup\"\n              v-if=\"taskWords.new.length && settingStore.wordPracticeMode !== WordPracticeMode.Shuffle\"\n            />\n            <BaseIcon\n              v-if=\"\n                taskWords.new.length &&\n                ![WordPracticeMode.Review, WordPracticeMode.Shuffle].includes(settingStore.wordPracticeMode)\n              \"\n              @click=\"continueStudy\"\n              :title=\"`(${settingStore.shortcutKeyMap[ShortcutKey.NextChapter]})`\"\n            >\n              <IconFluentArrowRight16Regular class=\"arrow\" width=\"22\" />\n            </BaseIcon>\n\n            <BaseIcon @click=\"randomWrite\" :title=\"`(${settingStore.shortcutKeyMap[ShortcutKey.RandomWrite]})`\">\n              <IconFluentArrowShuffle16Regular class=\"arrow\" width=\"22\" />\n            </BaseIcon>\n          </div>\n        </template>\n        <div class=\"panel-page-item pl-4\">\n          <WordList\n            v-if=\"data.words.length\"\n            :is-active=\"settingStore.showPanel\"\n            :static=\"false\"\n            :show-word=\"!settingStore.dictation\"\n            :show-translate=\"settingStore.translate\"\n            :list=\"data.words\"\n            :activeIndex=\"data.index\"\n            @click=\"(val: any) => (data.index = val.index)\"\n          >\n          </WordList>\n          <Empty v-else />\n        </div>\n      </Panel>\n    </template>\n    <template v-slot:footer>\n      <Footer\n        :is-simple=\"isWordSimple(word)\"\n        @toggle-simple=\"toggleWordSimpleWrapper\"\n        :is-collect=\"isWordCollect(word)\"\n        @toggle-collect=\"toggleWordCollect(word)\"\n        @skip=\"next(false)\"\n        @skipStep=\"skipStep\"\n      />\n    </template>\n  </PracticeLayout>\n  <Statistics v-model=\"showStatDialog\" />\n  <ConflictNotice v-if=\"showConflictNotice\" />\n</template>\n\n<style scoped lang=\"scss\">\n.practice-wrapper {\n  @apply w-full h-full flex justify-center overflow-hidden;\n}\n\n.practice-word {\n  @apply h-full flex flex-col justify-between items-center relative;\n  width: var(--toolbar-width);\n}\n\n// \n@media (max-width: 768px) {\n  .practice-word {\n    width: 100%;\n\n    .absolute.z-1.top-4 {\n      z-index: 100; // \n\n      .center.gap-2.cursor-pointer {\n        min-height: 44px;\n        min-width: 44px;\n        padding: 0.5rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        .word {\n          pointer-events: none; // \n        }\n\n        .arrow {\n          pointer-events: none; // \n        }\n      }\n    }\n  }\n}\n\n.word-panel-wrapper {\n  position: absolute;\n  left: var(--panel-margin-left);\n  //left: 0;\n  top: 0.8rem;\n  z-index: 1;\n  height: calc(100% - 1.5rem);\n}\n</style>\n"],"version":3}