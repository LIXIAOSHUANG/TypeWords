{"file":"PracticeLayout-bGHxKcR-.js","mappings":"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","names":["_ref","_unref","$t","_push","_parent","_ssrRenderComponent","_createVNode","_createBlock","_isRef","$attrs","_computed","_ssrRenderAttrs","_mergeProps","_ssrRenderClass"],"sources":["../../../../app/components/setting/SettingDialog.vue","../../../../app/components/Panel.vue","../../../../app/components/article/Space.vue","../../../../app/components/ConflictNotice.vue","../../../../app/components/PracticeLayout.vue"],"sourcesContent":["<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\nimport { defineAsyncComponent } from 'vue'\nimport BaseIcon from '@/components/BaseIcon.vue'\nimport CommonSetting from '@/components/setting/CommonSetting.vue'\nimport WordSetting from '@/components/setting/WordSetting.vue'\nimport ArticleSetting from '@/components/setting/ArticleSetting.vue'\nimport { useDisableEventListener } from '~/hooks/event.ts'\n\nconst Dialog = defineAsyncComponent(() => import('@/components/dialog/Dialog.vue'))\n\nconst props = defineProps({\n  type: null\n})\n\nconst tabIndex = _ref(props.type === 'word' ? 1 : 2)\nlet show = _ref(false)\n\nuseDisableEventListener(() => show.value)\n</script>\n\n<template>\n  <Dialog v-model=\"show\" :title=\"$t('settings')\" padding>\n    <div class=\"setting text-lg w-200 h-[60vh] text-md flex flex-col\">\n      <div class=\"flex flex-1 overflow-hidden\">\n        <div class=\"left\">\n          <div class=\"tabs\">\n            <div class=\"tab\" :class=\"tabIndex === 1 && 'active'\" @click=\"tabIndex = 1\" v-if=\"type === 'word'\">\n              <IconFluentTextUnderlineDouble20Regular width=\"20\" />\n              <span>{{ $t('word_settings') }}</span>\n            </div>\n            <div class=\"tab\" :class=\"tabIndex === 2 && 'active'\" @click=\"tabIndex = 2\" v-if=\"type === 'article'\">\n              <IconFluentBookLetter20Regular width=\"20\" />\n              <span>{{ $t('article_settings') }}</span>\n            </div>\n            <div class=\"tab\" :class=\"tabIndex === 0 && 'active'\" @click=\"tabIndex = 0\">\n              <IconFluentSettings20Regular width=\"20\" />\n              <span>{{ $t('general_settings') }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"content\">\n          <CommonSetting v-if=\"tabIndex === 0\" />\n          <WordSetting v-if=\"tabIndex === 1\" />\n          <ArticleSetting v-if=\"tabIndex === 2\" />\n        </div>\n      </div>\n    </div>\n  </Dialog>\n  <BaseIcon\n    :title=\"$t('settings')\"\n    @click=\"\n      show = true;\n      tabIndex = props.type === 'word' ? 1 : 2\n    \"\n  >\n    <IconFluentSettings20Regular />\n  </BaseIcon>\n</template>\n\n<style scoped lang=\"scss\">\n.setting {\n  .left {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    border-right: 2px solid var(--color-line);\n\n    .tabs {\n      padding: 1rem;\n      padding-left: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0.6rem;\n      //color: #0C8CE9;\n\n      .tab {\n        @apply cursor-pointer flex items-center relative;\n        padding: 0.6rem 0.9rem;\n        border-radius: 0.5rem;\n        width: 8rem;\n        gap: 0.6rem;\n        transition: all 0.5s;\n\n        &:hover {\n          background: var(--btn-primary);\n          color: white;\n        }\n\n        &.active {\n          background: var(--btn-primary);\n          color: white;\n        }\n      }\n    }\n  }\n\n  .content {\n    flex: 1;\n    height: 100%;\n    overflow: auto;\n    padding: 0 1.6rem;\n\n    .line {\n      border-bottom: 1px solid #c4c3c3;\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\nimport {computed, provide} from \"vue\"\nimport {useSettingStore} from \"@/stores/setting\";\nimport Close from \"@/components/icon/Close.vue\";\nimport Tooltip from \"@/components/base/Tooltip.vue\";\nimport {ShortcutKey} from \"@/types/enum\";\n\nconst settingStore = useSettingStore()\nlet tabIndex = _ref(0)\nprovide('tabIndex', computed(() => tabIndex.value))\n\n\n</script>\n<template>\n  <Transition name=\"fade\">\n    <div class=\"panel anim\" v-bind=\"$attrs\" v-show=\"settingStore.showPanel\">\n      <header class=\"flex justify-between items-center py-3 px-space\">\n        <div class=\"color-main\">\n          <slot name=\"title\"></slot>\n        </div>\n        <Tooltip\n            :title=\"`${$t('close')}(${settingStore.shortcutKeyMap[ShortcutKey.TogglePanel]})`\"\n        >\n          <Close @click=\"settingStore.showPanel = false\"/>\n        </Tooltip>\n      </header>\n      <div class=\"flex-1 overflow-auto\">\n        <slot></slot>\n      </div>\n    </div>\n  </Transition>\n</template>\n<style scoped lang=\"scss\">\n\n.panel {\n  width: var(--panel-width);\n  background: var(--color-second);\n  @apply shadow-lg flex flex-col h-full rounded-xl;\n}\n\n// 移动端适配\n@media (max-width: 768px) {\n  .panel {\n    width: 90vw;\n    max-width: 400px;\n    max-height: 90vh;\n    height: auto;\n    border-radius: 0.4rem;\n  }\n\n  .panel > div.flex-1 {\n    max-height: calc(90vh - 3.2rem);\n  }\n\n  .panel header {\n    padding: 0.5rem 0.5rem;\n\n    .color-main {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n// 超小屏幕适配\n@media (max-width: 480px) {\n  .panel {\n    width: 95vw;\n    max-height: 94vh;\n  }\n\n  .panel > div.flex-1 {\n    max-height: calc(94vh - 3rem);\n  }\n\n  .panel header {\n    padding: 0.3rem 0.3rem;\n\n    .color-main {\n      font-size: 0.8rem;\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">import { computed as _computed } from 'vue';\n\nimport {useSettingStore} from \"~/stores/setting.ts\";\n\nconst props = defineProps({\n  isWrong: { type: Boolean, default: false },\n  isWait: { type: Boolean },\n  isShake: { type: Boolean, default: false }\n})\nconst settingStore = useSettingStore()\nconst isMoveBottom = _computed(() => {\n  return settingStore.dictation && !props.isWrong\n})\n</script>\n\n<template>\n  <span class=\"word-space wrong\" v-if=\"isWrong\"></span>\n  <span v-bind=\"$attrs\" v-else>\n    <span class=\"word-space wait\"\n          :class=\"[\n           isWait ? 'opacity-100':' opacity-0',\n           isShake ? isMoveBottom ? 'shakeBottom' : 'shake' : '',\n           isMoveBottom && 'to-bottom'\n       ]\"\n    ></span>\n  </span>\n</template>\n\n<style scoped lang=\"scss\">\n.word-space {\n  position: relative;\n  display: inline-block;\n  width: 0.6rem;\n  height: 1.5rem;\n  box-sizing: border-box;\n  margin: 0 1px;\n  border-bottom: 2px solid transparent;\n\n  &.wrong {\n    border-bottom: 2px solid red;\n  }\n\n  &.to-bottom {\n    transform: translateY(0.3rem);\n  }\n\n  &.wait {\n    border-bottom: 2px solid var(--color-article);\n    margin-left: 0.125rem;\n    margin-right: 0.125rem;\n\n    &::after {\n      content: ' ';\n      position: absolute;\n      width: 2px;\n      height: .25rem;\n      background: var(--color-article);\n      bottom: 0;\n      right: 0;\n    }\n\n    &::before {\n      content: ' ';\n      position: absolute;\n      width: 2px;\n      height: .26rem;\n      background: var(--color-article);\n      bottom: 0;\n      left: 0;\n    }\n  }\n}\n\n.shake {\n  border-bottom: 2px solid red !important;\n  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n\n  &::after {\n    background: red !important;\n  }\n\n  &::before {\n    background: red !important;\n  }\n}\n\n.shakeBottom {\n  @extend .shake;\n  animation: shakeBottom 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n}\n\n</style>\n","<script setup lang=\"ts\">import { ref as _ref } from 'vue';\n\nimport { defineAsyncComponent, watch } from 'vue'\nimport { useSettingStore } from '@/stores/setting.ts'\nimport { useDisableEventListener } from '@/hooks/event.ts'\nimport ConflictNoticeText from '@/components/ConflictNoticeText.vue'\n\nconst Dialog = defineAsyncComponent(() => import('@/components/dialog/Dialog.vue'))\n\nlet settingStore = useSettingStore()\nlet show = _ref(false)\n\nwatch(\n  () => settingStore.load,\n  n => {\n    if (n && settingStore.conflictNotice) {\n      setTimeout(() => {\n        show.value = true\n      }, 300)\n    }\n  },\n  { immediate: true }\n)\n\nuseDisableEventListener(() => show.value)\n</script>\n\n<template>\n  <Dialog\n    v-model=\"show\"\n    :title=\"$t('important_notice')\"\n    footer\n    padding\n    :closeOnClickBg=\"false\"\n    :cancel-button-text=\"$t('dont_remind')\"\n    :confirm-button-text=\"$t('close')\"\n    @cancel=\"settingStore.conflictNotice = false\"\n  >\n    <div class=\"w-150 center flex-col color-main\">\n      <ConflictNoticeText />\n    </div>\n  </Dialog>\n</template>\n","<script setup lang=\"ts\">\nimport { useSettingStore } from '@/stores/setting'\n\nconst settingStore = useSettingStore()\ndefineProps({\n  panelLeft: null\n})\n</script>\n\n<template>\n  <div class=\"flex justify-center relative\" :class=\"!settingStore.showToolbar && 'footer-hide'\">\n    <div class=\"wrap\">\n      <slot name=\"practice\"></slot>\n    </div>\n    <div\n      class=\"panel-wrap\"\n      :style=\"{ left: panelLeft }\"\n      :class=\"{ 'has-panel': settingStore.showPanel }\"\n      @click.self=\"settingStore.showPanel = false\"\n    >\n      <slot name=\"panel\"></slot>\n    </div>\n    <div class=\"footer-wrap\">\n      <slot name=\"footer\"></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.wrap {\n  transition: all var(--anim-time);\n}\n\n.footer-hide {\n  .footer-wrap {\n    bottom: -6rem;\n  }\n}\n\n.footer-wrap {\n  position: fixed;\n  bottom: calc(env(safe-area-inset-bottom, 0px));\n  transition: all var(--anim-time);\n  z-index: 999;\n}\n\n.panel-wrap {\n  position: fixed;\n  top: 0.8rem;\n  z-index: 1;\n  height: calc(100vh - 1.8rem);\n}\n\n// 移动端适配\n@media (max-width: 768px) {\n  .wrap {\n    height: calc(100vh - 6rem);\n    width: 100vw;\n    padding: 0 1rem;\n    box-sizing: border-box;\n  }\n\n  .footer-hide {\n    .wrap {\n      height: calc(100vh - 2rem) !important;\n    }\n\n    .footer-wrap {\n      bottom: calc(-10rem + env(safe-area-inset-bottom, 0px));\n    }\n  }\n\n  .footer-wrap {\n    bottom: calc(0.5rem + env(safe-area-inset-bottom, 0px));\n    left: 0.5rem;\n    right: 0.5rem;\n    width: auto;\n  }\n\n  .panel-wrap {\n    position: fixed;\n    top: 0;\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0;\n    height: 100vh;\n    z-index: 1000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 1rem;\n    box-sizing: border-box;\n\n    // 当面板未显示时，禁用指针事件\n    pointer-events: none;\n\n    // 只有当面板显示时才添加背景蒙版并启用指针事件\n    &.has-panel {\n      background: rgba(0, 0, 0, 0.5);\n      pointer-events: auto;\n    }\n  }\n}\n\n// 超小屏幕适配\n@media (max-width: 480px) {\n  .wrap {\n    height: calc(100vh - 5rem);\n    padding: 0 0.5rem;\n  }\n\n  .footer-hide {\n    .wrap {\n      height: calc(100vh - 1.5rem) !important;\n    }\n  }\n\n  .footer-wrap {\n    bottom: calc(0.3rem + env(safe-area-inset-bottom, 0px));\n    left: 0.3rem;\n    right: 0.3rem;\n  }\n\n  .panel-wrap {\n    padding: 0.5rem;\n    left: 0 !important;\n    right: 0 !important;\n  }\n}\n</style>\n"],"version":3}