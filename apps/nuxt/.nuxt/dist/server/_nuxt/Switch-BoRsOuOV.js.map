{"version":3,"file":"Switch-BoRsOuOV.js","sources":["../../../../app/components/base/Switch.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport {ref, computed, watch} from 'vue';\n\ninterface IProps {\n  modelValue: boolean;\n  disabled?: boolean;\n  width?: number;       // 开关宽度，默认 40px\n  activeText?: string;  // 开启状态显示文字\n  inactiveText?: string;// 关闭状态显示文字\n}\n\nconst props = defineProps({\n  modelValue: { type: Boolean },\n  disabled: { type: Boolean },\n  width: null,\n  activeText: { default: '开' },\n  inactiveText: { default: '关' }\n})\n\nconst emit = defineEmits(['update:modelValue', 'change']);\n\nconst isChecked = ref(props.modelValue);\n\nwatch(() => props.modelValue, (val) => {\n  isChecked.value = val;\n});\n\nconst toggle = () => {\n  if (props.disabled) return;\n  isChecked.value = !isChecked.value;\n  emit('update:modelValue', isChecked.value);\n  emit('change', isChecked.value);\n};\n\nconst onKeydown = (e: KeyboardEvent) => {\n  if (e.code === 'Space' || e.key === ' ') {\n    e.preventDefault();\n    toggle();\n  }\n};\n\nconst switchWidth = computed(() => props.width ?? 40);\nconst switchHeight = computed(() => (switchWidth.value / 2) | 0);\nconst ballSize = computed(() => switchHeight.value - 4);\n</script>\n\n<template>\n  <div\n      class=\"switch\"\n      :class=\"{ 'checked': isChecked, 'disabled': disabled }\"\n      :tabindex=\"disabled ? -1 : 0\"\n      role=\"switch\"\n      :aria-checked=\"isChecked\"\n      @click=\"toggle\"\n      @keydown=\"onKeydown\"\n      :style=\"{ width: switchWidth + 'px', height: switchHeight + 'px' ,borderRadius: switchHeight + 'px'}\"\n  >\n    <transition name=\"fade\">\n      <span class=\"text left\" v-if=\"isChecked && activeText\">{{ activeText }}</span>\n    </transition>\n    <div\n        class=\"ball\"\n        :style=\"{\n          width: ballSize + 'px',\n          height: ballSize + 'px',\n          transform: isChecked ? 'translateX(' + (switchWidth - ballSize - 2) + 'px)' : 'translateX(2px)'\n        }\"\n    ></div>\n    <transition name=\"fade\">\n      <span class=\"text right\" v-if=\"!isChecked && inactiveText\">{{ inactiveText }}</span>\n    </transition>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.switch {\n  @apply inline-flex items-center cursor-pointer user-select-none outline-none bg-gray-200 position-relative transition-all duration-300;\n\n\n  &.disabled {\n    @apply cursor-not-allowed opacity-60;\n  }\n\n  &.checked {\n    @apply bg-blue-500;\n  }\n\n  .ball {\n    @apply bg-white rounded-full transition-transform duration-300 box-shadow-sm absolute;\n  }\n\n  .text {\n    @apply absolute text-xs text-white user-select-none;\n    font-size: 0.75rem;\n    &.left {\n      @apply ml-1.5;\n    }\n    &.right {\n      @apply right-1.5;\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAWA,UAAM,QAAQ;AAUd,UAAM,YAAY,IAAI,MAAM,UAAU;AAEtC,UAAM,MAAM,MAAM,YAAY,CAAC,QAAQ;AACrC,gBAAU,QAAQ;AAAA,IACpB,CAAC;AAgBD,UAAM,cAAc,SAAS,MAAM,MAAM,SAAS,EAAE;AACpD,UAAM,eAAe,SAAS,MAAO,YAAY,QAAQ,IAAK,CAAC;AAC/D,UAAM,WAAW,SAAS,MAAM,aAAa,QAAQ,CAAC;;;QAKhD,OAAK,CAAC,UAAQ,EAAA,WACO,UAAA,mBAAuB,QAAA,UAAQ;AAAA,QACnD,UAAU,QAAA,WAAQ,KAAA;AAAA,QACnB,MAAK;AAAA,QACJ,gBAAc,UAAA;AAAA,QAGd,OAAK,EAAA,OAAW,YAAA,QAAW,MAAA,QAAiB,aAAA,4BAAmC,aAAA,QAAY,KAAA;AAAA,MAAA;AAG9D,UAAA,UAAA,SAAa,QAAA,YAAU;wEAAK,QAAA,UAAU,CAAA,SAAA;AAAA;;;;eAIvC,SAAA,QAAQ;AAAA,gBAA2B,SAAA,QAAQ;AAAA,mBAA8B,UAAA,QAAS,iBAAoB,YAAA,QAAc,SAAA,QAAQ,KAAA,QAAA;AAAA,MAAA;AAOzH,UAAA,CAAA,UAAA,SAAa,QAAA,cAAY;yEAAK,QAAA,YAAY,CAAA,SAAA;AAAA;;;;;;;;;;;;;;"}